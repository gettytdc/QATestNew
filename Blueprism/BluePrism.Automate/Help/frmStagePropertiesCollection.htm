<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <link type="text/css" href="AutomateHelp.css" rel="stylesheet" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <title>Stage Properties - Collection</title>
  <script type="text/javascript" src="script/imagezoom.js"></script>
</head>
<body class="slick collections">
  <div class="header">
    <h1 class="pagetitle">Stage Types</h1>
  </div>
  <div class="captioned-image overview-screenshot nozoom">
    <a href="Graphics/collection-stage-fields.png"
      title="Collection Stage - Click for a larger image"><img
      alt="Collection Stage - Click for a larger image"
      src="Graphics/collection-stage-fields.png"/></a>
    <p>Collection Stage</p>
  </div>

  <h3 id="overview">Collection Stage</h3>
  <p>For an overview of the use of collections, see the <a
  href="helpCollections.htm">collections help</a> page; this page is a
  practical guide to completing the properties form of a collection
  stage. The collection properties dialog has a number of fields to
  fill in.</p>

  <div class="section-indent">

    <h3>Name</h3>
    <p>The name that you enter identifies the collection, it will be
    displayed on the process diagram.</p>

    <h3>Description</h3>

    <p>The additional description field allows a lengthier
    narrative to be entered.</p>

    <h3>Fields</h3>

    <p>Add fields to the collection using one of two methods.
    </p>
    <dl class="bulleted">

      <dt id="importfields">Using data from a business object</dt>
      <dd>To add fields using a business object click the <em
      class="buzzword">Import Fields</em> button. For further help
      on this option, see the <a href="#import-fields">Import
      Fields section</a> of this page.</dd>

      <dt>Manually</dt>
      <dd>To manually add fields click the Add Field button as
      many times as the number of fields that you require. After
      each press of the button a field will be added to the
      collection. Next choose a datatype for each field using the
      dropdown menus</dd>

    </dl>

    <h4>Adding fields to nested collections</h4>
    <div class="captioned-image section-screenshot">
      <img src="Graphics/collection-stage-nested-fields.png"
        alt="Nested collection's fields"/>
    </div>
    <p>A collection can contain other collections - in order to
    define the fields in these 'nested' collections manually,
    add a field and choose the datatype 'Collection'. A label
    appears under the <em class="buzzword">Fields</em> column
    indicating that the new collection's fields are <em
    class="buzzword">Not Defined</em>. Select the row and click on
    the link to define the fields for this collection.</p>

    <p>When the fields of a nested collection are being defined,
    a 'breadcrumb trail' appears indicating which collection's
    definition is currently being edited. To return to parent
    collections, their name can be clicked in the breadcrumbs.</p>

    <p>The first name in the breadcrumb trail is the name of the
    collection itself. Clicking this will return to the basic stage
    configuration in which the stage's other attributes can be
    modified too.</p>

    <h3 style="clear:both">Single Row</h3>
    <p>A <a href="helpCollections.htm#singlerow">Single Row</a>
    Collection has exactly one row - you can set a collection (the
    primary one defined in the stage or a nested collection) to be
    single row by ticking the checkbox in the <code>Fields</code>
    tab.</p>
    <p><strong>Note: </strong> If you have added rows for the
    collection, they will be removed until only one remains when
    this tickbox is checked. Conversely, if the collection currently
    has no rows, one will be added.</p>

    <h3>Add Initial Values</h3>

    <p>Optionally you can give the collection a set of initial
    values. To add an initial value click the initial values
    tab. To add new rows to the collections initial value click
    the Add Row button. Each click of the button creates a new
    row. After a row has been added the values can be set by
    clicking the cells within the row.</p>

    <h4>Populating nested collections in the values</h4>
    <div class="captioned-image section-screenshot">
      <img src="Graphics/collection-stage-nested-values-1.png"
        alt="Nested collection's values"/>
    </div>
    <p>If the collection contains other collections, their values
    can be set by selecting the row within the value to be edited
    and clicking on the hyperlink representing the collection.</p>

    <p>If the collection has no data, the link will say <code>No
    Data</code>; if it is empty, <i>ie.</i> it is a collection with
    no rows, it will say <code>Empty</code>. If it has any rows it
    will say <code>Row m of n</code>, where 'm' represents the
    current row of the collection and 'n' represents the total
    number of rows.</p>

    <p>When the row is selected, a button labelled <code>Clear</code>
    will be available. This button will remove the collection,
    <i>ie.</i> reset it to say <code>No Data</code>.</p>

    <div class="captioned-image screenshot">
      <img src="Graphics/collection-stage-nested-values-2.png"
        alt="Nested collection's values"/>
    </div>
    <p>When the values of a nested collection are being edited, a
    'breadcrumb trail' appears indicating which level the values
    are being modified on. To return to parent collections, their
    name can be clicked in the breadcrumbs.</p>

    <p>The first name in the breadcrumb trail is the name of the
    collection itself. Clicking this will return to the basic stage
    configuration in which the stage's other attributes, such as the
    structure of the collection and its nested collections,	can be
    modified too.</p>

    <p>When the dialog is currently navigating the value (initial or
    current value) of a nested collection, the fields tab is
    available for viewing, but the fields are not editable from
    here. In order to edit the fields, the stage itself must be
    navigated to by clicking on the first name in the breadcrumb
    trail.</p>

  </div>
  <div class="clearer"/>

  <div class="captioned-image screenshot">
    <img src="Graphics/collection-stage-importfields.png"
      alt="Import Fields Dialog"/>
  </div>
  <h3 id="import-fields">Importing fields from an action</h3>
  <div class="captioned-image section-screenshot" style="width:100px">
    <img src="Graphics/collection-stage-importbutton.png"
      alt="Import Fields Button"/>
  </div>
  <p>If an action accepts a collection as input, or emits a collection
  as output, the fields defined in that action can be imported into a
  collection stage, by clicking on the <code>Import Fields</code>
  button in the stage properties dialog.</p>
  <p>When activated, a dialog opens which lists all available business
  objects with actions which have defined collections in their
  parameters.</p>
  <p>When an object is chosen, its applicable actions are listed. On
  choosing an action, the parameters with defined collections are
  shown.</p>
  <p>On selecting a parameter, a preview of the fields defined in that
  parameter is displayed. Pressing OK causes the field definitions to
  be transferred to the currently open collection definition.</p>
  <p>Note that a collection definition can be imported into any nested
  collection - not just the topmost collection, so, for example, it is
  possible to have a "web service" collection with the name and URL of
  the web service, and an 'input' collection field with its definition
  imported from the web service business object, and a separate output
  collection with its definition imported from the outputs of the same
  web service business object.</p>

</body>
</html>
