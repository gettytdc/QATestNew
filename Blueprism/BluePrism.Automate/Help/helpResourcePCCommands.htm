<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <link type="text/css" href="AutomateHelp.css" rel="stylesheet" />
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <title>Resource PC Commands</title>
</head>

<body>
    <div class="header">
        <h1 class="pagetitle">Help - Blue Prism Resource PC Commands</h1>
    </div>

   <h2>Overview</h2>
   <p>This document contains a list of commands available when communicating with
   the Blue Prism Resource PC listener. These commands are used by Blue Prism for
   its network communications, and are available to third party clients via an HTTP
   interface.</p>

   <h2>Recommended usage</h2>
   <p>When learning these commands, it is instructive to try them out as you read this
   document. You may do this as follows:</p>
   <ul>
     <li>Start a Blue Prism Resource PC listener using the command:</li>
     <pre class="indented"> automate.exe /public /resourcepc</pre>
     <li>Connect to the listener, using telnet:</li>
     <pre class="indented"> telnet localhost 8181</pre>
     <li>(Tip: if for whatever reason it is not convenient to use the (default) listener
     port of 8181, you may start the listener on a different port using the command line
     switch &quot;/port&quot;. In such cases you should amend the port of your telnet
     connection accordingly).</li>
     <li>Type the command &quot;quit&quot; to close the connection.</li>
   </ul>
<!-- BEGIN AUTO-GENERATED DOCUMENTATION -->
<h2>Command Reference</h2><h4 id="createas">createas</h4><p><strong>Authorisation:</strong> Authed</p><p>Uses token authentication to either create a pending session with given process ID: 'createas &lt;token&gt; &lt;procid&gt;', create pending session for given queue with given process ID: 'createas &lt;token&gt; &lt;procid&gt; &lt;queueident&gt;' or create a pending session using process name: 'createas name &lt;token&gt; &lt;name&gt;'. The response is 'SESSION CREATED : &lt;sessionid&gt; or an error code.</p><h4 id="deleteas">deleteas</h4><p><strong>Authorisation:</strong> Authed</p><p>Uses token authentication to delete a pending session: 'deleteas &lt;token&gt; &lt;sessionid&gt;'. The response is 'SESSION DELETED' or an error code.</p><h4 id="startas">startas</h4><p><strong>Authorisation:</strong> Authed</p><p>Uses token authentication to either start a session running: 'startas &lt;token&gt; &lt;sessionid&gt;' or start the last session created on this connection: 'startas last &lt;token&gt;'. The response is 'STARTED' or an error code.</p><h4 id="getauthtoken">getauthtoken</h4><p><strong>Authorisation:</strong> Any</p><p>Get an authorisation token using the provided credentials. Use 'getauthtoken &lt;userid&gt; &lt;password&gt;' This  method is available for custom solutions designed for secured networks. It is not used by Blue Prism in normal operation.</p><h4 id="action">action</h4><p><strong>Authorisation:</strong> Authed</p><p>Either 'action &lt;sessionid&gt; &lt;actionname&gt;' to run an action on the specified session, or 'action last &lt;actionname&gt;' to run an action on the last session created on this connection. The response is 'STARTED' or an error code.</p><h4 id="availability">availability</h4><p><strong>Authorisation:</strong> AuthedOrLocal</p><p>Reports the current availability of this Resource PC for running more processes. The response is 'AVAILABLITY:level' where 'level' is one of the following four values:</p><p>None - indicates that no process can be run at the moment, because an exclusive process is already running (or pending).</p><p>Background - indicates that only a background process can be run, because there is already a foreground process running (or pending).</p><p>Foreground - indicates that either a background or foreground process can be run, because there are no foreground or exclusive processes running (or pending).</p><p>Exclusive - indicates that any kind of process can be run (including an exclusive process), because there are no processes running (or pending).</p><h4 id="busy">busy</h4><p><strong>Authorisation:</strong> AuthedOrLocal</p><p>Check if there are there any sessions pending/running? Responds yes or no.</p><h4 id="caps">caps</h4><p><strong>Authorisation:</strong> Authed</p><p>Get resource capabilities</p><h4 id="connections">connections</h4><p><strong>Authorisation:</strong> AuthedOrLocal</p><p>Get a list of active connections involving this Resource PC. The list is separated into two sections, labelled INBOUND and OUTBOUND.The inbound list shows connections into this Resource (as remote address and authenticated username) and the outbound list shows connections this Resource has open to other resources (which will be none, unless the Resource is a pool controller).</p><h4 id="controller">controller</h4><p><strong>Authorisation:</strong> Authed</p><p>Signifies that this is a connection from the controller of a pool. This command is used internally between Resource PCs only.</p><h4 id="create">create</h4><p><strong>Authorisation:</strong> Authed</p><p>Either 'create &lt;procid&gt;' to create pending session with given process id, 'create &lt;procid&gt; &lt;queueident&gt;' to create pending session for given queue with given process id or 'create name &lt;name&gt;' to create pending session using process name.The response is 'SESSION CREATED : &lt;session id&gt; or an error code. Use createas instead when the Session Management enforces permissions of controlling user setting is enabled</p><h4 id="delete">delete</h4><p><strong>Authorisation:</strong> Authed</p><p>Delete a pending session - 'delete &lt;sessionid&gt;'. Use deleteas instead when the Session Management enforces permissions of controlling user setting is enabled</p><h4 id="getparams">getparams</h4><p><strong>Authorisation:</strong> Authed</p><p>Use 'getparams &lt;sessionid&gt;' to get the startup parameters used to start a process. The process must have already been started, but it does not necessarily have to be on the Resource from which the request is made. The response is PARAMS: followed by the parameters in XML format, NONE if there were no parameters, or otherwise an error description.</p><h4 id="internalauth">internalauth</h4><p><strong>Authorisation:</strong> Any</p><p>Use 'internalauth &lt;token&gt;' to perform token-based authentication. This uses a single-use token generated and registered with the database to confirm identity of the connecting user, to mitigate sniffing and replay attacks, and to allow direct connection in an AD environment. Blue Prism software only ever uses this method. Non-Blue Prism software can use AutomateC to generate a token.</p><h4 id="members">members</h4><p><strong>Authorisation:</strong> AuthedOrLocal</p><p>List the members of the Pool for which this Resource PC is the controller. Example response:</p><pre>
MEMBERS - 2
9efb8f78-0777-4d28-aaa3-6fbd5da70f36 PC1
21e960d0-140a-488c-b09d-d3d7257bae54 PC2
</pre><p>The reported values are the ID and Name of the Resource.</p><h4 id="outputs">outputs</h4><p><strong>Authorisation:</strong> Authed</p><p>Use 'outputs &lt;sessionid&gt;' (or 'outputs last') to get the output parameters from a process or action that has completed successfully, or the failure reason from one that has failed. When running Business Object Actions, this also sets the object back to idle state, and must be used before another Action is started.The response is 'OUTPUTS:' followed by the output parameters of the completed session, in XML format.</p><h4 id="password">password</h4><p><strong>Authorisation:</strong> Any</p><p>Use 'password &lt;pwd&gt;' to complete authentication after a 'user' command. See the documentation for 'user' for more information.</p><h4 id="ping">ping</h4><p><strong>Authorisation:</strong> AuthedOrLocal</p><p>Returns the message 'pong'. Used for diagnostics.</p><h4 id="pool">pool</h4><p><strong>Authorisation:</strong> Authed</p><p>Determine which pool this resource is a member/controller of. The response will either be 'Not in a pool', 'Controller of &lt;pool name&gt;' or 'Member of &lt;pool name&gt;'.</p><h4 id="proclist">proclist</h4><p><strong>Authorisation:</strong> Authed</p><p>Provides a list of processes which are available to be run. Output is in the form of one process per line, formatted as follows:</p><pre>
xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx - Process One
xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx - Process Two
</pre><p>The value in the first field is the unique identifier of the process. This is used in conjunction with the 'create' command to create a pending session for a process.</p><h4 id="proxyfor">proxyfor</h4><p><strong>Authorisation:</strong> Authed</p><p>Sets the userid that the pool member will run the session as</p><h4 id="quit">quit</h4><p><strong>Authorisation:</strong> Any</p><p>Terminate this session. The client is disconnected. The server continues to run.</p><h4 id="setvar">setvar</h4><p><strong>Authorisation:</strong> Authed</p><p>setvar &lt;sessionid&gt; [&lt;varname&gt;] type "&lt;value&gt;" "&lt;description&gt;"</p><p>Sets the value of a session variable within a session. If the operation is successful, the response is 'SET' - otherwise an error code.</p><h4 id="shutdown">shutdown</h4><p><strong>Authorisation:</strong> AuthedOrLocal</p><p>Shut down the Resource PC. Use optional parameter 'waitforsessions' to wait for any currently running sessions to complete before shutting down. Use the 'loginagent' parameter to ignore the shutdown request if the Resource PC is not used by the Login Agent.</p><h4 id="start">start</h4><p><strong>Authorisation:</strong> Authed</p><p>Either 'start &lt;sessionid&gt;' to start a session running, or 'start last'  to start the last session created on this connection. The response is 'STARTED' or an error code. Use startas instead when the Session Management enforces permissions of controlling user setting is enabled</p><h4 id="startp">startp</h4><p><strong>Authorisation:</strong> Authed</p><p>Set startup parameters to be used for the next session created on this connection. The parameters are given in XML format. The response is 'PARAMETERS SET'.</p><h4 id="status">status</h4><p><strong>Authorisation:</strong> AuthedOrLocal</p><p>Retrieves a list of pending and running sessions on the Resource PC. Output is in the form of one session per line, formatted as follows:</p><pre>
RESOURCE UNIT
- PENDING 9efb8f78-0777-4d28-aaa3-6fbd5da70f36
- PENDING 21e960d0-140a-488c-b09d-d3d7257bae54
Total running: 2
</pre><p>The value in the last field is the unique identifier of the session.</p><h4 id="stop">stop</h4><p><strong>Authorisation:</strong> Authed</p><p>Use 'stop &lt;sessionid&gt;' to stop process running. Optional extra parameters '&lt;userid&gt; &lt;resourceid&gt;' may be specified as a pair if this information is to be logged against session. The resourceid may be replaced by 'name &lt;resource name&gt;'. The response is 'STOPPING' or an error code.</p><h4 id="user">user</h4><p><strong>Authorisation:</strong> Any</p><p>Start username/password-based authentication. Use either 'user &lt;userid&gt;' to set user id, or 'user name &lt;name&gt;' to set user using user name. This must then be followed by the 'password' command to complete the authentication sequence. This authentication method is available for diagnostics and custom solutions designed for secured networks. It is not used by Blue Prism in normal operation.</p><h4 id="userlist">userlist</h4><p><strong>Authorisation:</strong> Authed</p><p>List all users. Users are displayed one per line, in the following format:</p><pre>
xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx - User One
xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx - User Two
</pre><p>The value in the first field is the unique identifier of the user.</p><h4 id="vars">vars</h4><p><strong>Authorisation:</strong> Authed</p><p>Gets all the current session variables and their values for the given session ID. Example response: VARIABLES:2</p><pre>
[CasesWorked] number 212
[Exceptions] number 4
</pre><h4 id="varupdates">varupdates</h4><p><strong>Authorisation:</strong> Authed</p><p>Enable or disable session variable updates. Specify either 'on' or 'off'. The response is 'SET' or an error code.</p><h4 id="version">version</h4><p><strong>Authorisation:</strong> Any</p><p>Get version information - the response is the internal protocol version number.</p>
<!-- END AUTO-GENERATED DOCUMENTATION -->

</body>
</html>
