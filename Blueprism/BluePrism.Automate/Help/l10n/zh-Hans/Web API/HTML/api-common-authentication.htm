<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="zh-hans" xml:lang="en-gb" data-mc-search-type="Stem" data-mc-help-system-file-name="Blue Prism Help.xml" data-mc-path-to-help-system="../../" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="[%=System.LinkedTitle%]">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>通用身份验证</title>
        <link type="text/css" href="../../AutomateHelp.css" rel="stylesheet" />
		<link href="../../TableStyles/bp_footer_tablestyle.css" rel="stylesheet" />
		<link href="../../TableStyles/bp-table-column-header.css" rel="stylesheet" />
        <link href="../../TableStyles/bp-table-row-header.css" rel="stylesheet" />
    </head>
    <body>
        <h1 class="pagebreak">通用身份验证</h1>
        <p>在 API 请求需要身份验证以发送和接收信息的情况下，系统可以配置特定于身份验证类型的凭据。Blue Prism 支持对 API 请求使用以下身份验证类型：</p>
        <ul>
            <li class="bullet_1" value="1"><a href="#Basic">基本</a>
            </li>
            <li class="bullet_1" value="2"><a href="#Bearer">持有者令牌</a>
            </li>
            <li class="bullet_1" value="3"><a href="#OAuth">OAuth 2.0（客户端凭据）</a>
            </li>
            <li class="bullet_1" value="4"><a href="#OAuth2">OAuth 2.0（JWT 持有者令牌）</a>
            </li>
            <li class="bullet_1" value="5"><a href="#Custom">自定义</a>
            </li>
        </ul>
        <p><a href="../Images/api-auth-type.png"><img data-mc-width="606" data-mc-height="272" src="../Images/api-auth-type_thumb_0_128.png" tabindex=""/></a>
        </p>
        <p>凭据用于存储向 Web API 发出通过身份验证的请求所需的数据。适用于上述身份验证类型的凭据在<a href="web-api-credentials.htm">凭据管理器</a>中创建，然后用于对向 Web API 发出的任何请求进行身份验证。在 API 定义中选择的凭据用于所有关联的操作。但是，在向流程公开时，可以在指定为输入参数时使用备用凭据。</p>
        <p>在下面的示例中，已在 API 定义中将<i>地址凭据</i>选择为所有关联操作的默认凭据，但未在 Object Studio 和 Process Studio 的操作输入中指定备用值。</p>
        <p><a href="../Images/api-select-credential.png"><img data-mc-width="682" data-mc-height="225" src="../Images/api-select-credential_thumb_0_128.png" tabindex=""/></a>
        </p>
        <p class="pagebreak">考虑到已选择“向流程公开”<b></b>，相关的输入参数可用于流程。备用凭据的名称已在输入参数中指定，并在调用 API 时使用。</p>
        <p><a href="../Images/api-alternative-credential.png"><img data-mc-width="605" data-mc-height="286" src="../Images/api-alternative-credential_thumb_0_128.png" tabindex=""/></a>
        </p>
        <h2>身份验证类型</h2>
        <p>可以在 Web API 定义中配置以下身份验证类型：</p>
        <h3>无</h3>
        <p class="bullet_1">API 不需要身份验证。</p>
        <h3><a name="Basic"></a>基本</h3>
        <p class="bullet_1">使用 HTTP 基本身份验证发送来自请求标头中选定凭据的用户名和密码。如有需要，并且如果受 API 支持，请选中“预先发送授权标头”<b></b>复选框。预先授权直接使用 HTTP 请求发送基本身份验证响应，而不是在响应未经授权的响应时发送。</p>
        <p class="continue">从下拉列表中选择所需的凭据。如有需要，选择“向流程公开”<b></b>并输入参数名称。</p>
        <h3><a name="OAuth"></a>OAuth 2.0（客户端凭据）</h3>
        <p>使用客户端 ID 和密钥向授权服务器发出请求。如果凭据有效，则返回用于对 API 请求进行身份验证的访问令牌。</p>
        <p>使用以下字段配置身份验证类型：</p>
        <ul>
            <li class="bullet_1" value="1"><b>授权 URI</b>—授权服务器的地址。</li>
            <li class="bullet_1" value="2"><b>凭据</b>—凭据管理器中凭据的名称，其中包含用于从授权服务器获取访问令牌的客户端 ID 和客户端密钥</li>
            <li class="bullet_1" value="3"><b>参数名称</b>—如果向对象和流程公开身份验证，这是操作的输入参数名称。</li>
            <li class="bullet_1" value="4"><b>范围</b>—令牌允许的授权服务器请求的访问级别。</li>
        </ul>
        <h3 class="pagebreak"><a name="OAuth2"></a>OAuth 2.0（JWT 持有者令牌）</h3>
        <p>此凭据类型是一种使用 JSON Web 令牌 (JWT) 进行身份验证的 OAuth 2.0 身份验证形式，而不是像标准 OAuth 2.0 一样提供客户端 ID 和密钥。指定请求信息方及信息预期用途的请求数据将作为已签名的 JWT 发送到授权服务器。如果 JWT 有效，服务器将返回用于对 API 请求进行身份验证的访问令牌。</p>
        <p>以下字段用于创建请求。</p>
        <ul>
            <li class="bullet_1" value="1"><b>算法</b>—用于对 JWT 进行签名的算法。目前仅支持 RSA SHA-256 算法类型。</li>
            <li class="bullet_1" value="2"><b>授权 URI</b>—授权服务器的地址。</li>
            <li class="bullet_1" value="3"><b>目标读者</b>—用于将授权服务器标识为令牌的预期接收者。</li>
            <li class="bullet_1" value="4"><b>范围</b>—令牌允许的授权服务器请求的访问级别。</li>
            <li class="bullet_1" value="5"><b>主题</b>—主题通常标识正在为其请求访问令牌的用户。可以在此字段中使用参数。</li>
            <li class="bullet_1" value="6"><b>JWT 到期</b>—在此字段中的时间之后，授权服务器将不接受令牌。</li>
            <li class="bullet_1" value="7"><b>凭据</b>—在凭据管理器中配置，并用于对请求进行身份验证的凭据。</li>
            <li class="bullet_1" value="8"><b>参数名称</b>—如果向对象和流程公开身份验证，这是操作的输入参数名称。</li>
        </ul>
        <h3><a name="Bearer"></a>持有者令牌</h3>
        <p>此凭据类型适用于已获得令牌并需要在授权标头中发送的情况。这可以用于支持 Blue Prism 使用不同方法（如代码环节）来获取令牌的情况。</p>
        <p>令牌存储在凭据中，并在 API 定义中引用。在请求标头中使用时，令牌以下列格式传递：</p>
        <p class="code_sample">Authorization:Bearer &lt;AccessToken&gt;</p>
        <p>例如，<code>Authorization:Bearer FGRS5-PUUDW-NBC2Q-96UYR-QBDSY</code></p>
        <h3><a name="Custom"></a>自定义</h3>
        <p>自定义凭据允许在 Blue Prism 中使用定制的身份验证方法。例如，自定义凭据可用于使用 API 密钥或订阅密钥（安全地存储在凭据的密码字段中）进行身份验证。存储在凭据管理器中的凭据可以作为参数传递到 API 请求中，并且可用在请求正文、标头或 URL 中。</p>
        <p class="bullet_1">有关如何使用自定义凭据的详细信息，请参阅<a href="api-custom-credentials.htm#Custom">自定义凭据</a>。</p>
        <p>&#160;</p>
        <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../TableStyles/bp_footer_tablestyle.css');" class="TableStyle-bp_footer_tablestyle" cellspacing="0">
            <col class="TableStyle-bp_footer_tablestyle-Column-Column1" />
            <tbody>
                <tr class="TableStyle-bp_footer_tablestyle-Body-Body1">
                    <td class="TableStyle-bp_footer_tablestyle-BodyD-Column1-Body1">&#160;</td>
                </tr>
                <tr class="TableStyle-bp_footer_tablestyle-Body-Body1">
                    <td style="text-align: center;" class="TableStyle-bp_footer_tablestyle-BodyD-Column1-Body1">机密商业信息</td>
                </tr>
                <tr class="TableStyle-bp_footer_tablestyle-Body-Body1">
                    <td style="text-align: center;" class="TableStyle-bp_footer_tablestyle-BodyA-Column1-Body1">®Blue Prism 是 Blue Prism Limited 的注册商标</td>
                </tr>
            </tbody>
        </table>
    </body>
</html>