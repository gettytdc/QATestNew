<process name="API - DELETE workqueues" version="1.0" bpversion="7.0.0.39730" narrative="" byrefcollection="true" preferredid="51fcc7a3-dfdc-40b8-bfb6-ec24911d78a3">
  <view>
    <camerax>61</camerax>
    <cameray>-39</cameray>
    <zoom version="2">1.25</zoom>
  </view>
  <preconditions />
  <endpoint narrative="" />
  <subsheet subsheetid="35f91c3b-5954-4b39-a829-e2d0d782e6dc" type="Normal" published="False">
    <name>Setup</name>
    <view>
      <camerax>18</camerax>
      <cameray>225</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="245c0200-8280-482b-8ee6-926d07a81234" type="Normal" published="False">
    <name>Invalid work queue Id format used</name>
    <view>
      <camerax>100</camerax>
      <cameray>45</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="bffe12d3-0f66-4692-896b-37cc4d49daea" type="Normal" published="False">
    <name>Attempt to Delete non existant work queue</name>
    <view>
      <camerax>103</camerax>
      <cameray>30</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="af98e3f8-93f8-48e4-ac3f-c7f19e977255" type="Normal" published="False">
    <name>Attempt to Delete a work queue with work items</name>
    <view>
      <camerax>-145</camerax>
      <cameray>-39</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="1b8b73b9-1150-4af8-a7b5-5b46f8786b21" type="Normal" published="False">
    <name>Attempt to Delete an existing work queue with no work items</name>
    <view>
      <camerax>217</camerax>
      <cameray>60</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="04892ada-c0d2-40ae-887f-4a12189c354b" type="Normal" published="False">
    <name>Attempt to Delete a work queue with running sessions</name>
    <view>
      <camerax>326</camerax>
      <cameray>0</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="88a58c26-ffa4-4445-bab4-cf7c367c09e6" type="Normal" published="False">
    <name>Request Delete with BP User Role with insufficent access rights</name>
    <view>
      <camerax>326</camerax>
      <cameray>0</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="6d9f523a-0dc3-443b-b327-aec1c22924c8" type="Normal" published="False">
    <name>Check BP Thick Client</name>
    <view>
      <camerax>-74</camerax>
      <cameray>720</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <stage stageid="016950bb-a5d1-4456-a814-71d35ea2adf7" name="Start" type="Start">
    <display x="15" y="-300" />
    <onsuccess>2ebeaadc-1e97-40ed-82ec-9572e9a42d0d</onsuccess>
  </stage>
  <stage stageid="9187ec68-5469-4cbc-947f-c1fbabead65a" name="End" type="End">
    <display x="15" y="240" />
  </stage>
  <stage stageid="49cd41ed-e111-4765-b556-1d13e9e4b846" name="Stage1" type="ProcessInfo">
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="18bb9664-d13f-4a8b-a14c-7acf76f6ee74" name="Setup" type="SubSheetInfo">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <display x="-255" y="-1080" w="150" h="90" />
  </stage>
  <stage stageid="6af46955-eacf-42f8-9395-42cba5f02bf0" name="Start" type="Start">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <display x="15" y="-1275" />
    <onsuccess>c03b7c4b-d3d1-406f-9900-b6aef02b070e</onsuccess>
  </stage>
  <stage stageid="857ad051-afa4-4844-9e9c-f735b143f54b" name="End" type="End">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <display x="15" y="330" />
  </stage>
  <stage stageid="a1f3141b-9554-49a3-84b3-3929072d42b2" name="Data to populate API-DELETE 2(BP-648) workqueue" type="Collection">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <display x="-255" y="-975" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
    <collectioninfo>
      <field name="Test data" type="number" />
    </collectioninfo>
    <initialvalue>
      <row>
        <field name="Test data" type="number" value="14854" />
      </row>
    </initialvalue>
  </stage>
  <stage stageid="2c902870-6905-4ad8-9641-eef948f1dd73" name="Work Queues::Add To Queue" type="Action">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <narrative>The Data collection contains the items to be added to the queue. The collection may contain single or multiple rows, with each representing an item to be added.

If there is a failure during the process, the queue will be unchanged - i.e. no rows will be loaded even if the error occurred on the last one.

If Defer Until is specified, the items will not be available to be worked until then. Otherwise, they are available immediately.

If the queue has a key field defined, an item added has key data longer than the maximum permitted 255 characters, an error will occur</narrative>
    <display x="15" y="225" />
    <inputs>
      <input type="text" name="Queue Name" friendlyname="Queue Name" narrative="The name of the queue to add items to" expr="[Queue 2]" />
      <input type="collection" name="Data" friendlyname="Data" narrative="A collection containing the data, one row for each item to be added" expr="[Data to populate API-DELETE 2(BP-648) workqueue]" />
      <input type="datetime" name="Defer Until" friendlyname="Defer Until" narrative="Optionally, the date/time the new item(s) should be deferred until" expr="" />
      <input type="number" name="Priority" friendlyname="Priority" narrative="Optionally, the priority for the new item(s). Lower numbers represent higher priorities. The default is 0." expr="" />
      <input type="text" name="Tags" friendlyname="Tags" narrative="Optionally, a semi-colon-separated set of tags to apply to the queue item(s)" expr="" />
      <input type="text" name="Status" friendlyname="Status" narrative="Optionally, the initial status required of the work queue item(s) " expr="" />
      <input type="number" name="Batch Size" friendlyname="Batch Size" narrative="Optionally, the batch size to use when adding many items to the queue.  A Value of 0 will process all items in one batch.  An empty field will use the default batch size of 1000." expr="">
        <validator type="BluePrism.AutomateProcessCore.RangeParameterValidation" parameter="0:25000" />
      </input>
    </inputs>
    <outputs>
      <output type="collection" name="Item IDs" friendlyname="Item IDs" narrative="The IDs of the items which have been added to the queue, in the order of the collection of data passed that was input" stage="" />
    </outputs>
    <onsuccess>857ad051-afa4-4844-9e9c-f735b143f54b</onsuccess>
    <resource object="Blueprism.Automate.clsWorkQueuesActions" action="Add To Queue" />
  </stage>
  <stage stageid="a7cd6f3c-36aa-4cba-8bcf-94068f0cb1f4" name="Queue 1" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-225" y="-15" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">API-DELETE 1(BP-648)</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="1a27ac45-4513-407d-861c-ebae13007ffb" name="Attempt to Delete a work queue with work items" type="SubSheetInfo">
    <subsheetid>af98e3f8-93f8-48e4-ac3f-c7f19e977255</subsheetid>
    <display x="-495" y="-90" w="150" h="90" />
  </stage>
  <stage stageid="abfc8081-c581-48f3-8379-28b562508515" name="Start" type="Start">
    <subsheetid>af98e3f8-93f8-48e4-ac3f-c7f19e977255</subsheetid>
    <display x="15" y="-300" />
    <onsuccess>ad72c91f-7797-447d-9d36-f40fbf3a9cef</onsuccess>
  </stage>
  <stage stageid="cfea4ef0-8434-4462-a997-9389c5bbacf6" name="End" type="End">
    <subsheetid>af98e3f8-93f8-48e4-ac3f-c7f19e977255</subsheetid>
    <display x="15" y="195" />
  </stage>
  <stage stageid="c88f2b22-5faa-415f-9bc7-96529dbed6a5" name="Blue Prism API::DELETE Work Queues" type="Action">
    <subsheetid>af98e3f8-93f8-48e4-ac3f-c7f19e977255</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-60" />
    <inputs>
      <input type="text" name="queueId" friendlyname="queueId" expr="[Queue 2 Id]" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>63c3221f-aa75-48de-9680-14652021234e</onsuccess>
    <resource object="Blue Prism - API - Work Queues" action="DELETE Work Queues" />
  </stage>
  <stage stageid="732400ee-52cf-44ca-97b2-521bbd414e51" name="Was a http status code of 409 returned?" type="Decision">
    <subsheetid>af98e3f8-93f8-48e4-ac3f-c7f19e977255</subsheetid>
    <display x="15" y="105" />
    <decision expression="InStr(ExceptionDetail(), &quot;Unexpected error Error during Web API HTTP Request&quot;)&lt;&gt;0&#xA;AND&#xA;InStr(ExceptionDetail(), &quot;HTTP Status Code: 409&quot;)&lt;&gt;0&#xA;AND&#xA;InStr(ExceptionDetail(), &quot;HTTP Response Content: &quot;&quot;The operation could not be completed because the queue 'API-DELETE 2(BP-648)' is not empty&quot;&quot;&quot;)&lt;&gt;0" />
    <ontrue>712e3ba8-99c1-4d4e-8986-ea51a1791642</ontrue>
    <onfalse>611ac65e-a421-44d1-9156-0951dd15fc8c</onfalse>
  </stage>
  <stage stageid="611ac65e-a421-44d1-9156-0951dd15fc8c" name="The http status code was not a 409 as expected" type="Exception">
    <subsheetid>af98e3f8-93f8-48e4-ac3f-c7f19e977255</subsheetid>
    <display x="105" y="105" />
    <exception localized="yes" type="Incorrect status code" detail="&quot;Attempted to delete a work queue that contained work items via the api. And were expecting a 409 status response code. That was not what was returned from the api.&quot;&amp;ExceptionDetail()" />
  </stage>
  <stage stageid="45adc7cd-3df9-4512-86b7-7331f4b42b18" name="Block1" type="Block">
    <subsheetid>af98e3f8-93f8-48e4-ac3f-c7f19e977255</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-165" y="-165" w="360" h="180" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="52b92034-e572-4f5f-b350-4456a2cfa604" name="Recover from the exception recorded after attempting to delete a work queue with work items" type="Recover">
    <subsheetid>af98e3f8-93f8-48e4-ac3f-c7f19e977255</subsheetid>
    <loginhibit />
    <display x="15" y="-15" />
    <onsuccess>deebaad6-78c2-42d2-b7b6-7b140eb51339</onsuccess>
  </stage>
  <stage stageid="2ebeaadc-1e97-40ed-82ec-9572e9a42d0d" name="Setup" type="SubSheet">
    <loginhibit onsuccess="true" />
    <display x="15" y="-255" />
    <onsuccess>98487710-cc3c-4db4-8694-fafb815a349c</onsuccess>
    <processid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</processid>
  </stage>
  <stage stageid="b6d413a7-660b-483b-bf71-66ffa16417b6" name="Attempt to Delete a work queue with work items" type="SubSheet">
    <loginhibit onsuccess="true" />
    <display x="15" y="-120" w="90" h="30" />
    <onsuccess>a1316ca0-2e65-4180-80cf-b2a0553bece9</onsuccess>
    <processid>af98e3f8-93f8-48e4-ac3f-c7f19e977255</processid>
  </stage>
  <stage stageid="712e3ba8-99c1-4d4e-8986-ea51a1791642" name="Resume testing, following the negative scenatio of  attempting to delete a work queue with work items" type="Resume">
    <subsheetid>af98e3f8-93f8-48e4-ac3f-c7f19e977255</subsheetid>
    <loginhibit />
    <display x="15" y="150" />
    <onsuccess>cfea4ef0-8434-4462-a997-9389c5bbacf6</onsuccess>
  </stage>
  <stage stageid="213c8b12-14d4-4557-9b5b-a258ed27f06f" name="Attempt to Delete non existant work queue" type="SubSheetInfo">
    <subsheetid>bffe12d3-0f66-4692-896b-37cc4d49daea</subsheetid>
    <display x="-285" y="-120" w="150" h="90" />
  </stage>
  <stage stageid="83ba032e-da80-4fbc-8dd0-d3016be02758" name="Attempt to Delete an existing work queue with no work items" type="SubSheetInfo">
    <subsheetid>1b8b73b9-1150-4af8-a7b5-5b46f8786b21</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="c6e060e1-6ab0-4322-82a2-02736ed45435" name="Attempt to Delete a work queue with running sessions" type="SubSheetInfo">
    <subsheetid>04892ada-c0d2-40ae-887f-4a12189c354b</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="3d6f7b6a-d84b-4bb0-86e9-d5165a32a816" name="Start" type="Start">
    <subsheetid>04892ada-c0d2-40ae-887f-4a12189c354b</subsheetid>
    <display x="15" y="-105" />
    <onsuccess>dcca425a-560e-44a8-bb21-88e4cde3dce9</onsuccess>
  </stage>
  <stage stageid="dcca425a-560e-44a8-bb21-88e4cde3dce9" name="End" type="End">
    <subsheetid>04892ada-c0d2-40ae-887f-4a12189c354b</subsheetid>
    <display x="15" y="90" />
  </stage>
  <stage stageid="db48c561-eae0-4d23-823d-38672eeb50e2" name="Request Delete with BP User Role with insufficent access rights" type="SubSheetInfo">
    <subsheetid>88a58c26-ffa4-4445-bab4-cf7c367c09e6</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="105bbe35-a6ab-4e0b-885f-ea158e713533" name="Start" type="Start">
    <subsheetid>88a58c26-ffa4-4445-bab4-cf7c367c09e6</subsheetid>
    <display x="15" y="-105" />
    <onsuccess>e60339d6-eeb9-4561-87e3-f0c62ccb3f1e</onsuccess>
  </stage>
  <stage stageid="e60339d6-eeb9-4561-87e3-f0c62ccb3f1e" name="End" type="End">
    <subsheetid>88a58c26-ffa4-4445-bab4-cf7c367c09e6</subsheetid>
    <display x="15" y="90" />
  </stage>
  <stage stageid="4ff63d3c-66c7-448b-8957-2574801d7189" name="Start" type="Start">
    <subsheetid>bffe12d3-0f66-4692-896b-37cc4d49daea</subsheetid>
    <display x="45" y="-300" />
    <onsuccess>4a451346-a48a-43d2-af59-4efefc872d3b</onsuccess>
  </stage>
  <stage stageid="873a6d6b-90bc-449d-ad01-102d2ef8b178" name="End" type="End">
    <subsheetid>bffe12d3-0f66-4692-896b-37cc4d49daea</subsheetid>
    <display x="45" y="270" />
  </stage>
  <stage stageid="ade25dee-5df7-4919-80bf-6752f632fe9c" name="Blue Prism API::DELETE Work Queues" type="Action">
    <subsheetid>bffe12d3-0f66-4692-896b-37cc4d49daea</subsheetid>
    <loginhibit onsuccess="true" />
    <narrative>5fcd6027-ea6e-4401-b0f1-1e65d3a48199
11111111-1111-1111-1111-111111111111</narrative>
    <display x="45" y="-15" />
    <inputs>
      <input type="text" name="queueId" friendlyname="queueId" expr="[Non existant word queue Id]" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>5382e030-0008-40f1-b95c-6a35d8e4e42a</onsuccess>
    <resource object="Blue Prism - API - Work Queues" action="DELETE Work Queues" />
  </stage>
  <stage stageid="72c395ae-375a-4ded-b1e3-e4fd4bc346cc" name="Was a http status code of 404 returned?" type="Decision">
    <subsheetid>bffe12d3-0f66-4692-896b-37cc4d49daea</subsheetid>
    <display x="45" y="180" />
    <decision expression="InStr(ExceptionDetail(), &quot;Unexpected error Error during Web API HTTP Request&quot;)&lt;&gt;0&#xA;AND&#xA;InStr(ExceptionDetail(), &quot;HTTP Status Code: 404&quot;)&lt;&gt;0&#xA;AND&#xA;InStr(ExceptionDetail(), &quot;HTTP Response Content: &quot;&quot;The queue with id '11111111-1111-1111-1111-111111111111' was not found&quot;&quot;&quot;)&lt;&gt;0" />
    <ontrue>dbae8269-57a6-468c-aa1f-300e7ec1f263</ontrue>
    <onfalse>445cbf9a-d6b3-4df6-806a-3adede12a6cd</onfalse>
  </stage>
  <stage stageid="445cbf9a-d6b3-4df6-806a-3adede12a6cd" name="The http status code was not a 404 as expected" type="Exception">
    <subsheetid>bffe12d3-0f66-4692-896b-37cc4d49daea</subsheetid>
    <display x="135" y="180" />
    <exception localized="yes" type="Incorrect status code" detail="&quot;Attempted to delete a work queue that contained work items via the api. And were expecting a 409 status response code. That was not what was returned from the api.&quot;&amp;ExceptionDetail()" />
  </stage>
  <stage stageid="580cbe25-3588-44c1-883a-3e1814175b95" name="Block1" type="Block">
    <subsheetid>bffe12d3-0f66-4692-896b-37cc4d49daea</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-120" y="-135" w="330" h="195" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="69a7a712-3d4f-48ef-92c5-bd31769c006c" name="Recoever from exception for the negative test scenario of attempting to delete a non existant work queue" type="Recover">
    <subsheetid>bffe12d3-0f66-4692-896b-37cc4d49daea</subsheetid>
    <loginhibit />
    <display x="45" y="30" />
    <onsuccess>1710cf7f-584c-4526-9405-2c9f6072598c</onsuccess>
  </stage>
  <stage stageid="dbae8269-57a6-468c-aa1f-300e7ec1f263" name="Resume testing following the negative test scenario of attempting to delete a non existant work queue" type="Resume">
    <subsheetid>bffe12d3-0f66-4692-896b-37cc4d49daea</subsheetid>
    <loginhibit />
    <display x="45" y="225" />
    <onsuccess>873a6d6b-90bc-449d-ad01-102d2ef8b178</onsuccess>
  </stage>
  <stage stageid="fcc7dcdb-6d0c-4dde-9569-475491a42341" name="Start" type="Start">
    <subsheetid>1b8b73b9-1150-4af8-a7b5-5b46f8786b21</subsheetid>
    <display x="150" y="-315" />
    <onsuccess>4d58cd88-58fe-43fa-8e42-a01e6a28b3d2</onsuccess>
  </stage>
  <stage stageid="495952ab-ea7f-4030-bf86-99d513048bd1" name="End" type="End">
    <subsheetid>1b8b73b9-1150-4af8-a7b5-5b46f8786b21</subsheetid>
    <display x="150" y="240" />
  </stage>
  <stage stageid="a5b5f39f-54e4-4aa9-9224-6e69fdff6e66" name="Blue Prism API::DELETE Work Queues" type="Action">
    <subsheetid>1b8b73b9-1150-4af8-a7b5-5b46f8786b21</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="150" y="-60" />
    <inputs>
      <input type="text" name="queueId" friendlyname="queueId" expr="[Queue 1 Id]" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Status Code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>b900ab1a-dc86-41b7-b8db-410197a1a6b1</onsuccess>
    <resource object="Blue Prism - API - Work Queues" action="DELETE Work Queues" />
  </stage>
  <stage stageid="0ce67a5e-c2cf-4efe-a239-88739646c6a8" name="Was a http status code of 204 returned?" type="Decision">
    <subsheetid>1b8b73b9-1150-4af8-a7b5-5b46f8786b21</subsheetid>
    <display x="150" y="120" />
    <decision expression="[HTTP Status Code]=&quot;204&quot;" />
    <ontrue>495952ab-ea7f-4030-bf86-99d513048bd1</ontrue>
    <onfalse>d7c2ac5d-f7e4-4f0f-9ffc-f2ab1c991f60</onfalse>
  </stage>
  <stage stageid="d7c2ac5d-f7e4-4f0f-9ffc-f2ab1c991f60" name="The http status returned was not a 204 as expected" type="Exception">
    <subsheetid>1b8b73b9-1150-4af8-a7b5-5b46f8786b21</subsheetid>
    <display x="255" y="120" />
    <exception localized="yes" type="Incorrect status code" detail="&quot;Attempted to delete a work queue that contained no work items items via the api. And were expecting a 204 status response code. That was not what was returned from the api.&quot;&amp;[HTTP Status Code]" />
  </stage>
  <stage stageid="5382e030-0008-40f1-b95c-6a35d8e4e42a" name="Exception recorded after attempting to delete a non existant work queue" type="Exception">
    <subsheetid>bffe12d3-0f66-4692-896b-37cc4d49daea</subsheetid>
    <display x="135" y="-15" />
    <exception localized="yes" type="Bug" detail="&quot;The DELETE of a non existant work queue was successful, and it should not of been&quot;" />
  </stage>
  <stage stageid="63c3221f-aa75-48de-9680-14652021234e" name="Exception recorded after attempting to delete a work queue with work items" type="Exception">
    <subsheetid>af98e3f8-93f8-48e4-ac3f-c7f19e977255</subsheetid>
    <display x="105" y="-60" />
    <exception localized="yes" type="Bug" detail="&quot;The DELETE of an existing work queue with items was successful, and it should not of been&quot;" />
  </stage>
  <stage stageid="d50f1299-d131-443b-ad2b-d2159b1b0267" name="HTTP Status Code" type="Data">
    <subsheetid>1b8b73b9-1150-4af8-a7b5-5b46f8786b21</subsheetid>
    <display x="75" y="120" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="e6cbf3e8-7f1e-44d0-a40a-a319f7b154ab" name="Check BP Thick Client" type="SubSheetInfo">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <display x="-240" y="-165" w="150" h="90" />
  </stage>
  <stage stageid="0377dca7-e958-4379-bf2b-efa85dbd4d8d" name="Start" type="Start">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <display x="15" y="-525" />
    <onsuccess>db508c7d-af5e-4c16-9681-7c19791d59e3</onsuccess>
  </stage>
  <stage stageid="c86ce2ac-5f52-4b74-a8da-c0d10c6c8e3c" name="Get Audit Log" type="Action">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <display x="15" y="-165" w="90" h="30" />
    <inputs>
      <input type="date" name="Audit Date" friendlyname="Audit Date" narrative="Date for the Audit to View" expr="Today()" />
    </inputs>
    <outputs>
      <output type="collection" name="Audit Log Table" friendlyname="Audit Log Table" narrative="Contents of the Audit Log Viewer" stage="Audit Log Table" />
    </outputs>
    <onsuccess>391507b0-a236-4b15-84bd-da5d749db687</onsuccess>
    <resource object="Blue Prism - System - Audit" action="Get View Log Content for Audit Log" />
  </stage>
  <stage stageid="0df3103a-4227-4814-a67a-1c84d1aa96b0" name="Audit Log Table" type="Collection">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <display x="-240" y="90" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="87925b75-d87a-4ae5-94e6-ea9d43bbf6a9" name="Narrative" type="Data">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <display x="-240" y="-75" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">The user 'Service Account' deleted the queue 'API-DELETE 1(BP-648)'</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="ddf35596-18b9-44dc-a3cb-4a5ccbc624b4" name="Input Variable" type="Block">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <display x="-315" y="-105" w="150" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="abe6d400-c78c-4221-9f77-83d4fa1a6d5b" name="Local Variable" type="Block">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <display x="-315" y="60" w="165" h="210" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="811bfc81-9ee7-4a19-abd9-d4b6c4418cd1" name="Audit Log Loop" type="LoopStart">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <display x="15" y="-30" w="90" h="30" />
    <onsuccess>47b8c670-9989-4191-9a11-731b23ab7144</onsuccess>
    <groupid>5a45348e-1aa2-4ac8-80ad-0efe90d48f46</groupid>
    <looptype>ForEach</looptype>
    <loopdata>Audit Log Table</loopdata>
  </stage>
  <stage stageid="8b9ff7ce-4b8e-451d-820d-60fbea50fe1c" name="Audit Log Loop" type="LoopEnd">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <display x="15" y="105" w="90" h="30" />
    <onsuccess>8d56f02b-f25e-4626-a038-c2bcafac19d3</onsuccess>
    <groupid>5a45348e-1aa2-4ac8-80ad-0efe90d48f46</groupid>
  </stage>
  <stage stageid="26f8a20a-e52f-4ec4-8f19-11f14a0373ab" name="Audit Entry Present?" type="Decision">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <display x="15" y="60" w="90" h="30" />
    <decision expression="[Audit Log Table.Narrative]=[Narrative]&#xA;AND&#xA;[Audit Time]&gt;=[Time]" />
    <ontrue>8486beb8-11c1-4dcb-ba0e-87d757285a28</ontrue>
    <onfalse>8b9ff7ce-4b8e-451d-820d-60fbea50fe1c</onfalse>
  </stage>
  <stage stageid="90f5ec09-a73c-4f0b-91c9-e23e9a0df0c6" name="End1" type="End">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <display x="15" y="900" />
  </stage>
  <stage stageid="ff60c658-ee92-47b1-a306-28107f3111ab" name="Browse to Audit Log" type="Action">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <display x="15" y="-210" w="90" h="30" />
    <inputs>
      <input type="text" name="Tree Name" friendlyname="Tree Name" narrative="Name of the tree to be extended." expr="&quot;Audit&quot;" />
      <input type="text" name="Item Name" friendlyname="Item Name" narrative="Name of the item to be clicked on." expr="&quot;Audit Logs&quot;" />
      <input type="text" name="Sub Item Name" friendlyname="Sub Item Name" narrative="Name of the sub item to be clicked on." expr="" />
      <input type="flag" name="Select Item Method?" friendlyname="Select Item Method?" narrative="True by Default. Selects the node from system tab using Select Item approach. If the node is not available (Greyed out) an exception will be thrown. Use this method if you are certain the node is available for selection." expr="" />
      <input type="flag" name="Retry MouseClick?" friendlyname="Retry MouseClick?" narrative="Default to True. Retries Global Mouse Click up to 3 times." expr="" />
      <input type="flag" name="Clean Up?" friendlyname="Clean Up?" narrative="False by Default. Set True if clean up is required at the beginning of the Action." expr="" />
    </inputs>
    <onsuccess>c86ce2ac-5f52-4b74-a8da-c0d10c6c8e3c</onsuccess>
    <resource object="Blue Prism - System - Basic Actions" action="Click Item From System Tree" />
  </stage>
  <stage stageid="d8f0a9d2-4fcc-415f-b035-78128a8adaf4" name="Time" type="Data">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <display x="-240" y="-30" w="120" h="30" />
    <datatype>time</datatype>
    <initialvalue />
  </stage>
  <stage stageid="47b8c670-9989-4191-9a11-731b23ab7144" name="Cast Time" type="Calculation">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <display x="15" y="15" w="90" h="30" />
    <onsuccess>26f8a20a-e52f-4ec4-8f19-11f14a0373ab</onsuccess>
    <calculation expression="[Audit Log Table.Time (Local)]" stage="Audit Time" />
  </stage>
  <stage stageid="a32639fe-b026-462d-81b8-cdc021ea88f9" name="Audit Time" type="Data">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <display x="-240" y="120" w="120" h="30" />
    <datatype>time</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="8486beb8-11c1-4dcb-ba0e-87d757285a28" name="Anchor1" type="Anchor">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <display x="135" y="60" w="10" h="10" />
    <onsuccess>2ce8a543-cd50-49ee-8f5c-16dad83c7855</onsuccess>
  </stage>
  <stage stageid="2ce8a543-cd50-49ee-8f5c-16dad83c7855" name="Anchor2" type="Anchor">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <display x="135" y="195" w="10" h="10" />
    <onsuccess>8faf2fab-7938-4013-896c-82bbafac5699</onsuccess>
  </stage>
  <stage stageid="8d56f02b-f25e-4626-a038-c2bcafac19d3" name="Expected Audit Log Entry not found" type="Exception">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <display x="15" y="150" />
    <exception localized="yes" type="Audit Log Entry not found" detail="&quot;The expected Audit Log Entry detailing the deletion of the work queue API-DELETE 1(BP-648), was not found within the Audit Log&quot;" />
  </stage>
  <stage stageid="f0b5d37e-07d0-40e6-a24b-d7dab63aa962" name="Get Time" type="Calculation">
    <subsheetid>1b8b73b9-1150-4af8-a7b5-5b46f8786b21</subsheetid>
    <display x="150" y="-195" w="90" h="30" />
    <onsuccess>276938b4-6fbb-4cbe-bef6-cbeb4f44121a</onsuccess>
    <calculation expression="UTCTime()" stage="Time" />
  </stage>
  <stage stageid="eafc593d-7589-4f60-8d36-24cad6a0a2f3" name="Global Variables" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-270" y="-45" w="150" h="180" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="98487710-cc3c-4db4-8694-fafb815a349c" name="Attempt to Delete non existant work queue" type="SubSheet">
    <loginhibit onsuccess="true" />
    <display x="15" y="-210" w="90" h="30" />
    <onsuccess>3440456c-87e7-4e92-840c-c8be3950f320</onsuccess>
    <processid>bffe12d3-0f66-4692-896b-37cc4d49daea</processid>
  </stage>
  <stage stageid="a1316ca0-2e65-4180-80cf-b2a0553bece9" name="Attempt to Delete an existing work queue with no work items" type="SubSheet">
    <loginhibit onsuccess="true" />
    <display x="15" y="-75" w="90" h="30" />
    <onsuccess>d1d823ab-ca4e-49fc-bce2-6b25031abcc8</onsuccess>
    <processid>1b8b73b9-1150-4af8-a7b5-5b46f8786b21</processid>
  </stage>
  <stage stageid="d1d823ab-ca4e-49fc-bce2-6b25031abcc8" name="Attempt to Delete a work queue with running sessions" type="SubSheet">
    <loginhibit onsuccess="true" />
    <display x="15" y="-30" w="90" h="30" />
    <onsuccess>00bb9044-5b15-4455-aa17-11a01d65573a</onsuccess>
    <processid>04892ada-c0d2-40ae-887f-4a12189c354b</processid>
  </stage>
  <stage stageid="00bb9044-5b15-4455-aa17-11a01d65573a" name="Request Delete with BP User Role with insufficent access rights" type="SubSheet">
    <loginhibit onsuccess="true" />
    <display x="15" y="30" w="90" h="30" />
    <onsuccess>91deaf6f-fa89-4f15-ba8a-56f4b79d93f2</onsuccess>
    <processid>88a58c26-ffa4-4445-bab4-cf7c367c09e6</processid>
  </stage>
  <stage stageid="6a9b346c-174a-40d0-80db-5f76d266135a" name="Browse to System" type="Action">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <display x="15" y="-255" w="90" h="30" />
    <inputs>
      <input type="text" name="Tab Name" friendlyname="Tab Name" narrative="Name of Tab to Click" expr="&quot;System&quot;" />
    </inputs>
    <onsuccess>ff60c658-ee92-47b1-a306-28107f3111ab</onsuccess>
    <resource object="Blue Prism - Basic Actions" action="Go to Tab" />
  </stage>
  <stage stageid="86e3c2db-84ad-4a24-b93f-8c485d4f8022" name="Queue 2" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-225" y="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">API-DELETE 2(BP-648)</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="823f2f9a-628e-49dd-b7fe-8dc0d6ab8556" name="Queue 1 Id" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-165" y="-15" />
    <datatype>text</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="3a05ff55-8e5c-4cda-b915-207673783b2c" name="Queue 2 Id" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-165" y="30" />
    <datatype>text</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="cf6ff327-5001-4fd5-9159-29d2f16bc524" name="Non existant word queue Id" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-225" y="75" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">11111111-1111-1111-1111-111111111111</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="047a7ec7-deea-4be3-bfbd-87008bd3939b" name="Invalid work queue Id format used" type="SubSheetInfo">
    <subsheetid>245c0200-8280-482b-8ee6-926d07a81234</subsheetid>
    <display x="-360" y="-135" w="150" h="90" />
  </stage>
  <stage stageid="fbb376a1-162b-429a-bc61-d1cc2165e656" name="Start" type="Start">
    <subsheetid>245c0200-8280-482b-8ee6-926d07a81234</subsheetid>
    <display x="-45" y="-300" />
    <onsuccess>54a78f87-50f6-43bf-b2c9-021a31a5a40a</onsuccess>
  </stage>
  <stage stageid="bfa0cf41-045b-4221-a8af-1d54b41f7d96" name="End" type="End">
    <subsheetid>245c0200-8280-482b-8ee6-926d07a81234</subsheetid>
    <display x="-45" y="285" />
  </stage>
  <stage stageid="e50a7a51-4ddc-4bc0-add4-e9da056084e0" name="Blue Prism API::DELETE Work Queues" type="Action">
    <subsheetid>245c0200-8280-482b-8ee6-926d07a81234</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="-15" />
    <inputs>
      <input type="text" name="queueId" friendlyname="queueId" expr="[Invalid Work queue Id format]" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>e3971efc-777c-4f11-a6d6-f36326d7d28d</onsuccess>
    <resource object="Blue Prism - API - Work Queues" action="DELETE Work Queues" />
  </stage>
  <stage stageid="ddf81715-14a4-4311-af3a-221cbd9147b0" name="Was the exception a http code of 400 as expected?" type="Decision">
    <subsheetid>245c0200-8280-482b-8ee6-926d07a81234</subsheetid>
    <display x="-45" y="195" />
    <decision expression="InStr(ExceptionDetail(), &quot;Unexpected error Error during Web API HTTP Request&quot;)&lt;&gt;0&#xA;AND&#xA;InStr(ExceptionDetail(), &quot;HTTP Status Code: 400&quot;)&lt;&gt;0&#xA;AND&#xA;InStr(ExceptionDetail(), &quot;The request is invalid.&quot;)&lt;&gt;0" />
    <ontrue>29c028a0-f034-4171-ab35-c4f3768cfc24</ontrue>
    <onfalse>bd276f60-b86c-4ee7-84b1-f138b7483e56</onfalse>
  </stage>
  <stage stageid="bd276f60-b86c-4ee7-84b1-f138b7483e56" name="The http code was not a 400 as expected. " type="Exception">
    <subsheetid>245c0200-8280-482b-8ee6-926d07a81234</subsheetid>
    <display x="45" y="195" />
    <exception localized="yes" type="Incorrect status code" detail="&quot;Attempted to delete a work queue using an invalid GUID format. The exception returned was not as expected.&quot;&amp;ExceptionDetail()" />
  </stage>
  <stage stageid="bdd21e02-910a-40a9-8feb-63c12cacb6db" name="Block1" type="Block">
    <subsheetid>245c0200-8280-482b-8ee6-926d07a81234</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-210" y="-165" w="345" h="255" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="106f7a23-b9d4-4eff-b2af-5bedb527e595" name="Recover from negative test scenario, attempting to delete work queue using an incorrect guid format" type="Recover">
    <subsheetid>245c0200-8280-482b-8ee6-926d07a81234</subsheetid>
    <loginhibit />
    <display x="-45" y="45" w="90" h="30" />
    <onsuccess>893a054c-2f49-44ba-89bb-e38339fc2981</onsuccess>
  </stage>
  <stage stageid="29c028a0-f034-4171-ab35-c4f3768cfc24" name="Resume testing after attempting to delete work queue using an incorrect guid format" type="Resume">
    <subsheetid>245c0200-8280-482b-8ee6-926d07a81234</subsheetid>
    <loginhibit />
    <display x="-45" y="240" />
    <onsuccess>bfa0cf41-045b-4221-a8af-1d54b41f7d96</onsuccess>
  </stage>
  <stage stageid="e3971efc-777c-4f11-a6d6-f36326d7d28d" name="Exception recorded after attempting to delete work queue using an incorrect guid format" type="Exception">
    <subsheetid>245c0200-8280-482b-8ee6-926d07a81234</subsheetid>
    <display x="45" y="-15" />
    <exception localized="yes" type="Bug" detail="&quot;The request to delete a work queue using an invlaid format for the GUID threw an unexpected exception&quot;" />
  </stage>
  <stage stageid="de65c60d-4077-4b94-92fd-199d0eaeca90" name="Invalid Work queue Id format" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-165" y="75" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">11-111-asdf-qwerty</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="3440456c-87e7-4e92-840c-c8be3950f320" name="Invalid work queue Id format used" type="SubSheet">
    <loginhibit onsuccess="true" />
    <display x="15" y="-165" w="90" h="30" />
    <onsuccess>b6d413a7-660b-483b-bf71-66ffa16417b6</onsuccess>
    <processid>245c0200-8280-482b-8ee6-926d07a81234</processid>
  </stage>
  <stage stageid="91deaf6f-fa89-4f15-ba8a-56f4b79d93f2" name="Check BP Thick Client" type="SubSheet">
    <loginhibit onsuccess="true" />
    <display x="15" y="90" w="90" h="30" />
    <onsuccess>c3985190-fc79-4f16-b2b6-0162b8a91383</onsuccess>
    <processid>6d9f523a-0dc3-443b-b327-aec1c22924c8</processid>
  </stage>
  <stage stageid="cb3e0f51-9b16-4ce1-b6c8-776fd5a77185" name="Blue Prism - System - Workflow::Work Queue Exists?" type="Action">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="360" w="90" h="30" />
    <inputs>
      <input type="number" name="Match Index" friendlyname="Match Index" narrative="Default to 1" expr="" />
      <input type="text" name="Queue Name" friendlyname="Queue Name" narrative="Queue Name" expr="[Queue 1]" />
    </inputs>
    <outputs>
      <output type="flag" name="Queue Exists?" friendlyname="Queue Exists?" narrative="False if Queue does not exist." stage="Queue Exists?" />
    </outputs>
    <onsuccess>9a56549c-b2e8-40c5-9b5d-53aa92c8e005</onsuccess>
    <resource object="Blue Prism - System - Workflow" action="Work Queue Exists?" />
  </stage>
  <stage stageid="e1e6479f-1f7e-42d6-b46e-148f8c99d92c" name="Queue Exists?" type="Data">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <display x="-240" y="165" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue>False</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="9a56549c-b2e8-40c5-9b5d-53aa92c8e005" name="Queue WAS found?" type="Decision">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <display x="15" y="405" />
    <decision expression="[Queue Exists?]=True" />
    <ontrue>e75794b0-8664-4839-9457-479d1ad3179e</ontrue>
    <onfalse>eb3af855-eae6-4986-a85d-078052ae522b</onfalse>
  </stage>
  <stage stageid="e75794b0-8664-4839-9457-479d1ad3179e" name="The work queue was present within system tab when it should not of been" type="Exception">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <display x="105" y="405" />
    <exception localized="yes" type="Bug" detail="&quot;The expectation is that the work Queue should of been deleted and so not found when checking the thick client. The work queue was found in the system tab&quot;" />
  </stage>
  <stage stageid="eb3af855-eae6-4986-a85d-078052ae522b" name="Blue Prism - Basic Actions::Go to Tab" type="Action">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="495" w="90" h="30" />
    <inputs>
      <input type="text" name="Tab Name" friendlyname="Tab Name" narrative="Name of Tab to Click" expr="&quot;Control&quot;" />
    </inputs>
    <onsuccess>97cafbd2-3b42-4bfe-b4fe-f881ef5063d6</onsuccess>
    <resource object="Blue Prism - Basic Actions" action="Go to Tab" />
  </stage>
  <stage stageid="97cafbd2-3b42-4bfe-b4fe-f881ef5063d6" name="Blue Prism - Control Room (Parent)::Attach to Pid" type="Action">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="540" w="90" h="30" />
    <inputs>
      <input type="number" name="pid" friendlyname="pid" narrative="PID to attach to" expr="[pid]" />
    </inputs>
    <onsuccess>0a3d4ef9-c15f-4380-af61-118bc32f9c19</onsuccess>
    <resource object="Blue Prism - Control Room (Parent)" action="Attach to Pid" />
  </stage>
  <stage stageid="0a3d4ef9-c15f-4380-af61-118bc32f9c19" name="Blue Prism - Control - Basic Actions::Click Item From Control's Left Tree (Select Item)" type="Action">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="660" w="90" h="30" />
    <inputs>
      <input type="text" name="Control Item to Click" friendlyname="Control Item to Click" narrative="Control Item to click in left hand side control Tree" expr="[Queue 1]" />
    </inputs>
    <onsuccess>00edf82b-f3ad-4e5c-82f3-071bb53917fa</onsuccess>
    <resource object="Blue Prism - Control - Basic Actions" action="Click Item From Control's Left Tree (Select Item)" />
  </stage>
  <stage stageid="92433830-1418-4bf5-b9e3-7e0969d90147" name="Block2" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-75" y="-270" w="405" h="390" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="f1dad730-2423-4103-be57-a10047faf91b" name="Exception - why test failed" type="MultipleCalculation">
    <loginhibit onsuccess="true" />
    <display x="255" y="-195" />
    <onsuccess>c5bd0de4-fd44-4bca-9c00-4d0df6b88588</onsuccess>
    <steps>
      <calculation expression="True" stage="Test failed" />
      <calculation expression="ExceptionDetail()" stage="Test Exception" />
    </steps>
  </stage>
  <stage stageid="e575da54-720a-47f1-9089-8bb603db8cc9" name="Exception of Test" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-270" y="150" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="84054286-56e8-4fcc-8b82-0887c1a4064e" name="Test failed" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-225" y="180" />
    <datatype>flag</datatype>
    <initialvalue>False</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="2c113070-f44c-47fc-9686-46406a8978e2" name="Test Exception" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-225" y="225" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="c5bd0de4-fd44-4bca-9c00-4d0df6b88588" name="Resume from exception on main page" type="Resume">
    <loginhibit />
    <display x="255" y="-150" />
    <onsuccess>4c95bf35-8251-4e28-91dc-824013923d44</onsuccess>
  </stage>
  <stage stageid="4c95bf35-8251-4e28-91dc-824013923d44" name="Anchor5" type="Anchor">
    <loginhibit onsuccess="true" />
    <display x="255" y="150" w="10" h="10" />
    <onsuccess>c3985190-fc79-4f16-b2b6-0162b8a91383</onsuccess>
  </stage>
  <stage stageid="54a78f87-50f6-43bf-b2c9-021a31a5a40a" name="Given" type="Note">
    <subsheetid>245c0200-8280-482b-8ee6-926d07a81234</subsheetid>
    <narrative>Given: that a request to delete a work queue is submitted to the api ,</narrative>
    <display x="-45" y="-225" w="330" h="60" />
    <onsuccess>1de9831b-739e-44ed-b76d-88b01961a817</onsuccess>
  </stage>
  <stage stageid="1de9831b-739e-44ed-b76d-88b01961a817" name="When" type="Note">
    <subsheetid>245c0200-8280-482b-8ee6-926d07a81234</subsheetid>
    <narrative>When:  The request contains an non Guid format. The expected format being a text string xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx </narrative>
    <display x="-45" y="-120" w="210" h="60" />
    <onsuccess>e50a7a51-4ddc-4bc0-add4-e9da056084e0</onsuccess>
  </stage>
  <stage stageid="893a054c-2f49-44ba-89bb-e38339fc2981" name="Then" type="Note">
    <subsheetid>245c0200-8280-482b-8ee6-926d07a81234</subsheetid>
    <narrative>Then: A Status 400 code should be returned</narrative>
    <display x="-45" y="120" w="210" h="30" />
    <onsuccess>ddf81715-14a4-4311-af3a-221cbd9147b0</onsuccess>
  </stage>
  <stage stageid="4a451346-a48a-43d2-af59-4efefc872d3b" name="Given" type="Note">
    <subsheetid>bffe12d3-0f66-4692-896b-37cc4d49daea</subsheetid>
    <narrative>Given: that a request to delete a work queue is submitted to the api ,</narrative>
    <display x="45" y="-210" w="330" h="60" />
    <onsuccess>be188b8e-228d-4d25-aa9e-e3a31e992964</onsuccess>
  </stage>
  <stage stageid="be188b8e-228d-4d25-aa9e-e3a31e992964" name="When" type="Note">
    <subsheetid>bffe12d3-0f66-4692-896b-37cc4d49daea</subsheetid>
    <narrative>When:  The request contains a GUID of a valid format, but of one that does not exist in the database</narrative>
    <display x="45" y="-75" w="330" h="60" />
    <onsuccess>ade25dee-5df7-4919-80bf-6752f632fe9c</onsuccess>
  </stage>
  <stage stageid="1710cf7f-584c-4526-9405-2c9f6072598c" name="Then" type="Note">
    <subsheetid>bffe12d3-0f66-4692-896b-37cc4d49daea</subsheetid>
    <narrative>Then: A Status 404 code should be returned</narrative>
    <display x="45" y="90" w="330" h="30" />
    <onsuccess>72c395ae-375a-4ded-b1e3-e4fd4bc346cc</onsuccess>
  </stage>
  <stage stageid="ad72c91f-7797-447d-9d36-f40fbf3a9cef" name="Given" type="Note">
    <subsheetid>af98e3f8-93f8-48e4-ac3f-c7f19e977255</subsheetid>
    <narrative>Given: that a request to delete a work queue is submitted to the api ,</narrative>
    <display x="15" y="-240" w="330" h="60" />
    <onsuccess>32e5130f-2228-4ce9-8c9b-c7bbaeaf9248</onsuccess>
  </stage>
  <stage stageid="32e5130f-2228-4ce9-8c9b-c7bbaeaf9248" name="When" type="Note">
    <subsheetid>af98e3f8-93f8-48e4-ac3f-c7f19e977255</subsheetid>
    <narrative>When:  The request contains a GUID of a valid format, of one that does exist in the database, But that work queue contains work items</narrative>
    <display x="15" y="-120" w="330" h="60" />
    <onsuccess>c88f2b22-5faa-415f-9bc7-96529dbed6a5</onsuccess>
  </stage>
  <stage stageid="deebaad6-78c2-42d2-b7b6-7b140eb51339" name="Then" type="Note">
    <subsheetid>af98e3f8-93f8-48e4-ac3f-c7f19e977255</subsheetid>
    <narrative>Then: A Status 409 code should be returned</narrative>
    <display x="15" y="45" w="330" h="30" />
    <onsuccess>732400ee-52cf-44ca-97b2-521bbd414e51</onsuccess>
  </stage>
  <stage stageid="4d58cd88-58fe-43fa-8e42-a01e6a28b3d2" name="Given" type="Note">
    <subsheetid>1b8b73b9-1150-4af8-a7b5-5b46f8786b21</subsheetid>
    <narrative>Given: that a request to delete a work queue is submitted to the api ,</narrative>
    <display x="150" y="-255" w="330" h="60" />
    <onsuccess>f0b5d37e-07d0-40e6-a24b-d7dab63aa962</onsuccess>
  </stage>
  <stage stageid="276938b4-6fbb-4cbe-bef6-cbeb4f44121a" name="When" type="Note">
    <subsheetid>1b8b73b9-1150-4af8-a7b5-5b46f8786b21</subsheetid>
    <narrative>When:  The request contains a GUID of a valid format, of one that does exist in the database and contains no work items</narrative>
    <display x="150" y="-120" w="330" h="60" />
    <onsuccess>a5b5f39f-54e4-4aa9-9224-6e69fdff6e66</onsuccess>
  </stage>
  <stage stageid="b900ab1a-dc86-41b7-b8db-410197a1a6b1" name="Then" type="Note">
    <subsheetid>1b8b73b9-1150-4af8-a7b5-5b46f8786b21</subsheetid>
    <narrative>Then: A Status 204 code should be returned</narrative>
    <display x="150" y="60" w="330" h="30" />
    <onsuccess>0ce67a5e-c2cf-4efe-a239-88739646c6a8</onsuccess>
  </stage>
  <stage stageid="db508c7d-af5e-4c16-9681-7c19791d59e3" name="Given" type="Note">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <narrative>Given: That a request to delete a work queue was submitted to the api</narrative>
    <display x="15" y="-465" w="240" h="60" />
    <onsuccess>86071e55-4647-4c4a-8730-2653ffcf6587</onsuccess>
  </stage>
  <stage stageid="86071e55-4647-4c4a-8730-2653ffcf6587" name="When:" type="Note">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <narrative>When: That request was successful</narrative>
    <display x="15" y="-390" w="240" h="30" />
    <onsuccess>ee369ede-5959-426d-8069-08ae0c7d2e56</onsuccess>
  </stage>
  <stage stageid="391507b0-a236-4b15-84bd-da5d749db687" name="Then 1" type="Note">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <narrative>Then: There should be an audit log detailing the work queues being deleted</narrative>
    <display x="15" y="-90" w="240" h="60" />
    <onsuccess>811bfc81-9ee7-4a19-abd9-d4b6c4418cd1</onsuccess>
  </stage>
  <stage stageid="9788771c-5787-4e49-873a-c8b8b3b41111" name="Then 2:" type="Note">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <narrative>Then: The work queue should not exist within the work queues displayed upon the control tab</narrative>
    <display x="15" y="225" w="210" h="30" />
    <onsuccess>764def8e-d4d9-41d2-acf5-3922620ae534</onsuccess>
  </stage>
  <stage stageid="8faf2fab-7938-4013-896c-82bbafac5699" name="Anchor6" type="Anchor">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="195" w="10" h="10" />
    <onsuccess>9788771c-5787-4e49-873a-c8b8b3b41111</onsuccess>
  </stage>
  <stage stageid="08231cb0-9207-42d3-9e2a-56f03982b940" name="Adding work queue items" type="Note">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <narrative>The 2 work queues added via a release as part of the test. Obtain each work queues ID from the database. And add work queues items to one of the work queues</narrative>
    <display x="15" y="135" w="240" h="60" />
    <onsuccess>2c902870-6905-4ad8-9641-eef948f1dd73</onsuccess>
  </stage>
  <stage stageid="82c4d0bb-d89a-4251-a7d5-d01e28814d4b" name="Add work queue items to the queue API-DELETE 2(BP-648)" type="Block">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-30" y="180" w="345" h="90" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="9454f52e-729c-4b66-a563-860af572ebc1" name="Response Content" type="Data">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <display x="-285" y="-900" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="92a3e2ed-2e79-428e-913d-b13f06e9eb1f" name="HTTP Status Code" type="Data">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <display x="-285" y="-870" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="8b678cec-6031-44b2-9ade-2a1efd6f5556" name="Response Headers" type="Collection">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <display x="-225" y="-900" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="531f8822-d6cb-4345-bd9d-40e9fc21ae8b" name="Convert Response to Collection" type="Action">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-675" w="120" h="30" />
    <inputs>
      <input type="text" name="json" friendlyname="json" expr="[Response Content]" />
    </inputs>
    <outputs>
      <output type="collection" name="Result" friendlyname="Result" stage="Default Result Collection" />
    </outputs>
    <onsuccess>3673c42f-f687-4ae9-8743-ab3eacf37bbf</onsuccess>
    <resource object="Utility - JSON" action="JSON to Collection" />
  </stage>
  <stage stageid="d3ce9aef-f086-490e-aa42-259f6aab375f" name="Expected HTTP Status Code" type="Data">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-285" y="-765" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">200</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="65ce48c3-f3e1-421e-ba49-a510ee9fc7f7" name="Response Code as Expected?" type="Decision">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <display x="15" y="-555" w="120" h="30" />
    <decision expression="[HTTP Status Code]=[Expected HTTP Status Code]" />
    <ontrue>51edd2b2-ed72-4e8f-af73-00413b2c56eb</ontrue>
    <onfalse>51cccc15-f51c-454f-bb47-bb2679a392aa</onfalse>
  </stage>
  <stage stageid="51cccc15-f51c-454f-bb47-bb2679a392aa" name="Incorrect HTTP Status Code Response" type="Exception">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <display x="120" y="-555" />
    <exception localized="yes" type="Response Code Error" detail="&quot;It was expected that HTTP status code &quot;&amp;[Expected HTTP Status Code]&amp;&quot; would be returned. Actual returned HTTP status code was: &quot;&amp;[HTTP Status Code]" />
  </stage>
  <stage stageid="929fdb68-3a45-4652-865d-9e913f482b3d" name="Result Collection" type="Collection">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <display x="-225" y="-870" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
    <collectioninfo>
      <field name="JSON:Array" type="collection">
        <field name="id" type="text" />
        <field name="name" type="text" />
        <field name="isRunning" type="flag" />
        <field name="keyField" type="text" />
        <field name="maxAttempts" type="number" />
        <field name="isEncrypted" type="flag" />
        <field name="encryptionKeyId" type="number" />
        <field name="pendingItemCount" type="number" />
        <field name="completedItemCount" type="number" />
        <field name="exceptionedItemCount" type="number" />
        <field name="totalItemCount" type="number" />
        <field name="averageWorkTime" type="text" />
        <field name="totalCaseDuration" type="text" />
        <field name="processId" type="text" />
        <field name="resourceGroupId" type="text" />
        <field name="targetSessionCount" type="number" />
        <field name="lockedItemCount" type="number" />
        <field name="groupName" type="text" />
        <field name="groupId" type="text" />
        <field name="status" type="text" />
      </field>
    </collectioninfo>
    <initialvalue>
      <row>
        <field name="JSON:Array" type="collection" />
      </row>
      <row>
        <field name="JSON:Array" type="collection" />
      </row>
    </initialvalue>
  </stage>
  <stage stageid="51edd2b2-ed72-4e8f-af73-00413b2c56eb" name="1st Result" type="LoopStart">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-465" w="120" h="30" />
    <onsuccess>bb62868b-58bb-4e07-8e62-dadb1be9eaf0</onsuccess>
    <groupid>bf9ea969-6bdd-482f-87a5-38a89db712ca</groupid>
    <looptype>ForEach</looptype>
    <loopdata>Result Collection</loopdata>
  </stage>
  <stage stageid="430d21cd-5471-4993-bed2-2a63c6e5d1e6" name="1st Result" type="LoopEnd">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-285" w="120" h="30" />
    <onsuccess>a7034e86-c5fd-43cf-b665-150fa98866a9</onsuccess>
    <groupid>bf9ea969-6bdd-482f-87a5-38a89db712ca</groupid>
  </stage>
  <stage stageid="bb62868b-58bb-4e07-8e62-dadb1be9eaf0" name="Loop Start1" type="LoopStart">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-420" w="120" h="30" />
    <onsuccess>ffb6ab0b-0daf-4304-97dd-b236b1d97f42</onsuccess>
    <groupid>57c6a61e-6b36-4be5-8b4c-12ca459d97b6</groupid>
    <looptype>ForEach</looptype>
    <loopdata>Result Collection.JSON:Array</loopdata>
  </stage>
  <stage stageid="2a816a77-4c70-4b60-8ecb-d6981fe429e8" name="Loop End1" type="LoopEnd">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-330" w="120" h="30" />
    <onsuccess>430d21cd-5471-4993-bed2-2a63c6e5d1e6</onsuccess>
    <groupid>57c6a61e-6b36-4be5-8b4c-12ca459d97b6</groupid>
  </stage>
  <stage stageid="ffb6ab0b-0daf-4304-97dd-b236b1d97f42" name="Check my queue name is returned" type="Decision">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <display x="15" y="-375" w="120" h="30" />
    <decision expression="[Result Collection.JSON:Array.name]=[Queue 1]" />
    <ontrue>58038cf6-114d-4495-884f-058181eac07d</ontrue>
    <onfalse>2a816a77-4c70-4b60-8ecb-d6981fe429e8</onfalse>
  </stage>
  <stage stageid="a7034e86-c5fd-43cf-b665-150fa98866a9" name="Queue Not Found" type="Exception">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <display x="120" y="-285" />
    <exception localized="yes" type="Queue Name Exception" detail="&quot;The Expected Queue, &quot;&amp;[Queue 1]&amp;&quot; was not returned. Instead &quot;&amp;[Result Collection.JSON:Array.Name]&amp;&quot; was returned.&quot;" />
  </stage>
  <stage stageid="2dcd7a9a-2b6e-412e-ab1e-60160dce5193" name="API Response Data" type="Block">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-330" y="-930" w="150" h="120" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="334006c2-2465-4236-aa98-6edb720f496f" name="Expected Response Code" type="Block">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-330" y="-795" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="34ddec46-aaf8-41c6-a49d-8f2a9b12d430" name="Make API Call and Collect Response Data" type="Block">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-135" y="-735" w="300" h="135" />
    <font family="Segoe UI" size="10" style="Regular" color="99CC00" />
  </stage>
  <stage stageid="8b6842f0-441a-4aea-812a-7d347d4d464c" name="Check if correct Response received" type="Block">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-135" y="-585" w="300" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="FFFF00" />
  </stage>
  <stage stageid="2248099d-d9e8-4f6a-adb3-818f7470f7ae" name="Obtain ID of Work Queue 1" type="Block">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-135" y="-495" w="300" h="285" />
    <font family="Segoe UI" size="10" style="Regular" color="CC99FF" />
  </stage>
  <stage stageid="05f33677-84a3-4188-ac3b-90c00b0d2565" name="1st Result" type="LoopStart">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-180" w="120" h="30" />
    <onsuccess>fed38020-482c-4890-9644-90160e195e83</onsuccess>
    <groupid>9fac4999-868f-4f03-b249-42bea977e577</groupid>
    <looptype>ForEach</looptype>
    <loopdata>Result Collection</loopdata>
  </stage>
  <stage stageid="e4ff3a80-59d4-442f-85cb-62d3dfa39024" name="1st Result" type="LoopEnd">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="0" w="120" h="30" />
    <onsuccess>729de9be-7faf-4d40-88d1-061f80da02c9</onsuccess>
    <groupid>9fac4999-868f-4f03-b249-42bea977e577</groupid>
  </stage>
  <stage stageid="fed38020-482c-4890-9644-90160e195e83" name="Loop Start1" type="LoopStart">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-135" w="120" h="30" />
    <onsuccess>e2c193bd-9bab-4299-ba3f-40e1a063e2fe</onsuccess>
    <groupid>6824844c-d18d-4ba7-8497-f1281d39acb3</groupid>
    <looptype>ForEach</looptype>
    <loopdata>Result Collection.JSON:Array</loopdata>
  </stage>
  <stage stageid="8615e18b-ce9b-4a7c-a87a-80301708a3cf" name="Loop End1" type="LoopEnd">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-45" w="120" h="30" />
    <onsuccess>e4ff3a80-59d4-442f-85cb-62d3dfa39024</onsuccess>
    <groupid>6824844c-d18d-4ba7-8497-f1281d39acb3</groupid>
  </stage>
  <stage stageid="e2c193bd-9bab-4299-ba3f-40e1a063e2fe" name="Check my queue name is returned" type="Decision">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <display x="15" y="-90" w="120" h="30" />
    <decision expression="[Result Collection.JSON:Array.name]=[Queue 2]" />
    <ontrue>528cb0e6-ebcd-40a0-8961-24032ae8028f</ontrue>
    <onfalse>8615e18b-ce9b-4a7c-a87a-80301708a3cf</onfalse>
  </stage>
  <stage stageid="729de9be-7faf-4d40-88d1-061f80da02c9" name="Queue Not Found" type="Exception">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <display x="120" y="0" />
    <exception localized="yes" type="Queue Name Exception" detail="&quot;The Expected Queue, &quot;&amp;[Queue 2]&amp;&quot; was not returned. Instead &quot;&amp;[Result Collection.JSON:Array.Name]&amp;&quot; was returned.&quot;" />
  </stage>
  <stage stageid="65cc0699-881a-445e-a04c-d21cd5bc14dd" name="Obtain ID of Work Queue 2" type="Block">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-135" y="-195" w="300" h="285" />
    <font family="Segoe UI" size="10" style="Regular" color="CC99FF" />
  </stage>
  <stage stageid="528cb0e6-ebcd-40a0-8961-24032ae8028f" name="Record work queue id of work queue 1" type="Calculation">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-90" y="-90" />
    <onsuccess>83dba117-8d9f-4e87-b120-aa4a2eb170bc</onsuccess>
    <calculation expression="[Result Collection.JSON:Array.id]" stage="Queue 2 Id" />
  </stage>
  <stage stageid="58038cf6-114d-4495-884f-058181eac07d" name="Record the id of the work queue API-DELETE 1(BP-648)" type="MultipleCalculation">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-90" y="-375" w="60" h="60" />
    <onsuccess>7d0a2d5e-e528-4d8d-aaf6-d0756e52ce82</onsuccess>
    <steps>
      <calculation expression="[Result Collection.JSON:Array.id]" stage="Queue 1 Id" />
    </steps>
  </stage>
  <stage stageid="e2e6a391-2938-4f73-98f8-0015725029d4" name="date for work queue item insertion" type="Block">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-330" y="-1020" w="150" h="75" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="b501077b-3ef0-4938-b2b5-a84557309435" name="Obtain work queue ID's for the API to use" type="Note">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <narrative>obtain the work queues ID's from the database. The api uses the work queue's ID not it's name when processing api delete requests</narrative>
    <display x="15" y="-885" w="300" h="30" />
    <onsuccess>1bd0fd05-af38-4f07-b34e-bf8f9c41314c</onsuccess>
  </stage>
  <stage stageid="4469970b-9267-4690-b030-0010ef80ea04" name="Test Failed = True?" type="Decision">
    <display x="15" y="195" />
    <decision expression="[Test failed]=True" />
    <ontrue>34a30874-2299-4f35-a7a5-6d5c567e2b6c</ontrue>
    <onfalse>9187ec68-5469-4cbc-947f-c1fbabead65a</onfalse>
  </stage>
  <stage stageid="34a30874-2299-4f35-a7a5-6d5c567e2b6c" name="Rethrow the exception of why test failed" type="Exception">
    <display x="120" y="195" />
    <exception localized="yes" type="Bug" detail="[Test Exception]" />
  </stage>
  <stage stageid="7d0a2d5e-e528-4d8d-aaf6-d0756e52ce82" name="Anchor3" type="Anchor">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-210" y="-375" w="10" h="10" />
    <onsuccess>b3f0463d-af86-4406-9f10-6ebec2084f9d</onsuccess>
  </stage>
  <stage stageid="b3f0463d-af86-4406-9f10-6ebec2084f9d" name="Anchor4" type="Anchor">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-210" y="-180" w="10" h="10" />
    <onsuccess>05f33677-84a3-4188-ac3b-90c00b0d2565</onsuccess>
  </stage>
  <stage stageid="83dba117-8d9f-4e87-b120-aa4a2eb170bc" name="Anchor7" type="Anchor">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-210" y="-90" w="10" h="10" />
    <onsuccess>edf9a2b0-7e04-4b51-b7c9-8db3587fa250</onsuccess>
  </stage>
  <stage stageid="edf9a2b0-7e04-4b51-b7c9-8db3587fa250" name="Anchor8" type="Anchor">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-210" y="135" w="10" h="10" />
    <onsuccess>08231cb0-9207-42d3-9e2a-56f03982b940</onsuccess>
  </stage>
  <stage stageid="764def8e-d4d9-41d2-acf5-3922620ae534" name="Blue Prism - System - Basic Actions::Collapse All System Trees" type="Action">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="270" w="90" h="30" />
    <onsuccess>a4389987-a45d-4a24-9aea-9af1ee1fd8ad</onsuccess>
    <resource object="Blue Prism - System - Basic Actions" action="Collapse All System Trees" />
  </stage>
  <stage stageid="a4389987-a45d-4a24-9aea-9af1ee1fd8ad" name="Blue Prism - System - Basic Actions::Expand Tree" type="Action">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="315" w="90" h="30" />
    <inputs>
      <input type="text" name="Tree Name" friendlyname="Tree Name" narrative="Name of the tree to be extended." expr="&quot;Workflow&quot;" />
    </inputs>
    <onsuccess>cb3e0f51-9b16-4ce1-b6c8-776fd5a77185</onsuccess>
    <resource object="Blue Prism - System - Basic Actions" action="Expand Tree" />
  </stage>
  <stage stageid="c3985190-fc79-4f16-b2b6-0162b8a91383" name="Blue Prism::Exit Application" type="Action">
    <loginhibit onsuccess="true" />
    <display x="15" y="150" w="90" h="30" />
    <onsuccess>4469970b-9267-4690-b030-0010ef80ea04</onsuccess>
    <resource object="Blue Prism" action="Exit Application" />
  </stage>
  <stage stageid="7abc68fb-3f84-4d4b-bbe7-d33a90e7f084" name="Recover from the exception" type="Recover">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <loginhibit />
    <display x="15" y="720" />
    <onsuccess>5b1aec8b-a495-45a7-9b3b-8eada6072e8a</onsuccess>
  </stage>
  <stage stageid="8697dc88-51fd-4fc6-9ab3-5190d123e962" name="Negative test, the work queue should not be selectable from the tree view in control room" type="Block">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-60" y="615" w="360" h="135" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="5b1aec8b-a495-45a7-9b3b-8eada6072e8a" name="Was the tree element not found as expected?" type="Decision">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <display x="15" y="780" />
    <decision expression="InStr(ExceptionDetail(), &quot;Failed to perform step 1 in Navigate Stage 'Select Item' on page 'Click Item From Control's Left Tree (Select Item)' - No node with text value of 'API-DELETE 1(BP-648)' found&quot;)&lt;&gt;0" />
    <ontrue>e83064b9-2652-4aa2-ae4a-fe2f11a7d03a</ontrue>
    <onfalse>938b89f4-e8fb-4c53-b3b5-4c548fc20243</onfalse>
  </stage>
  <stage stageid="938b89f4-e8fb-4c53-b3b5-4c548fc20243" name="Unexpected exception when checking control room" type="Exception">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <display x="105" y="780" />
    <exception localized="yes" type="Bug" detail="" usecurrent="yes" />
  </stage>
  <stage stageid="e83064b9-2652-4aa2-ae4a-fe2f11a7d03a" name="Resume the test process" type="Resume">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <loginhibit />
    <display x="15" y="840" />
    <onsuccess>90f5ec09-a73c-4f0b-91c9-e23e9a0df0c6</onsuccess>
  </stage>
  <stage stageid="00edf82b-f3ad-4e5c-82f3-071bb53917fa" name="Checking control room exception" type="Exception">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <display x="360" y="660" />
    <exception localized="yes" type="" detail="&quot;The automated test has successfully selected the work queue deleted previously in this automated test, and should not of been able to do so&quot;" />
  </stage>
  <stage stageid="eec87b7d-a6d6-43dd-bcbd-26432d59eaec" name="Queue Content" type="Collection">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <display x="-240" y="210" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="5556bd65-eaf5-47e2-b70c-528944c71994" name="Main Page Recover" type="Recover">
    <loginhibit />
    <display x="255" y="-240" />
    <onsuccess>f1dad730-2423-4103-be57-a10047faf91b</onsuccess>
  </stage>
  <stage stageid="1bd0fd05-af38-4f07-b34e-bf8f9c41314c" name="Get Work Queues" type="Action">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-825" w="90" h="30" />
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="Response Content" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Status Code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="Response Headers" />
    </outputs>
    <onsuccess>2dfde71a-7e40-496c-97cf-d362e130f1b3</onsuccess>
    <resource object="Blue Prism - API - Work Queues" action="GET Work Queues" />
  </stage>
  <stage stageid="9c05fe2c-a5eb-4ef8-9493-97d057ab4d77" name="Recover1" type="Recover">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit />
    <display x="105" y="-825" />
    <onsuccess>75a1e1f7-596b-4925-b651-1cd71a5596bc</onsuccess>
  </stage>
  <stage stageid="75a1e1f7-596b-4925-b651-1cd71a5596bc" name="Resume1" type="Resume">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit />
    <display x="105" y="-780" />
    <onsuccess>4958d29d-496c-41d0-b03c-ffe10f7b78cd</onsuccess>
  </stage>
  <stage stageid="2dfde71a-7e40-496c-97cf-d362e130f1b3" name="Anchor9" type="Anchor">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-720" w="10" h="10" />
    <onsuccess>531f8822-d6cb-4345-bd9d-40e9fc21ae8b</onsuccess>
  </stage>
  <stage stageid="4958d29d-496c-41d0-b03c-ffe10f7b78cd" name="Get Work Queues" type="Action">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="105" y="-720" w="90" h="30" />
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="Response Content" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Status Code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="Response Headers" />
    </outputs>
    <onsuccess>2dfde71a-7e40-496c-97cf-d362e130f1b3</onsuccess>
    <resource object="Blue Prism - API - Work Queues" action="GET Work Queues" />
  </stage>
  <stage stageid="12ec1df9-7eae-443a-8102-35359987056c" name="Get Work Queues" type="Block">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-135" y="-855" w="300" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="3ae39a24-d63e-4d04-9505-c25beab7fb6b" name="Default Result Collection" type="Collection">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <display x="-225" y="-840" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="3673c42f-f687-4ae9-8743-ab3eacf37bbf" name="Return to Collection" type="Calculation">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-630" w="120" h="30" />
    <onsuccess>65ce48c3-f3e1-421e-ba49-a510ee9fc7f7</onsuccess>
    <calculation expression="[Default Result Collection.items]" stage="Result Collection" />
  </stage>
  <stage stageid="c03b7c4b-d3d1-406f-9900-b6aef02b070e" name="Launch" type="Action">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <display x="15" y="-1230" w="90" h="30" />
    <outputs>
      <output type="number" name="pid" friendlyname="pid" narrative="PID of the process" stage="pid" />
    </outputs>
    <onsuccess>da6acc7a-decb-4908-afcb-00fc8fde5b73</onsuccess>
    <resource object="Blue Prism" action="Launch and Get PID" />
  </stage>
  <stage stageid="da6acc7a-decb-4908-afcb-00fc8fde5b73" name="Sign In Auth Server" type="Action">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-1185" w="90" h="30" />
    <onsuccess>92f2bdf2-7db4-47f4-ae12-2de23a42dc1d</onsuccess>
    <resource object="Blue Prism" action="Sign in using Auth Server" />
  </stage>
  <stage stageid="92f2bdf2-7db4-47f4-ae12-2de23a42dc1d" name="IMS Server:Attach" type="Action">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-1140" w="90" h="30" />
    <onsuccess>3c7519a9-dda8-4fc0-bc21-ed0b07880b56</onsuccess>
    <resource object="IMS Server" action="Attach" />
  </stage>
  <stage stageid="3c7519a9-dda8-4fc0-bc21-ed0b07880b56" name="IMS Server:Login" type="Action">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-1095" w="90" h="30" />
    <inputs>
      <input type="text" name="Username" friendlyname="Username" expr="&quot;admin&quot;" />
      <input type="text" name="Password" friendlyname="Password" expr="&quot;Qq1234!!&quot;" />
    </inputs>
    <onsuccess>37f88cc3-6b75-4dd5-aa86-a046e1af2730</onsuccess>
    <resource object="IMS Server" action="Login" />
  </stage>
  <stage stageid="ee369ede-5959-426d-8069-08ae0c7d2e56" name="Browse to Home" type="Action">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <display x="15" y="-345" w="90" h="30" />
    <inputs>
      <input type="text" name="Tab Name" friendlyname="Tab Name" narrative="Name of Tab to Click" expr="&quot;Home&quot;" />
    </inputs>
    <onsuccess>63b1e03d-02ee-4b65-b9ed-0fd663a58127</onsuccess>
    <resource object="Blue Prism - Basic Actions" action="Go to Tab" />
  </stage>
  <stage stageid="37f88cc3-6b75-4dd5-aa86-a046e1af2730" name="Setup Credential" type="Action">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-1035" w="90" h="30" />
    <inputs>
      <input type="flag" name="Requires Login" friendlyname="Requires Login" narrative="Flag indicating if the login info should be given too" expr="True" />
      <input type="text" name="Arguments" friendlyname="Arguments" narrative="The arguments to pass to automatec, not including the authentication info" expr="&quot;/createcredential &quot;&quot;BPE-API-Credential&quot;&quot; ServiceAccount E3NbGuz9G/nSpQWdz6DMROZhtIDHtUhev13wsCV72fY=  /credentialtype OAuth2ClientCredentials&quot;" />
      <input type="text" name="Username" friendlyname="Username" narrative="The username that you want to authenticate against." expr="" />
      <input type="text" name="Password" friendlyname="Password" narrative="The password for the username." expr="" />
    </inputs>
    <outputs>
      <output type="text" name="Output" friendlyname="Output" narrative="The output from the command" stage="" />
    </outputs>
    <onsuccess>02118235-af28-4d0b-ad97-bb5950a9d619</onsuccess>
    <resource object="Call AutomateC" action="Call AutomateC" />
  </stage>
  <stage stageid="72f414d7-055a-4c4b-a8ef-ee6df90a4e1e" name="Credential already exists?" type="Recover">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit />
    <display x="120" y="-1035" w="90" h="30" />
    <onsuccess>6ec86639-b45e-45c0-af80-45ce1b97ba28</onsuccess>
  </stage>
  <stage stageid="6ec86639-b45e-45c0-af80-45ce1b97ba28" name="Resume1" type="Resume">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit />
    <display x="120" y="-975" w="90" h="30" />
    <onsuccess>02118235-af28-4d0b-ad97-bb5950a9d619</onsuccess>
  </stage>
  <stage stageid="02118235-af28-4d0b-ad97-bb5950a9d619" name="Anchor14" type="Anchor">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-975" w="10" h="10" />
    <onsuccess>b501077b-3ef0-4938-b2b5-a84557309435</onsuccess>
  </stage>
  <stage stageid="7da2d4c7-bf2a-4db6-931f-29e3d1dfac4b" name="Create credential" type="Block">
    <subsheetid>35f91c3b-5954-4b39-a829-e2d0d782e6dc</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="-1065" w="225" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="3ee92777-fd2b-4fda-8342-91b3f32bcd72" name="pid" type="Data">
    <display x="-195" y="285" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="63b1e03d-02ee-4b65-b9ed-0fd663a58127" name="Attach to System" type="Action">
    <subsheetid>6d9f523a-0dc3-443b-b327-aec1c22924c8</subsheetid>
    <display x="15" y="-300" w="90" h="30" />
    <inputs>
      <input type="number" name="pid" friendlyname="pid" narrative="PID to attach to" expr="[pid]" />
    </inputs>
    <onsuccess>6a9b346c-174a-40d0-80db-5f76d266135a</onsuccess>
    <resource object="Blue Prism - System (Parent)" action="Attach to Pid" />
  </stage>
</process>