<process name="configure_connection_test_connection" version="1.0" bpversion="6.11.0.36729" narrative="" byrefcollection="true" preferredid="e201da70-0426-4861-b05e-47aa392a84e5">
  <view>
    <camerax>93</camerax>
    <cameray>35</cameray>
    <zoom version="2">1.25</zoom>
  </view>
  <preconditions />
  <endpoint narrative="" />
  <subsheet subsheetid="5dbd1203-1aa2-4bfa-a0de-30fe3775ed55" type="Normal" published="False">
    <name>Setup</name>
    <view>
      <camerax>92</camerax>
      <cameray>63</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="7361e2bc-5f41-4f67-8755-44269dbc543f" type="Normal" published="False">
    <name>Test Connection</name>
    <view>
      <camerax>-4</camerax>
      <cameray>27</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <stage stageid="561dd9d5-28a8-4a0d-8d52-6bd06fd6db62" name="Start" type="Start">
    <display x="45" y="-135" />
    <onsuccess>e6e088fc-ffb9-4c27-81c8-40146b19fade</onsuccess>
  </stage>
  <stage stageid="12c77286-d582-4397-8f4a-c51bb10a0578" name="End" type="End">
    <display x="45" y="210" />
  </stage>
  <stage stageid="97620238-ab25-4399-8225-dff953d72b65" name="Stage1" type="ProcessInfo">
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="3fbc4774-0d5b-45f4-a588-46da3b0235a1" name="Setup" type="SubSheetInfo">
    <subsheetid>5dbd1203-1aa2-4bfa-a0de-30fe3775ed55</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="c591df02-b840-41de-9a48-112955762985" name="Start" type="Start">
    <subsheetid>5dbd1203-1aa2-4bfa-a0de-30fe3775ed55</subsheetid>
    <display x="15" y="-105" />
    <onsuccess>ce4f8697-94d7-4bc0-ab2a-1416d438dd85</onsuccess>
  </stage>
  <stage stageid="62f00f6a-c8ae-46b7-a808-d8a1fd737599" name="End" type="End">
    <subsheetid>5dbd1203-1aa2-4bfa-a0de-30fe3775ed55</subsheetid>
    <display x="15" y="75" />
  </stage>
  <stage stageid="ce4f8697-94d7-4bc0-ab2a-1416d438dd85" name="Launch BP" type="Action">
    <subsheetid>5dbd1203-1aa2-4bfa-a0de-30fe3775ed55</subsheetid>
    <display x="15" y="-60" w="120" h="30" />
    <outputs>
      <output type="number" name="pid" narrative="PID of the process" stage="pid" />
    </outputs>
    <onsuccess>ab6fb444-e95b-48e7-8dfb-2fc8484a6af4</onsuccess>
    <resource object="Blue Prism" action="Launch and Get PID" />
  </stage>
  <stage stageid="4e5ab8ea-ae87-444d-aee0-518e98b6fa3d" name="Setup" type="SubSheet">
    <loginhibit onsuccess="true" />
    <display x="45" y="-30" w="270" h="30" />
    <onsuccess>2cba97c5-adb1-4a46-92e4-b072815acb56</onsuccess>
    <processid>5dbd1203-1aa2-4bfa-a0de-30fe3775ed55</processid>
  </stage>
  <stage stageid="e6e088fc-ffb9-4c27-81c8-40146b19fade" name="Note1" type="Note">
    <narrative>GIVEN that Blue Prism is configurated to work with an SSO Environment</narrative>
    <display x="45" y="-75" w="270" h="30" />
    <onsuccess>4e5ab8ea-ae87-444d-aee0-518e98b6fa3d</onsuccess>
  </stage>
  <stage stageid="f5453cfc-eb0d-4aad-bcd1-868b10792291" name="Test Connection" type="SubSheetInfo">
    <subsheetid>7361e2bc-5f41-4f67-8755-44269dbc543f</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="d675a53b-23b7-45d5-8144-929d5c1c3a2d" name="Start" type="Start">
    <subsheetid>7361e2bc-5f41-4f67-8755-44269dbc543f</subsheetid>
    <display x="15" y="-105" />
    <onsuccess>6668c7f5-e122-46c0-b398-2411987e333d</onsuccess>
  </stage>
  <stage stageid="fe8519f9-010c-4b7f-855e-4ec9849a6cd6" name="End" type="End">
    <subsheetid>7361e2bc-5f41-4f67-8755-44269dbc543f</subsheetid>
    <display x="15" y="345" />
  </stage>
  <stage stageid="897c7260-8816-4299-b776-abd7d01cba52" name="Test Connection" type="SubSheet">
    <loginhibit onsuccess="true" />
    <display x="45" y="60" w="270" h="30" />
    <onsuccess>457c72b9-7d1c-4c3b-82c1-0807c8187439</onsuccess>
    <processid>7361e2bc-5f41-4f67-8755-44269dbc543f</processid>
  </stage>
  <stage stageid="2cba97c5-adb1-4a46-92e4-b072815acb56" name="Note2" type="Note">
    <narrative>WHEN I click Test Connection from the Configure Connection screen
THEN a Connection is Valid message is returned</narrative>
    <display x="45" y="15" w="270" h="30" />
    <onsuccess>897c7260-8816-4299-b776-abd7d01cba52</onsuccess>
  </stage>
  <stage stageid="457c72b9-7d1c-4c3b-82c1-0807c8187439" name="Exit App" type="Action">
    <loginhibit onsuccess="true" />
    <display x="45" y="120" w="90" h="30" />
    <onsuccess>f9ea376d-9f31-48d9-8d27-5c0fab05d710</onsuccess>
    <resource object="Blue Prism" action="Exit Application" />
  </stage>
  <stage stageid="6668c7f5-e122-46c0-b398-2411987e333d" name="Press Configure Connection" type="Action">
    <subsheetid>7361e2bc-5f41-4f67-8755-44269dbc543f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-60" w="120" h="30" />
    <onsuccess>975a5b6c-a37c-425e-9ef7-6c1f58ecffd9</onsuccess>
    <resource object="Blue Prism - General - Configuration" action="Press Configure Connection" />
  </stage>
  <stage stageid="016b4fec-f00c-4c90-9f22-04fb4dd61fc4" name="Get Connection" type="Calculation">
    <subsheetid>5dbd1203-1aa2-4bfa-a0de-30fe3775ed55</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="30" w="120" h="30" />
    <onsuccess>62f00f6a-c8ae-46b7-a808-d8a1fd737599</onsuccess>
    <calculation expression="GetConnection()" stage="Connection Name" />
  </stage>
  <stage stageid="ecd7cbcf-1762-400f-b6f1-b86f0313fc04" name="Global Variables" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-270" y="-45" w="150" h="90" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="723f73fb-9129-45f0-a478-cbebf59b2cd7" name="pid" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="2b7079e1-fac9-417b-9329-131403070289" name="Connection Name" type="Data">
    <display x="-195" y="15" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="b85127b1-2140-4f2d-b2c7-f252b2dfa237" name="CleanUp Block" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-105" y="-105" w="375" h="195" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="975a5b6c-a37c-425e-9ef7-6c1f58ecffd9" name="Test Connection" type="Action">
    <subsheetid>7361e2bc-5f41-4f67-8755-44269dbc543f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-15" w="120" h="30" />
    <inputs>
      <input type="text" name="Connection Name" friendlyname="Connection Name" narrative="The name of the connection you wish to test." expr="[Connection Name]" />
    </inputs>
    <outputs>
      <output type="text" name="Connection valid message" friendlyname="Connection valid message" stage="Connection valid message" />
    </outputs>
    <onsuccess>477aba0d-29bf-4a37-9c76-b867192ff9f3</onsuccess>
    <resource object="Blue Prism - General - Configuration" action="Test Connection" />
  </stage>
  <stage stageid="a05f0d7b-e6aa-4ddf-87b4-64d107c090d6" name="End1" type="End">
    <subsheetid>7361e2bc-5f41-4f67-8755-44269dbc543f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="165" />
  </stage>
  <stage stageid="6ba01796-6990-4340-9b4e-ab2787aa3f08" name="Failed?" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-195" y="90" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue>False</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="b7cb206b-f37d-4fe2-942e-4aca64a5a536" name="Exception" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-195" y="120" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="fb6ab55b-c2a1-4a92-ba6f-2c79e4a66848" name="Local variables" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-270" y="60" w="150" h="90" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="94389284-6f53-4c95-a038-3a4ab45e85c1" name="Recover1" type="Recover">
    <loginhibit />
    <display x="225" y="-30" />
    <onsuccess>caebeef4-9c69-411e-8ae5-cdf90ea26e6a</onsuccess>
  </stage>
  <stage stageid="caebeef4-9c69-411e-8ae5-cdf90ea26e6a" name="Exception Calc" type="MultipleCalculation">
    <loginhibit onsuccess="true" />
    <display x="225" y="15" />
    <onsuccess>9e0c4462-52be-46bf-99b9-ffc63317ae1b</onsuccess>
    <steps>
      <calculation expression="True" stage="Failed?" />
      <calculation expression="ExceptionDetail()" stage="Exception" />
    </steps>
  </stage>
  <stage stageid="9e0c4462-52be-46bf-99b9-ffc63317ae1b" name="Resume1" type="Resume">
    <loginhibit />
    <display x="225" y="60" />
    <onsuccess>1f2551fd-cd51-4790-b304-c2cfdeec4d88</onsuccess>
  </stage>
  <stage stageid="1f2551fd-cd51-4790-b304-c2cfdeec4d88" name="Anchor3" type="Anchor">
    <loginhibit onsuccess="true" />
    <display x="225" y="120" w="10" h="10" />
    <onsuccess>457c72b9-7d1c-4c3b-82c1-0807c8187439</onsuccess>
  </stage>
  <stage stageid="f9ea376d-9f31-48d9-8d27-5c0fab05d710" name="Failed?" type="Decision">
    <display x="45" y="165" w="90" h="30" />
    <decision expression="[Failed?]" />
    <ontrue>0cc59f71-2fb9-4999-a741-f381afef329e</ontrue>
    <onfalse>12c77286-d582-4397-8f4a-c51bb10a0578</onfalse>
  </stage>
  <stage stageid="0cc59f71-2fb9-4999-a741-f381afef329e" name="RETHROW" type="Exception">
    <display x="135" y="165" />
    <exception localized="yes" type="RETHROW" detail="[Exception]" />
  </stage>
  <stage stageid="ab6fb444-e95b-48e7-8dfb-2fc8484a6af4" name="Attach BP" type="Action">
    <subsheetid>5dbd1203-1aa2-4bfa-a0de-30fe3775ed55</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-15" w="120" h="30" />
    <inputs>
      <input type="number" name="pid" friendlyname="pid" narrative="PID to attach to" expr="[pid]" />
    </inputs>
    <onsuccess>016b4fec-f00c-4c90-9f22-04fb4dd61fc4</onsuccess>
    <resource object="Blue Prism - General (Parent)" action="Attach to Pid" />
  </stage>
  <stage stageid="c80721c9-f78d-4f38-b56e-c51b24509131" name="Connection valid message" type="Data">
    <subsheetid>7361e2bc-5f41-4f67-8755-44269dbc543f</subsheetid>
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="fd12a5da-73c1-4ba9-9e0a-99278037d345" name="Local variables" type="Block">
    <subsheetid>7361e2bc-5f41-4f67-8755-44269dbc543f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-270" y="-45" w="150" h="90" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="c845756f-7412-47d9-9980-f9b5a9724b7e" name="Connection valid?" type="Decision">
    <subsheetid>7361e2bc-5f41-4f67-8755-44269dbc543f</subsheetid>
    <display x="15" y="120" w="120" h="30" />
    <decision expression="[Connection valid message]=&quot;Connection valid.&quot;" />
    <ontrue>a05f0d7b-e6aa-4ddf-87b4-64d107c090d6</ontrue>
    <onfalse>a6869470-b786-486c-885b-c82eda2fd48a</onfalse>
  </stage>
  <stage stageid="a6869470-b786-486c-885b-c82eda2fd48a" name="Failed" type="Exception">
    <subsheetid>7361e2bc-5f41-4f67-8755-44269dbc543f</subsheetid>
    <display x="105" y="120" w="30" h="30" />
    <exception localized="yes" type="&quot;System Exception&quot;" detail="&quot;Expected Connection Valid to return for the SSO environment however the message was &quot; &amp; [Connection valid message]" />
  </stage>
  <stage stageid="477aba0d-29bf-4a37-9c76-b867192ff9f3" name="GET Connection Type" type="Calculation">
    <subsheetid>7361e2bc-5f41-4f67-8755-44269dbc543f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="30" w="120" h="30" />
    <onsuccess>98819ae9-40fb-4ec5-9f20-5bcf75314242</onsuccess>
    <calculation expression="BPServer()" stage="BPServer?" />
  </stage>
  <stage stageid="98819ae9-40fb-4ec5-9f20-5bcf75314242" name="Server Connection Type?" type="Decision">
    <subsheetid>7361e2bc-5f41-4f67-8755-44269dbc543f</subsheetid>
    <display x="15" y="75" w="120" h="30" />
    <decision expression="[BPServer?]" />
    <ontrue>c845756f-7412-47d9-9980-f9b5a9724b7e</ontrue>
    <onfalse>6edec24d-f54c-4016-9b11-3e0e539678d4</onfalse>
  </stage>
  <stage stageid="f06abd5e-fbe9-4ed9-bd3f-fbb585853765" name="End1" type="End">
    <subsheetid>7361e2bc-5f41-4f67-8755-44269dbc543f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="165" y="120" />
  </stage>
  <stage stageid="6edec24d-f54c-4016-9b11-3e0e539678d4" name="Connection valid?" type="Decision">
    <subsheetid>7361e2bc-5f41-4f67-8755-44269dbc543f</subsheetid>
    <display x="165" y="75" w="120" h="30" />
    <decision expression="[Connection valid message]=&quot;Database valid.&quot;" />
    <ontrue>f06abd5e-fbe9-4ed9-bd3f-fbb585853765</ontrue>
    <onfalse>26cfaa97-8162-4892-a9c3-86f635f2f28c</onfalse>
  </stage>
  <stage stageid="26cfaa97-8162-4892-a9c3-86f635f2f28c" name="Failed" type="Exception">
    <subsheetid>7361e2bc-5f41-4f67-8755-44269dbc543f</subsheetid>
    <display x="255" y="75" w="30" h="30" />
    <exception localized="yes" type="&quot;System Exception&quot;" detail="&quot;Expected Connection Valid to return however the message was &quot; &amp; [Connection valid message]" />
  </stage>
  <stage stageid="1de848b4-38bf-4bf9-a000-d2d7985c4c04" name="BPServer?" type="Data">
    <subsheetid>7361e2bc-5f41-4f67-8755-44269dbc543f</subsheetid>
    <display x="-195" y="15" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
</process>