<process name="API - GET workqueue item pagination" version="1.0" bpversion="7.0.0.39730" narrative="" byrefcollection="true" preferredid="aff2d855-b177-457d-a311-5a73d1f8394f">
  <view>
    <camerax>-334</camerax>
    <cameray>-42</cameray>
    <zoom version="2">1.25</zoom>
  </view>
  <preconditions />
  <endpoint narrative="" />
  <subsheet subsheetid="af191d90-cc2a-4f17-ae28-2a326cf832d9" type="Normal" published="False">
    <name>Setup-Create Work queue</name>
    <view>
      <camerax>-45</camerax>
      <cameray>270</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="29433e69-3d2b-4e30-8bb2-aff7db5606cb" type="Normal" published="False">
    <name>Setup-Add items to queue</name>
    <view>
      <camerax>0</camerax>
      <cameray>87</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="498641ba-e757-4cc8-9b43-b12ca551b2d7" type="Normal" published="False">
    <name>Postive Scenarios</name>
    <view>
      <camerax>27</camerax>
      <cameray>1815</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <stage stageid="4e442a75-5ded-45de-9b7b-82cafeb2e618" name="Start" type="Start">
    <display x="-315" y="-285" />
    <onsuccess>b757f68a-1701-43bd-9ef0-2c16a1c21d4d</onsuccess>
  </stage>
  <stage stageid="83afb403-b028-4fe0-9307-829c1e62368c" name="Stage1" type="ProcessInfo">
    <display x="-540" y="-210" w="330" h="180" />
  </stage>
  <stage stageid="5f67d956-999c-4e67-be1f-cc1ff6787a5a" name="Setup-Create Work queue" type="SubSheetInfo">
    <subsheetid>af191d90-cc2a-4f17-ae28-2a326cf832d9</subsheetid>
    <narrative>to test first we need a work queue</narrative>
    <display x="-210" y="-150" w="150" h="90" />
  </stage>
  <stage stageid="eb1977c0-39ef-4afc-a777-925a353b0973" name="End" type="End">
    <subsheetid>af191d90-cc2a-4f17-ae28-2a326cf832d9</subsheetid>
    <display x="-45" y="270" />
  </stage>
  <stage stageid="f9e301a9-6df0-44ea-b3b7-0e7a87380c12" name="Queue 1 name" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-645" y="-75" w="90" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">BP-261</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="b4c72265-97f5-4ab4-9289-314235176c74" name="Global variables" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-705" y="-105" w="315" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="d64ec8ad-4989-4a25-a443-91eb42234d2b" name="Local Variables" type="Block">
    <subsheetid>af191d90-cc2a-4f17-ae28-2a326cf832d9</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-285" y="-90" w="150" h="165" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="60e75ab6-f6a4-4935-8927-32795e3b2493" name="Create Queues" type="Block">
    <subsheetid>af191d90-cc2a-4f17-ae28-2a326cf832d9</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-120" y="75" w="150" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="33CCCC" />
  </stage>
  <stage stageid="b757f68a-1701-43bd-9ef0-2c16a1c21d4d" name="Setup-Create Work queue" type="SubSheet">
    <loginhibit onsuccess="true" />
    <display x="-315" y="-210" />
    <onsuccess>6a8f40a5-28c9-4ae8-b599-e4cf897b6fc0</onsuccess>
    <processid>af191d90-cc2a-4f17-ae28-2a326cf832d9</processid>
  </stage>
  <stage stageid="5ce9edb5-03d2-4b68-9417-cfd3bcee77e2" name="Recover1" type="Recover">
    <loginhibit />
    <display x="-225" y="-225" />
    <onsuccess>30172d8e-1be2-4800-81d6-856ab2961855</onsuccess>
  </stage>
  <stage stageid="258f5c52-0b77-4fff-a33a-6c011f9ac67d" name="Resume1" type="Resume">
    <loginhibit />
    <display x="-225" y="-135" />
    <onsuccess>893cf083-26e8-4357-bedb-00abc41943af</onsuccess>
  </stage>
  <stage stageid="3513601e-8aea-4ba5-9779-335f2e00d104" name="clean up block" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-360" y="-255" w="195" h="210" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="30172d8e-1be2-4800-81d6-856ab2961855" name="Get Exception" type="MultipleCalculation">
    <loginhibit onsuccess="true" />
    <display x="-225" y="-180" w="90" h="30" />
    <onsuccess>258f5c52-0b77-4fff-a33a-6c011f9ac67d</onsuccess>
    <steps>
      <calculation expression="True" stage="Failed?" />
      <calculation expression="ExceptionDetail()" stage="Exception" />
    </steps>
  </stage>
  <stage stageid="9b98dc0e-66b2-45e5-b8c5-03794192cc6f" name="Local Variables" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-705" y="15" w="165" h="90" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="bc777a74-e6af-41dc-a928-246f9f8e7051" name="Failed?" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-630" y="45" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue>False</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="d2684b73-5daa-4d50-a8d4-05c7a025eeff" name="Exception" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-630" y="75" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="7c2912fb-9c8b-4ec9-8d05-28487c093d38" name="End1" type="End">
    <loginhibit onsuccess="true" />
    <display x="-315" y="120" />
  </stage>
  <stage stageid="da030598-335b-428c-a8f9-2dbd93574fd7" name="Failed?" type="Decision">
    <display x="-315" y="75" w="90" h="30" />
    <decision expression="[Failed?]" />
    <ontrue>ded0e3e2-585c-4e29-a70b-65648d3ad0c9</ontrue>
    <onfalse>7c2912fb-9c8b-4ec9-8d05-28487c093d38</onfalse>
  </stage>
  <stage stageid="ded0e3e2-585c-4e29-a70b-65648d3ad0c9" name="RETHROW" type="Exception">
    <display x="-165" y="75" />
    <exception localized="yes" type="Test Fail" detail="[Exception]" />
  </stage>
  <stage stageid="048f95cf-0ca9-492f-b188-03a3d0160c58" name="Anchor1" type="Anchor">
    <loginhibit onsuccess="true" />
    <display x="-315" y="0" w="10" h="10" />
    <onsuccess>d66b960a-cde8-45e3-aa59-fa5d791f3ea9</onsuccess>
  </stage>
  <stage stageid="893cf083-26e8-4357-bedb-00abc41943af" name="Anchor2" type="Anchor">
    <loginhibit onsuccess="true" />
    <display x="-225" y="0" w="10" h="10" />
    <onsuccess>048f95cf-0ca9-492f-b188-03a3d0160c58</onsuccess>
  </stage>
  <stage stageid="50e55975-f67a-4941-bcd7-ef4a61696db8" name="Setup-Add items to queue" type="SubSheetInfo">
    <subsheetid>29433e69-3d2b-4e30-8bb2-aff7db5606cb</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="1b775a4f-7777-4253-ae46-d7aa411c8379" name="Start" type="Start">
    <subsheetid>29433e69-3d2b-4e30-8bb2-aff7db5606cb</subsheetid>
    <display x="15" y="-150" />
    <inputs>
      <input type="text" name="Queue Name" stage="Queue Name" />
      <input type="number" name="number of items" narrative="how many items do you wish to add to the queue?" stage="number of items" />
    </inputs>
    <onsuccess>0ba39c70-db26-44e5-8188-1fe1842e8a2e</onsuccess>
  </stage>
  <stage stageid="49f1c9f7-95e6-4095-bcd2-3e5a1b361eda" name="End" type="End">
    <subsheetid>29433e69-3d2b-4e30-8bb2-aff7db5606cb</subsheetid>
    <display x="15" y="300" />
  </stage>
  <stage stageid="2bd512a1-a116-4515-abb9-37d75cdb4299" name="Queue Name" type="Data">
    <subsheetid>29433e69-3d2b-4e30-8bb2-aff7db5606cb</subsheetid>
    <display x="-225" y="-15" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="e67ed7c1-cfcf-4a48-8d10-b9e691731ef9" name="local variables" type="Block">
    <subsheetid>29433e69-3d2b-4e30-8bb2-aff7db5606cb</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-270" y="-45" w="150" h="210" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="316930e9-b0af-4131-8467-c9d43bd6dcee" name="number of items" type="Data">
    <subsheetid>29433e69-3d2b-4e30-8bb2-aff7db5606cb</subsheetid>
    <display x="-165" y="-15" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="f08b4a09-3b00-4d75-94e1-c6dd5b0abbdf" name="Loop Counter" type="Data">
    <subsheetid>29433e69-3d2b-4e30-8bb2-aff7db5606cb</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-225" y="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="8277caee-0d57-45c0-b9fd-23d30f6c8a14" name="loop counter zero?" type="Decision">
    <subsheetid>29433e69-3d2b-4e30-8bb2-aff7db5606cb</subsheetid>
    <display x="15" y="240" />
    <decision expression="[Loop Counter]=0" />
    <ontrue>49f1c9f7-95e6-4095-bcd2-3e5a1b361eda</ontrue>
    <onfalse>d1a6b735-a38d-4216-9158-46cc64df59db</onfalse>
  </stage>
  <stage stageid="0c6cdc03-86fe-486a-b711-1a923980c749" name="Work Queues::Add To Queue" type="Action">
    <subsheetid>29433e69-3d2b-4e30-8bb2-aff7db5606cb</subsheetid>
    <loginhibit onsuccess="true" />
    <narrative>The Data collection contains the items to be added to the queue. The collection may contain single or multiple rows, with each representing an item to be added.

If there is a failure during the process, the queue will be unchanged - i.e. no rows will be loaded even if the error occurred on the last one.

If Defer Until is specified, the items will not be available to be worked until then. Otherwise, they are available immediately.

If the queue has a key field defined, an item added has key data longer than the maximum permitted 255 characters, an error will occur</narrative>
    <display x="15" y="-45" />
    <inputs>
      <input type="text" name="Queue Name" friendlyname="Queue Name" narrative="The name of the queue to add items to" expr="[Queue 1 name]" />
      <input type="collection" name="Data" friendlyname="Data" narrative="A collection containing the data, one row for each item to be added" expr="[work queue item data]" />
      <input type="datetime" name="Defer Until" friendlyname="Defer Until" narrative="Optionally, the date/time the new item(s) should be deferred until" expr="" />
      <input type="number" name="Priority" friendlyname="Priority" narrative="Optionally, the priority for the new item(s). Lower numbers represent higher priorities. The default is 0." expr="[Loop Counter]" />
      <input type="text" name="Tags" friendlyname="Tags" narrative="Optionally, a semi-colon-separated set of tags to apply to the queue item(s)" expr="[Work Queue item Tag]&amp;[Loop Counter]" />
      <input type="text" name="Status" friendlyname="Status" narrative="Optionally, the initial status required of the work queue item(s) " expr="[Work Queue item Status]&amp;[Loop Counter]" />
      <input type="number" name="Batch Size" friendlyname="Batch Size" narrative="Optionally, the batch size to use when adding many items to the queue.  A Value of 0 will process all items in one batch.  An empty field will use the default batch size of 1000." expr="">
        <validator type="BluePrism.AutomateProcessCore.RangeParameterValidation" parameter="0:25000" />
      </input>
    </inputs>
    <outputs>
      <output type="collection" name="Item IDs" friendlyname="Item IDs" narrative="The IDs of the items which have been added to the queue, in the order of the collection of data passed that was input" stage="Item IDs" />
    </outputs>
    <onsuccess>87b16e9f-b995-4d68-8968-d55cd0f9181e</onsuccess>
    <resource object="Blueprism.Automate.clsWorkQueuesActions" action="Add To Queue" />
  </stage>
  <stage stageid="5846ea92-be46-4c5d-a740-f7404261f807" name="decrease loop counter by 1" type="Calculation">
    <subsheetid>29433e69-3d2b-4e30-8bb2-aff7db5606cb</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="195" />
    <onsuccess>8277caee-0d57-45c0-b9fd-23d30f6c8a14</onsuccess>
    <calculation expression="[Loop Counter]-1" stage="Loop Counter" />
  </stage>
  <stage stageid="d1a6b735-a38d-4216-9158-46cc64df59db" name="Anchor3" type="Anchor">
    <subsheetid>29433e69-3d2b-4e30-8bb2-aff7db5606cb</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-60" y="240" w="10" h="10" />
    <onsuccess>756eedc8-feed-4ded-9427-2a5342eff6d8</onsuccess>
  </stage>
  <stage stageid="756eedc8-feed-4ded-9427-2a5342eff6d8" name="Anchor4" type="Anchor">
    <subsheetid>29433e69-3d2b-4e30-8bb2-aff7db5606cb</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-60" y="-45" w="10" h="10" />
    <onsuccess>0c6cdc03-86fe-486a-b711-1a923980c749</onsuccess>
  </stage>
  <stage stageid="6a8f40a5-28c9-4ae8-b599-e4cf897b6fc0" name="Setup-Add items to queue" type="SubSheet">
    <loginhibit onsuccess="true" />
    <display x="-315" y="-165" />
    <inputs>
      <input type="text" name="Queue Name" friendlyname="Queue Name" expr="[Queue 1 name]" />
      <input type="number" name="number of items" friendlyname="number of items" narrative="how many items do you wish to add to the queue?" expr="[number of queue items to be created]" />
    </inputs>
    <onsuccess>ce76b8cd-e788-4313-8966-4655af217fa7</onsuccess>
    <processid>29433e69-3d2b-4e30-8bb2-aff7db5606cb</processid>
  </stage>
  <stage stageid="8f7fabbf-5de6-4289-866c-185a4bb2c859" name="Blue Prism - Basic Actions::Pause" type="Action">
    <subsheetid>29433e69-3d2b-4e30-8bb2-aff7db5606cb</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="150" />
    <inputs>
      <input type="number" name="Duration (Seconds)" friendlyname="Duration (Seconds)" expr="5" />
    </inputs>
    <onsuccess>5846ea92-be46-4c5d-a740-f7404261f807</onsuccess>
    <resource object="Blue Prism - Basic Actions" action="Pause" />
  </stage>
  <stage stageid="1600f7ef-4b52-4c51-940f-ebb83900c3b5" name="work queue item data" type="Collection">
    <subsheetid>29433e69-3d2b-4e30-8bb2-aff7db5606cb</subsheetid>
    <display x="-195" y="75" w="90" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
    <collectioninfo>
      <field name="Field1" type="number" />
      <field name="Field2" type="text" />
      <field name="Field3" type="text" />
    </collectioninfo>
    <initialvalue>
      <row>
        <field name="Field1" type="number" value="1" />
        <field name="Field2" type="text" value="red" />
        <field name="Field3" type="text" value="3" />
      </row>
    </initialvalue>
  </stage>
  <stage stageid="93ee4d9b-97e4-4be4-a582-8ff3ecd3b79f" name="Work Queue item Tag" type="Data">
    <subsheetid>29433e69-3d2b-4e30-8bb2-aff7db5606cb</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-195" y="105" w="90" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">QA</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="0ba39c70-db26-44e5-8188-1fe1842e8a2e" name="Set Variables" type="MultipleCalculation">
    <subsheetid>29433e69-3d2b-4e30-8bb2-aff7db5606cb</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-90" />
    <onsuccess>0c6cdc03-86fe-486a-b711-1a923980c749</onsuccess>
    <steps>
      <calculation expression="[number of items]" stage="Loop Counter" />
    </steps>
  </stage>
  <stage stageid="ac3a326b-773e-4537-950e-5760e356639c" name="Work Queue item Status" type="Data">
    <subsheetid>29433e69-3d2b-4e30-8bb2-aff7db5606cb</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-195" y="135" w="90" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">Test</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="67646e67-7cd3-40f5-aec3-e42a85a7389a" name="adds requested number of items to requested work queue" type="Block">
    <subsheetid>29433e69-3d2b-4e30-8bb2-aff7db5606cb</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-90" y="-120" w="195" h="375" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="fddc53a2-04d5-420e-947c-0d940f0bd766" name="Blue Prism - API - Work Queues::POST Work Queues" type="Action">
    <subsheetid>af191d90-cc2a-4f17-ae28-2a326cf832d9</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="150" w="120" h="30" />
    <inputs>
      <input type="text" name="name" friendlyname="name" narrative="Queue Name to be created" expr="[Queue 1 name]" />
      <input type="text" name="keyField" friendlyname="keyField" narrative="The keyfield to be assigned to the queue" expr="" />
      <input type="number" name="maxAttempts" friendlyname="maxAttempts" narrative="Maximum Attempts to be made to work the queue item" expr="1" />
      <input type="flag" name="isRunning" friendlyname="isRunning" narrative="Flag set to indicate if queue is running" expr="True" />
      <input type="number" name="encryptionKeyId" friendlyname="encryptionKeyId" narrative="The ID of the encryption scheme to be applied to the queue" expr="" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="Response Content" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Status Code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="Response Headers" />
      <output type="text" name="Queue ID" friendlyname="Queue ID" stage="Queue 1 ID" />
      <output type="text" name="Request Data" friendlyname="Request Data" stage="Request Data" />
    </outputs>
    <onsuccess>eb1977c0-39ef-4afc-a777-925a353b0973</onsuccess>
    <resource object="Blue Prism - API - Work Queues" action="POST Work Queues" />
  </stage>
  <stage stageid="de3701ee-b50e-4a81-bb3f-65797376e958" name="Queue 1 ID" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-555" y="-75" w="90" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="4c162745-1049-4e96-b7a3-8a97215eebc2" name="Response Content" type="Data">
    <subsheetid>af191d90-cc2a-4f17-ae28-2a326cf832d9</subsheetid>
    <display x="-240" y="45" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="ffe45233-517d-4cfd-a31c-a2e80961edbd" name="HTTP Status Code" type="Data">
    <subsheetid>af191d90-cc2a-4f17-ae28-2a326cf832d9</subsheetid>
    <display x="-180" y="0" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="e51043df-d59b-4393-817a-20619c83eed2" name="Response Headers" type="Collection">
    <subsheetid>af191d90-cc2a-4f17-ae28-2a326cf832d9</subsheetid>
    <display x="-240" y="0" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="f3c0c785-f8e3-40fe-88f5-e6b3bc3892a9" name="Request Data" type="Data">
    <subsheetid>af191d90-cc2a-4f17-ae28-2a326cf832d9</subsheetid>
    <display x="-180" y="45" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="09d85e33-e512-4309-b4c0-c6aa8e425b2a" name="Item IDs" type="Collection">
    <subsheetid>29433e69-3d2b-4e30-8bb2-aff7db5606cb</subsheetid>
    <display x="-165" y="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
    <collectioninfo>
      <field name="Item ID" type="text" />
    </collectioninfo>
  </stage>
  <stage stageid="87b16e9f-b995-4d68-8968-d55cd0f9181e" name="Collections::Add Row" type="Action">
    <subsheetid>29433e69-3d2b-4e30-8bb2-aff7db5606cb</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="0" w="90" h="30" />
    <inputs>
      <input type="text" name="Collection Name" friendlyname="Collection Name" narrative="The name of the collection to act upon" expr="&quot;all item ID's created&quot;" />
    </inputs>
    <onsuccess>9ccd8a68-3987-41e6-a40b-4266a1fa52b5</onsuccess>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Add Row" />
  </stage>
  <stage stageid="9ccd8a68-3987-41e6-a40b-4266a1fa52b5" name="store work queue item id's" type="Calculation">
    <subsheetid>29433e69-3d2b-4e30-8bb2-aff7db5606cb</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="45" />
    <onsuccess>8f7fabbf-5de6-4289-866c-185a4bb2c859</onsuccess>
    <calculation expression="[Item IDs.Item ID]" stage="all item ID's created.Item ID" />
  </stage>
  <stage stageid="96bdb7d1-db96-484d-b2ba-197e9b95795f" name="all item ID's created" type="Collection">
    <display x="-450" y="-75" w="90" h="30" />
    <datatype>collection</datatype>
    <alwaysinit />
    <collectioninfo>
      <field name="Item ID" type="text" />
    </collectioninfo>
  </stage>
  <stage stageid="20ec9cf1-793f-43c5-bc1c-93a12ccb4b89" name="number of queue items to be created" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-645" y="-30" />
    <datatype>number</datatype>
    <initialvalue>14</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="6ad4e734-4649-47c3-bdc2-db531d5809b4" name="Postive Scenarios" type="SubSheetInfo">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="-195" y="-225" w="150" h="90" />
  </stage>
  <stage stageid="32b5c24d-fc05-435c-9f7f-92b054454080" name="Start" type="Start">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="15" y="-150" />
    <onsuccess>73000a87-8e18-4210-8bf8-3f3c43f61b70</onsuccess>
  </stage>
  <stage stageid="a0d9efae-3c3e-48ea-8383-95134976250c" name="Local variables" type="Block">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-270" y="-165" w="150" h="180" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="b66a0746-ca0d-435c-8b67-246d7677617d" name="Response Code and Session Count correct?" type="Decision">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="15" y="240" w="90" h="30" />
    <decision expression="[HTTP Response code]=&quot;200&quot;&#xA;AND&#xA;[Number of Items Returned]=10" />
    <ontrue>8d635eb1-d575-44bd-b41d-72f03a7558d7</ontrue>
    <onfalse>a63a2538-5502-4dd0-9623-6457ab19d292</onfalse>
  </stage>
  <stage stageid="66ab69b8-beeb-4aa7-abf0-42552e8d4a15" name="Default itemsPerPage and paginationToken" type="Block">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-105" y="-15" w="255" h="420" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="28dcf9ec-a84f-4a9f-986d-2bd2e4b79421" name="Convert Response to Collection" type="Action">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="60" w="90" h="30" />
    <inputs>
      <input type="text" name="json" friendlyname="json" expr="[Response Content]" />
    </inputs>
    <outputs>
      <output type="collection" name="Result" friendlyname="Result" stage="outputcollection" />
    </outputs>
    <onsuccess>2bd95ae2-9f51-42d8-a668-bd6b733fdfe9</onsuccess>
    <resource object="Utility - JSON" action="JSON to Collection" />
  </stage>
  <stage stageid="a81ab7c1-0f83-40b6-84a5-cca56eeadbee" name="Count Rows" type="Action">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="195" w="90" h="30" />
    <inputs>
      <input type="text" name="Collection Name" friendlyname="Collection Name" narrative="The name of the collection to act upon" expr="&quot;outputcollection.items&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The number of rows counted in the collection" stage="Number of Items Returned" />
    </outputs>
    <onsuccess>b66a0746-ca0d-435c-8b67-246d7677617d</onsuccess>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Count Rows" />
  </stage>
  <stage stageid="0ed33589-b76f-435d-9dc0-ebeb32c149b4" name="Number of Items Returned" type="Data">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="-195" y="-135" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="a63a2538-5502-4dd0-9623-6457ab19d292" name="Failed" type="Exception">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="105" y="240" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Incorrect response returned scenario 1 - Check Default itemsPerPage and paginationToken with no values&quot;" />
  </stage>
  <stage stageid="6b72b000-cca0-44c6-993c-d112c351574b" name="Blue Prism - API - GET Items by WORKQUEUE ID" type="Action">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="15" w="90" h="30" />
    <inputs>
      <input type="text" name="workQueueId" friendlyname="workQueueId" expr="[Queue 1 ID]" />
      <input type="number" name="itemsPerPage" friendlyname="itemsPerPage" expr="" />
      <input type="text" name="pagingToken" friendlyname="pagingToken" expr="" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="Response Content" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Response code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>28dcf9ec-a84f-4a9f-986d-2bd2e4b79421</onsuccess>
    <resource object="Blue Prism - API - Work Queues" action="GET Items by WORKQUEUE ID" />
  </stage>
  <stage stageid="73000a87-8e18-4210-8bf8-3f3c43f61b70" name="When:" type="Note">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <narrative>WHEN the default parameter of itemsPerPage and paginationToken has no set values 
AND Get Items by WORKQUEUE ID was requested
THEN a response code of 200 should be returned
AND default number of 10 rows will display
AND the 11th item/log  will not display</narrative>
    <display x="15" y="-75" w="240" h="90" />
    <onsuccess>6b72b000-cca0-44c6-993c-d112c351574b</onsuccess>
  </stage>
  <stage stageid="7e5d99b9-062f-4a06-a111-3ee62b80a62f" name="When:" type="Note">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <narrative>WHEN itemsPerPage is set to 1 and paginationToken has no values
AND Get Items by WORKQUEUE ID was requested
THEN a response code of 200 should be returned
AND only 1 log item will display (this will be the first item in the log)
AND paginationToken will be returned so the next page can be navigated to
AND the 2nd log item will not be returned</narrative>
    <display x="15" y="960" w="240" h="90" />
    <onsuccess>68550989-58af-40eb-bd27-4a118ca459f4</onsuccess>
  </stage>
  <stage stageid="9512bd3e-ef27-4e27-9d6a-19fc3e609865" name="Anchor3" type="Anchor">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="180" y="2010" w="10" h="10" />
    <onsuccess>50276aea-900f-4422-81b4-9c0b3eca50c8</onsuccess>
  </stage>
  <stage stageid="50276aea-900f-4422-81b4-9c0b3eca50c8" name="Anchor5" type="Anchor">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="180" y="-75" w="10" h="10" />
    <onsuccess>642001a8-0490-4b7a-abd5-fab80ab5f5b2</onsuccess>
  </stage>
  <stage stageid="8d635eb1-d575-44bd-b41d-72f03a7558d7" name="Search output collection" type="LoopStart">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="285" w="90" h="30" />
    <onsuccess>7f5d9877-725a-47b5-ac09-9b29d4d697e7</onsuccess>
    <groupid>80f01c78-3b92-4e28-8a33-0fb3e9f854f1</groupid>
    <looptype>ForEach</looptype>
    <loopdata>outputcollection.items.JSON:Array</loopdata>
  </stage>
  <stage stageid="c0959a4e-8b73-41bc-a58c-a2260564abd3" name="Search output collection" type="LoopEnd">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="375" w="90" h="30" />
    <onsuccess>c8a0f0b1-ea1f-4496-8191-e1ff864d9781</onsuccess>
    <groupid>80f01c78-3b92-4e28-8a33-0fb3e9f854f1</groupid>
  </stage>
  <stage stageid="7f5d9877-725a-47b5-ac09-9b29d4d697e7" name="Check the 11th session log item does not show" type="Decision">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="15" y="330" w="90" h="30" />
    <decision expression="[outputcollection.items.JSON:Array.priority]=11&#xA;AND&#xA;[outputcollection.items.JSON:Array.status]=&quot;Test11&quot;" />
    <ontrue>27077d4c-fedd-473e-a55f-fbafa68a0b20</ontrue>
    <onfalse>c0959a4e-8b73-41bc-a58c-a2260564abd3</onfalse>
  </stage>
  <stage stageid="658abf87-3923-41e4-b137-0ee257b623f4" name="Pagination Tokens" type="Block">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-270" y="30" w="150" h="285" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="147257c7-1ca9-4d4f-98e4-b03c973fab4c" name="Note3" type="Note">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <narrative>Default items per page = 10

No Pagination Token = Main page/1st Page

work queue items in total  in total = 14
</narrative>
    <display x="-195" y="90" w="120" h="90" />
    <font family="Segoe UI" size="10" style="Regular" color="993366" />
  </stage>
  <stage stageid="8c4740fa-a654-4cca-a758-2ceff4ca3452" name="Pagination Token  Log Items 10 per page, page 2" type="Data">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-195" y="225" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="987e6d7d-ffd4-43d4-b94a-2f1d1deae540" name="Pagination Token  Log Items 1 per page, page 2" type="Data">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-195" y="255" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="6abe1c0c-455b-41b7-818c-ffa8781d56ed" name="Pagination Token  Log Items 1 per page, page 3" type="Data">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-195" y="285" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="27077d4c-fedd-473e-a55f-fbafa68a0b20" name="Unexpected work queue item found" type="Exception">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="105" y="330" />
    <exception localized="yes" type="&quot;Unexpected log item found&quot;" detail="&quot;Scenario 1 failed: Did not expect the 11th work queue item to be found but it was found when pagination and items per page is left at default values&quot;" />
  </stage>
  <stage stageid="c7db0cad-f196-44ee-935b-0673e2054dff" name="Response Code and Session Count correct?" type="Decision">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="15" y="690" w="90" h="30" />
    <decision expression="[HTTP Response code]=&quot;200&quot;&#xA;AND&#xA;[Number of Items Returned]=4" />
    <ontrue>e604857e-4172-494f-85a0-000d0e818903</ontrue>
    <onfalse>b578225d-777d-4284-9b07-952903953ed6</onfalse>
  </stage>
  <stage stageid="ddbd1a3a-869c-4bf6-92e9-6f5a11cba5d1" name="Default itemsPerPage and paginationToken Page #2" type="Block">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-105" y="525" w="255" h="375" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="ea620987-e8d5-4d30-a79a-cfb7ef25db77" name="Convert Response to Collection" type="Action">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="600" w="90" h="30" />
    <inputs>
      <input type="text" name="json" friendlyname="json" expr="[Response Content]" />
    </inputs>
    <outputs>
      <output type="collection" name="Result" friendlyname="Result" stage="outputcollection" />
    </outputs>
    <onsuccess>71deb7fc-383b-4958-b5f9-fb84822b842d</onsuccess>
    <resource object="Utility - JSON" action="JSON to Collection" />
  </stage>
  <stage stageid="71deb7fc-383b-4958-b5f9-fb84822b842d" name="Count Rows" type="Action">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="645" w="90" h="30" />
    <inputs>
      <input type="text" name="Collection Name" friendlyname="Collection Name" narrative="The name of the collection to act upon" expr="&quot;outputcollection.items&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The number of rows counted in the collection" stage="Number of Items Returned" />
    </outputs>
    <onsuccess>c7db0cad-f196-44ee-935b-0673e2054dff</onsuccess>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Count Rows" />
  </stage>
  <stage stageid="b578225d-777d-4284-9b07-952903953ed6" name="Failed" type="Exception">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="105" y="690" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Incorrect response returned scenario 2 - Check Default itemsPerPage and paginationToken Page #2&quot;" />
  </stage>
  <stage stageid="6cec1abf-3b71-42bc-8ce2-23437a74e8db" name="Blue Prism - API - GET Items by WORKQUEUE ID" type="Action">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="15" y="555" w="90" h="30" />
    <inputs>
      <input type="text" name="workQueueId" friendlyname="workQueueId" expr="[Queue 1 ID]" />
      <input type="number" name="itemsPerPage" friendlyname="itemsPerPage" expr="" />
      <input type="text" name="pagingToken" friendlyname="pagingToken" expr="[Pagination Token  Log Items 10 per page, page 2]" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="Response Content" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Response code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>ea620987-e8d5-4d30-a79a-cfb7ef25db77</onsuccess>
    <resource object="Blue Prism - API - Work Queues" action="GET Items by WORKQUEUE ID" />
  </stage>
  <stage stageid="c8a0f0b1-ea1f-4496-8191-e1ff864d9781" name="When:" type="Note">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <narrative>WHEN the parameter of itemsPerPage were left at default values and paginationToken value is set to page #2
AND Get Items by WORKQUEUE ID was requested
THEN a response code of 200 should be returned
AND the remaining rows (4 rows) will display
AND the 11th item/log  will display
AND there will be no more paginationToken due to no more pages to navigate forward.</narrative>
    <display x="15" y="465" w="240" h="90" />
    <onsuccess>6cec1abf-3b71-42bc-8ce2-23437a74e8db</onsuccess>
  </stage>
  <stage stageid="e604857e-4172-494f-85a0-000d0e818903" name="Search sessions log" type="LoopStart">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="735" w="90" h="30" />
    <onsuccess>6cc1e0b3-4d1c-4765-a27d-776a293105af</onsuccess>
    <groupid>7f6b40a2-c54d-414b-9ab6-ce04236b3326</groupid>
    <looptype>ForEach</looptype>
    <loopdata>outputcollection.items.JSON:Array</loopdata>
  </stage>
  <stage stageid="e057cbf6-533e-4d58-a221-5187a619507d" name="Search sessions log" type="LoopEnd">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="825" w="90" h="30" />
    <onsuccess>76d0ccb0-91df-492e-b9df-e077935045d6</onsuccess>
    <groupid>7f6b40a2-c54d-414b-9ab6-ce04236b3326</groupid>
  </stage>
  <stage stageid="6cc1e0b3-4d1c-4765-a27d-776a293105af" name="Check that the 11th log item show" type="Decision">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="15" y="780" w="90" h="30" />
    <decision expression="[outputcollection.items.JSON:Array.priority]=11&#xA;AND&#xA;[outputcollection.items.JSON:Array.status]=&quot;Test11&quot;" />
    <ontrue>fc806c73-1b08-4527-9e13-7887af4c8cc5</ontrue>
    <onfalse>e057cbf6-533e-4d58-a221-5187a619507d</onfalse>
  </stage>
  <stage stageid="76d0ccb0-91df-492e-b9df-e077935045d6" name="Unexpected log item found" type="Exception">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="105" y="825" />
    <exception localized="yes" type="&quot;Unexpected log item found&quot;" detail="&quot;Scenario 1 failed: Expect the 11th log item to be found but it was not found when pagination values were entered for page 2 and items per page is left at default values&quot;" />
  </stage>
  <stage stageid="6eb16442-0ff3-4af8-bac9-f97022f2a9ab" name="No Pagination Token Returned?" type="Decision">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="15" y="870" w="90" h="30" />
    <decision expression="[outputcollection.pagingToken]&lt;&gt;&quot;&quot;" />
    <ontrue>34157d8e-e580-404f-ac9c-2669129511be</ontrue>
    <onfalse>7e5d99b9-062f-4a06-a111-3ee62b80a62f</onfalse>
  </stage>
  <stage stageid="34157d8e-e580-404f-ac9c-2669129511be" name="Pagination Token unexpectedly was returned" type="Exception">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="105" y="870" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Scenario 2 failed when checking default values and page #2: Pagination token was not expected to return as this is the last page&quot;" />
  </stage>
  <stage stageid="663ac846-d9e8-4426-a684-bd37002734ba" name="Anchor7" type="Anchor">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="870" w="10" h="10" />
    <onsuccess>6eb16442-0ff3-4af8-bac9-f97022f2a9ab</onsuccess>
  </stage>
  <stage stageid="fc806c73-1b08-4527-9e13-7887af4c8cc5" name="Anchor8" type="Anchor">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="780" w="10" h="10" />
    <onsuccess>663ac846-d9e8-4426-a684-bd37002734ba</onsuccess>
  </stage>
  <stage stageid="7bcda786-fc07-4747-905a-9449c861abb8" name="Response Code and workqueue item Count correct?" type="Decision">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="15" y="1185" w="90" h="30" />
    <decision expression="[HTTP Response code]=&quot;200&quot;&#xA;AND&#xA;[Number of Items Returned]=1" />
    <ontrue>eeba1df5-f85f-4d02-99fa-7d321f6b2e4c</ontrue>
    <onfalse>728ab484-610b-4f14-9a7d-a96872b239b4</onfalse>
  </stage>
  <stage stageid="abc66222-0bc4-46f9-b094-3afe2efdbaf4" name="1 itemsPerPage and paginationToken no values" type="Block">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-105" y="1020" w="255" h="420" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="e8325667-69b8-4182-9715-c2c511065742" name="Convert Response to Collection" type="Action">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="1095" w="90" h="30" />
    <inputs>
      <input type="text" name="json" friendlyname="json" expr="[Response Content]" />
    </inputs>
    <outputs>
      <output type="collection" name="Result" friendlyname="Result" stage="outputcollection" />
    </outputs>
    <onsuccess>8d577fd7-aec2-4b68-ac41-18c05ea3ab8f</onsuccess>
    <resource object="Utility - JSON" action="JSON to Collection" />
  </stage>
  <stage stageid="8d577fd7-aec2-4b68-ac41-18c05ea3ab8f" name="Count Rows" type="Action">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="1140" w="90" h="30" />
    <inputs>
      <input type="text" name="Collection Name" friendlyname="Collection Name" narrative="The name of the collection to act upon" expr="&quot;outputcollection.items&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The number of rows counted in the collection" stage="Number of Items Returned" />
    </outputs>
    <onsuccess>7bcda786-fc07-4747-905a-9449c861abb8</onsuccess>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Count Rows" />
  </stage>
  <stage stageid="728ab484-610b-4f14-9a7d-a96872b239b4" name="Failed" type="Exception">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="105" y="1185" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Incorrect response returned scenario 3 - Check itemsPerPage=1 and paginationToken has no value&quot;" />
  </stage>
  <stage stageid="68550989-58af-40eb-bd27-4a118ca459f4" name="Blue Prism - API - GET Items by WORKQUEUE ID" type="Action">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="1050" w="90" h="30" />
    <inputs>
      <input type="text" name="workQueueId" friendlyname="workQueueId" expr="[Queue 1 ID]" />
      <input type="number" name="itemsPerPage" friendlyname="itemsPerPage" expr="1" />
      <input type="text" name="pagingToken" friendlyname="pagingToken" expr="" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="Response Content" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Response code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>e8325667-69b8-4182-9715-c2c511065742</onsuccess>
    <resource object="Blue Prism - API - Work Queues" action="GET Items by WORKQUEUE ID" />
  </stage>
  <stage stageid="eeba1df5-f85f-4d02-99fa-7d321f6b2e4c" name="Search workqueue items" type="LoopStart">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="1230" w="90" h="30" />
    <onsuccess>32484dc7-523f-4f16-b7ae-922dffabe123</onsuccess>
    <groupid>4c4958ae-1059-4868-a91c-74084c7448ce</groupid>
    <looptype>ForEach</looptype>
    <loopdata>outputcollection.items.JSON:Array</loopdata>
  </stage>
  <stage stageid="e8f9775e-19ff-4c83-8f43-5a9af0df795e" name="Search workqueue items" type="LoopEnd">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="1320" w="90" h="30" />
    <onsuccess>c5188fa8-2fc7-4acd-ad6e-6b534f5fd43b</onsuccess>
    <groupid>4c4958ae-1059-4868-a91c-74084c7448ce</groupid>
  </stage>
  <stage stageid="32484dc7-523f-4f16-b7ae-922dffabe123" name="Check log item number 2 is not returned" type="Decision">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="15" y="1275" w="90" h="30" />
    <decision expression="[outputcollection.items.JSON:Array.priority]=2&#xA;AND&#xA;[outputcollection.items.JSON:Array.status]=&quot;Test2&quot;" />
    <ontrue>027718f4-293e-4354-9c2f-cf9ed4733bf9</ontrue>
    <onfalse>e8f9775e-19ff-4c83-8f43-5a9af0df795e</onfalse>
  </stage>
  <stage stageid="027718f4-293e-4354-9c2f-cf9ed4733bf9" name="Unexpected log item found" type="Exception">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="105" y="1275" />
    <exception localized="yes" type="&quot;Unexpected log item found&quot;" detail="&quot;Scenario 1 failed: Did not expect work queue  item number 2 to be found but it was found when there was 1 itemsPerPage and no paginationToken values supplied.&quot;" />
  </stage>
  <stage stageid="c5188fa8-2fc7-4acd-ad6e-6b534f5fd43b" name="Pagination Token was Returned?" type="Decision">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="15" y="1365" w="90" h="30" />
    <decision expression="[outputcollection.pagingToken]&lt;&gt;&quot;&quot;" />
    <ontrue>e8d7c9d8-aca5-41bb-9360-69a2cc09bf51</ontrue>
    <onfalse>91dbac76-8adf-48b7-b15f-e76e21c3e1cd</onfalse>
  </stage>
  <stage stageid="91dbac76-8adf-48b7-b15f-e76e21c3e1cd" name="Pagination Token does not exist" type="Exception">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="105" y="1365" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Scenario 3 failed when checking 1 itemsPerPage and no paginationToken values. The Pagination token was not returned&quot;" />
  </stage>
  <stage stageid="e8d7c9d8-aca5-41bb-9360-69a2cc09bf51" name="Store Pagination Token for Navigating" type="Calculation">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="1410" w="90" h="30" />
    <onsuccess>a1fb608b-dd46-4e82-ab65-3588d9899520</onsuccess>
    <calculation expression="[outputcollection.pagingToken]" stage="Pagination Token  Log Items 1 per page, page 2" />
  </stage>
  <stage stageid="865a3de5-bb1a-4b56-9b74-025dfb56fe97" name="1 itemsPerPage and paginationToken page #3" type="Block">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="210" y="-15" w="255" h="420" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="642001a8-0490-4b7a-abd5-fab80ab5f5b2" name="When:" type="Note">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <narrative>WHEN itemsPerPage is set to 1 and paginationToken has page #3's token
AND Get Items by WORKQUEUE ID was requested
THEN a response code of 200 should be returned
AND only 1 log item will display
AND paginationToken will be returned so the next page can be navigated to
AND the 3rd log item will be returned</narrative>
    <display x="330" y="-75" w="240" h="90" />
    <onsuccess>288d3b7a-5793-480b-937a-983f5e2b8dcf</onsuccess>
  </stage>
  <stage stageid="61c7bbe4-36df-4c76-8c5e-647bdbc69a87" name="itemsPerPage = 15 and paginationToken no values" type="Block">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="210" y="1020" w="255" h="420" />
    <font family="Segoe UI" size="10" style="Regular" color="33CCCC" />
  </stage>
  <stage stageid="1305b4e4-4978-4d8e-a959-182645415b00" name="When:" type="Note">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <narrative>WHEN itemsPerPage is set to 15 and paginationToken has no values
AND Get Items by WORKQUEUE ID was requested
THEN a response code of 200 should be returned
AND 14 log items will display
AND paginationToken will not be returned 
AND the 14th log item will display</narrative>
    <display x="330" y="960" w="240" h="90" />
    <onsuccess>47aed7b5-1f3b-4fde-ad9a-5fb67c665f49</onsuccess>
  </stage>
  <stage stageid="1abf8f15-b0ed-4238-b972-d3ad0e979496" name="itemsPerPage = 1000 and paginationToken no values" type="Block">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="210" y="1560" w="255" h="420" />
    <font family="Segoe UI" size="10" style="Regular" color="33CCCC" />
  </stage>
  <stage stageid="bc14a3dd-1829-4de8-824a-ce1a2b960da4" name="When:" type="Note">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <narrative>WHEN itemsPerPage is set to 1000 and paginationToken has no values
AND Get Items by WORKQUEUE ID was requested
THEN a response code of 200 should be returned
AND 14 log items will display
AND paginationToken will not be returned 
AND the 14th log item will be returned</narrative>
    <display x="330" y="1500" w="240" h="90" />
    <onsuccess>b7e0c32a-3009-4b50-97d1-5953d4888bf1</onsuccess>
  </stage>
  <stage stageid="bf5ee2f7-3c1b-4eec-a2d5-20fda69c9a69" name="End4" type="End">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="2100" />
  </stage>
  <stage stageid="88ff6fef-d049-46a6-87e0-29a7a21d00d1" name="1 itemsPerPage and paginationToken page #2" type="Block">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-105" y="1575" w="255" h="420" />
    <font family="Segoe UI" size="10" style="Regular" color="33CCCC" />
  </stage>
  <stage stageid="a1fb608b-dd46-4e82-ab65-3588d9899520" name="When:" type="Note">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <narrative>WHEN itemsPerPage is set to 1 and paginationToken has page #2's token
AND Get Items by WORKQUEUE ID was requested
THEN a response code of 200 should be returned
AND only 1 log item will display
AND paginationToken will be returned so the next page can be navigated to
AND the 3rd log item will not be returned</narrative>
    <display x="15" y="1515" w="240" h="90" />
    <onsuccess>4be4605e-2942-4467-a5b4-c8bb4c369eba</onsuccess>
  </stage>
  <stage stageid="702ada8c-faad-4820-9e87-f02c8b307e18" name="Anchor2" type="Anchor">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="2010" w="10" h="10" />
    <font family="Segoe UI" size="10" style="Regular" color="993366" />
    <onsuccess>9512bd3e-ef27-4e27-9d6a-19fc3e609865</onsuccess>
  </stage>
  <stage stageid="5a0c9120-4923-40c3-aac0-9c310d0f797d" name="Navigate back to previous page using paginationToken" type="Block">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="210" y="525" w="255" h="375" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="bfaf9267-d78e-427d-a9a7-b540009ea91a" name="When:" type="Note">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <narrative>WHEN itemsPerPage is set to 1 and paginationToken has page #2's token
THEN I can NAVIGATE BACK to page 2 
AND Get Items by WORKQUEUE ID was requested
THEN a response code of 200 should be returned
AND only 1 log item will display
AND paginationToken will be returned so the previous page can be navigated to
AND the 2nd log item will be returned</narrative>
    <display x="330" y="465" w="300" h="90" />
    <onsuccess>b59908a2-1c15-4d0e-8375-c78ed202fdb5</onsuccess>
  </stage>
  <stage stageid="8f084838-d5c7-44ca-9439-3dce0f5f77a8" name="HTTP Response code" type="Data">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-195" y="-105" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="c051a814-45d7-4cd2-b639-e0b83944967a" name="Response Content" type="Data">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-195" y="-75" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">{"pagingToken":"eyJQcmV2aW91c0lkVmFsdWUiOjUsIlByZXZpb3VzU29ydENvbHVtblZhbHVlIjoiMjAyMS0wMy0wNFQxMTozOToxMi4yNzcwMDAwKzAwOjAwIiwiRGF0YVR5cGUiOiJEYXRlVGltZU9mZnNldCIsIlBhcmFtZXRlcnNIYXNoQ29kZSI6MTQwNTM5MTEwMX0=","items":[{"id":"d61be26b-110d-4e14-bab7-28fd9b1b45f6","priority":1,"ident":14,"state":"Pending","keyValue":"","status":"Test1","tags":["QA1"],"attemptNumber":1,"loadedDate":"2021-03-04T11:41:18.27+00:00","deferredDate":null,"lockedDate":null,"completedDate":null,"exceptionedDate":null,"lastUpdated":"2021-03-04T11:41:18.27+00:00","workTimeInSeconds":0,"attemptWorkTimeInSeconds":0,"exceptionReason":"","resource":"BPEU569_debug"},{"id":"4436be78-414c-43af-892c-6ad4dc31131e","priority":2,"ident":13,"state":"Pending","keyValue":"","status":"Test2","tags":["QA2"],"attemptNumber":1,"loadedDate":"2021-03-04T11:41:04.24+00:00","deferredDate":null,"lockedDate":null,"completedDate":null,"exceptionedDate":null,"lastUpdated":"2021-03-04T11:41:04.24+00:00","workTimeInSeconds":0,"attemptWorkTimeInSeconds":0,"exceptionReason":"","resource":"BPEU569_debug"},{"id":"84646e8d-eb11-446e-ab63-f2c6c74ec976","priority":3,"ident":12,"state":"Pending","keyValue":"","status":"Test3","tags":["QA3"],"attemptNumber":1,"loadedDate":"2021-03-04T11:40:50.253+00:00","deferredDate":null,"lockedDate":null,"completedDate":null,"exceptionedDate":null,"lastUpdated":"2021-03-04T11:40:50.253+00:00","workTimeInSeconds":0,"attemptWorkTimeInSeconds":0,"exceptionReason":"","resource":"BPEU569_debug"},{"id":"90ca623b-a135-41f3-b4bb-ab2b30fc43d5","priority":4,"ident":11,"state":"Pending","keyValue":"","status":"Test4","tags":["QA4"],"attemptNumber":1,"loadedDate":"2021-03-04T11:40:36.24+00:00","deferredDate":null,"lockedDate":null,"completedDate":null,"exceptionedDate":null,"lastUpdated":"2021-03-04T11:40:36.24+00:00","workTimeInSeconds":0,"attemptWorkTimeInSeconds":0,"exceptionReason":"","resource":"BPEU569_debug"},{"id":"31380dab-3423-4103-ab63-0528c9c9cff7","priority":5,"ident":10,"state":"Pending","keyValue":"","status":"Test5","tags":["QA5"],"attemptNumber":1,"loadedDate":"2021-03-04T11:40:22.253+00:00","deferredDate":null,"lockedDate":null,"completedDate":null,"exceptionedDate":null,"lastUpdated":"2021-03-04T11:40:22.253+00:00","workTimeInSeconds":0,"attemptWorkTimeInSeconds":0,"exceptionReason":"","resource":"BPEU569_debug"},{"id":"7ae4a299-e302-45f8-8c4b-b924ce7f2719","priority":6,"ident":9,"state":"Pending","keyValue":"","status":"Test6","tags":["QA6"],"attemptNumber":1,"loadedDate":"2021-03-04T11:40:08.22+00:00","deferredDate":null,"lockedDate":null,"completedDate":null,"exceptionedDate":null,"lastUpdated":"2021-03-04T11:40:08.22+00:00","workTimeInSeconds":0,"attemptWorkTimeInSeconds":0,"exceptionReason":"","resource":"BPEU569_debug"},{"id":"13d70a4d-1cf1-4018-9e9b-beea0b3c828b","priority":7,"ident":8,"state":"Pending","keyValue":"","status":"Test7","tags":["QA7"],"attemptNumber":1,"loadedDate":"2021-03-04T11:39:54.233+00:00","deferredDate":null,"lockedDate":null,"completedDate":null,"exceptionedDate":null,"lastUpdated":"2021-03-04T11:39:54.233+00:00","workTimeInSeconds":0,"attemptWorkTimeInSeconds":0,"exceptionReason":"","resource":"BPEU569_debug"},{"id":"c98400dc-ce4c-4986-ac36-d6428f41e1af","priority":8,"ident":7,"state":"Pending","keyValue":"","status":"Test8","tags":["QA8"],"attemptNumber":1,"loadedDate":"2021-03-04T11:39:40.23+00:00","deferredDate":null,"lockedDate":null,"completedDate":null,"exceptionedDate":null,"lastUpdated":"2021-03-04T11:39:40.23+00:00","workTimeInSeconds":0,"attemptWorkTimeInSeconds":0,"exceptionReason":"","resource":"BPEU569_debug"},{"id":"d68e75d7-1241-423f-b7e4-a5dfb94209a8","priority":9,"ident":6,"state":"Pending","keyValue":"","status":"Test9","tags":["QA9"],"attemptNumber":1,"loadedDate":"2021-03-04T11:39:26.24+00:00","deferredDate":null,"lockedDate":null,"completedDate":null,"exceptionedDate":null,"lastUpdated":"2021-03-04T11:39:26.24+00:00","workTimeInSeconds":0,"attemptWorkTimeInSeconds":0,"exceptionReason":"","resource":"BPEU569_debug"},{"id":"38dd6c87-846a-4246-b9bf-d4ac96a50f55","priority":10,"ident":5,"state":"Pending","keyValue":"","status":"Test10","tags":["QA10"],"attemptNumber":1,"loadedDate":"2021-03-04T11:39:12.277+00:00","deferredDate":null,"lockedDate":null,"completedDate":null,"exceptionedDate":null,"lastUpdated":"2021-03-04T11:39:12.277+00:00","workTimeInSeconds":0,"attemptWorkTimeInSeconds":0,"exceptionReason":"","resource":"BPEU569_debug"}]}</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="95b29e65-f489-4c16-abe1-e0061ffc16c4" name="outputcollection" type="Collection">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="-195" y="-45" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
    <collectioninfo>
      <field name="pagingToken" type="text" />
      <field name="items" type="collection">
        <field name="JSON:Array" type="collection" />
      </field>
    </collectioninfo>
  </stage>
  <stage stageid="8ed37076-57d0-4b4b-ab2a-1c6e4a763721" name="Pagination Token does not exist" type="Exception">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="105" y="105" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Scenario 1 failed when checking default values: A Pagination token was not returned&quot;" />
  </stage>
  <stage stageid="ce0ae777-6601-4f51-8d8b-88430318fe3c" name="Store Pagination Token for Navigating" type="Calculation">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="150" w="90" h="30" />
    <onsuccess>a81ab7c1-0f83-40b6-84a5-cca56eeadbee</onsuccess>
    <calculation expression="[outputcollection.pagingToken]" stage="Pagination Token  Log Items 10 per page, page 2" />
  </stage>
  <stage stageid="2bd95ae2-9f51-42d8-a668-bd6b733fdfe9" name="ensure that a pagination token is returned?" type="Decision">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="15" y="105" />
    <decision expression="[outputcollection.pagingToken]&lt;&gt;&quot;&quot;" />
    <ontrue>ce0ae777-6601-4f51-8d8b-88430318fe3c</ontrue>
    <onfalse>8ed37076-57d0-4b4b-ab2a-1c6e4a763721</onfalse>
  </stage>
  <stage stageid="4d17d8d6-c829-452c-a274-bdbde01adba8" name="Response Code and workqueue item Count correct?" type="Decision">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="15" y="1740" w="90" h="30" />
    <decision expression="[HTTP Response code]=&quot;200&quot;&#xA;AND&#xA;[Number of Items Returned]=1" />
    <ontrue>107631c5-0b2d-44e5-b7f4-5f53be1a0a3a</ontrue>
    <onfalse>ef4addfc-1c90-45bc-8be3-1b46f573c81d</onfalse>
  </stage>
  <stage stageid="55aae300-8c09-4850-8ddf-3394f1b315f4" name="Convert Response to Collection" type="Action">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="1650" w="90" h="30" />
    <inputs>
      <input type="text" name="json" friendlyname="json" expr="[Response Content]" />
    </inputs>
    <outputs>
      <output type="collection" name="Result" friendlyname="Result" stage="outputcollection" />
    </outputs>
    <onsuccess>c4a88b31-1bff-4c6f-8cdf-9f1323812845</onsuccess>
    <resource object="Utility - JSON" action="JSON to Collection" />
  </stage>
  <stage stageid="c4a88b31-1bff-4c6f-8cdf-9f1323812845" name="Count Rows" type="Action">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="1695" w="90" h="30" />
    <inputs>
      <input type="text" name="Collection Name" friendlyname="Collection Name" narrative="The name of the collection to act upon" expr="&quot;outputcollection.items&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The number of rows counted in the collection" stage="Number of Items Returned" />
    </outputs>
    <onsuccess>4d17d8d6-c829-452c-a274-bdbde01adba8</onsuccess>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Count Rows" />
  </stage>
  <stage stageid="ef4addfc-1c90-45bc-8be3-1b46f573c81d" name="Failed" type="Exception">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="105" y="1740" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Incorrect response returned scenario 4 - Check itemsPerPage=1 and paginationToken page 2&quot;" />
  </stage>
  <stage stageid="4be4605e-2942-4467-a5b4-c8bb4c369eba" name="Blue Prism - API - GET Items by WORKQUEUE ID" type="Action">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="1605" w="90" h="30" />
    <inputs>
      <input type="text" name="workQueueId" friendlyname="workQueueId" expr="[Queue 1 ID]" />
      <input type="number" name="itemsPerPage" friendlyname="itemsPerPage" expr="1" />
      <input type="text" name="pagingToken" friendlyname="pagingToken" expr="[Pagination Token  Log Items 1 per page, page 2]" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="Response Content" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Response code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>55aae300-8c09-4850-8ddf-3394f1b315f4</onsuccess>
    <resource object="Blue Prism - API - Work Queues" action="GET Items by WORKQUEUE ID" />
  </stage>
  <stage stageid="107631c5-0b2d-44e5-b7f4-5f53be1a0a3a" name="Search workqueue items" type="LoopStart">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="1785" w="90" h="30" />
    <onsuccess>c601767d-e912-43a7-a2ac-ab6ba96e78d5</onsuccess>
    <groupid>1873591b-01f9-4757-88b8-216a8d87d567</groupid>
    <looptype>ForEach</looptype>
    <loopdata>outputcollection.items.JSON:Array</loopdata>
  </stage>
  <stage stageid="27509866-21e6-463b-a105-d6cc5ab83c58" name="Search workqueue items" type="LoopEnd">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="1875" w="90" h="30" />
    <onsuccess>288430af-4066-4dc5-a1c6-2083859d81f6</onsuccess>
    <groupid>1873591b-01f9-4757-88b8-216a8d87d567</groupid>
  </stage>
  <stage stageid="c601767d-e912-43a7-a2ac-ab6ba96e78d5" name="Check log item number 3 is not returned" type="Decision">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="15" y="1830" w="90" h="30" />
    <decision expression="[outputcollection.items.JSON:Array.priority]=3&#xA;AND&#xA;[outputcollection.items.JSON:Array.status]=&quot;Test3&quot;" />
    <ontrue>96b898f3-5bbc-43c6-a0c9-5d4345287a39</ontrue>
    <onfalse>27509866-21e6-463b-a105-d6cc5ab83c58</onfalse>
  </stage>
  <stage stageid="96b898f3-5bbc-43c6-a0c9-5d4345287a39" name="Unexpected log item found" type="Exception">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="105" y="1830" />
    <exception localized="yes" type="&quot;Unexpected log item found&quot;" detail="&quot;Scenario 4 failed: Did not expect work queue  item number 3 to be found but it was found when there was 1 itemsPerPage and a paginationToken value supplied.&quot;" />
  </stage>
  <stage stageid="288430af-4066-4dc5-a1c6-2083859d81f6" name="Pagination Token was Returned?" type="Decision">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="15" y="1920" w="90" h="30" />
    <decision expression="[outputcollection.pagingToken]&lt;&gt;&quot;&quot;" />
    <ontrue>236d827c-d6b2-4f9a-95ae-5a2359ff2e60</ontrue>
    <onfalse>e56c7591-14e4-428b-a4b1-ca921434831d</onfalse>
  </stage>
  <stage stageid="e56c7591-14e4-428b-a4b1-ca921434831d" name="Pagination Token does not exist" type="Exception">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="105" y="1920" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Scenario 1 failed when checking 1 itemsPerPage and paginationToken values for 2nd page. The Pagination token was not returned&quot;" />
  </stage>
  <stage stageid="236d827c-d6b2-4f9a-95ae-5a2359ff2e60" name="Store Pagination Token for Navigating" type="Calculation">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="1965" w="90" h="30" />
    <onsuccess>702ada8c-faad-4820-9e87-f02c8b307e18</onsuccess>
    <calculation expression="[outputcollection.pagingToken]" stage="Pagination Token  Log Items 1 per page, page 3" />
  </stage>
  <stage stageid="4e906af4-d2eb-4489-a395-432ee736d6f9" name="Response Code and workqueue item Count correct?" type="Decision">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="330" y="150" w="90" h="30" />
    <decision expression="[HTTP Response code]=&quot;200&quot;&#xA;AND&#xA;[Number of Items Returned]=1" />
    <ontrue>80ad2f14-045a-44ca-916f-85ad5d0973c9</ontrue>
    <onfalse>1328593a-59e4-4e05-9f4d-b8c05675272a</onfalse>
  </stage>
  <stage stageid="2215e2ac-908d-43e4-b302-b906e0204d67" name="Convert Response to Collection" type="Action">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="60" w="90" h="30" />
    <inputs>
      <input type="text" name="json" friendlyname="json" expr="[Response Content]" />
    </inputs>
    <outputs>
      <output type="collection" name="Result" friendlyname="Result" stage="outputcollection" />
    </outputs>
    <onsuccess>1761650e-8dc8-4af4-b7c9-6d7c8df92894</onsuccess>
    <resource object="Utility - JSON" action="JSON to Collection" />
  </stage>
  <stage stageid="1761650e-8dc8-4af4-b7c9-6d7c8df92894" name="Count Rows" type="Action">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="105" w="90" h="30" />
    <inputs>
      <input type="text" name="Collection Name" friendlyname="Collection Name" narrative="The name of the collection to act upon" expr="&quot;outputcollection.items&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The number of rows counted in the collection" stage="Number of Items Returned" />
    </outputs>
    <onsuccess>4e906af4-d2eb-4489-a395-432ee736d6f9</onsuccess>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Count Rows" />
  </stage>
  <stage stageid="1328593a-59e4-4e05-9f4d-b8c05675272a" name="Failed" type="Exception">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="420" y="150" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Incorrect response returned scenario 5 - Check itemsPerPage=1 and paginationToken Page 3&quot;" />
  </stage>
  <stage stageid="288d3b7a-5793-480b-937a-983f5e2b8dcf" name="Blue Prism - API - GET Items by WORKQUEUE ID" type="Action">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="15" w="90" h="30" />
    <inputs>
      <input type="text" name="workQueueId" friendlyname="workQueueId" expr="[Queue 1 ID]" />
      <input type="number" name="itemsPerPage" friendlyname="itemsPerPage" expr="1" />
      <input type="text" name="pagingToken" friendlyname="pagingToken" expr="[Pagination Token  Log Items 1 per page, page 3]" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="Response Content" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Response code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>2215e2ac-908d-43e4-b302-b906e0204d67</onsuccess>
    <resource object="Blue Prism - API - Work Queues" action="GET Items by WORKQUEUE ID" />
  </stage>
  <stage stageid="80ad2f14-045a-44ca-916f-85ad5d0973c9" name="Search workqueue items" type="LoopStart">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="195" w="90" h="30" />
    <onsuccess>d92f9594-20d5-4b6e-b65f-24063a1055b4</onsuccess>
    <groupid>829d35d3-3fe7-4e4d-808c-b93ca12eab7d</groupid>
    <looptype>ForEach</looptype>
    <loopdata>outputcollection.items.JSON:Array</loopdata>
  </stage>
  <stage stageid="3b606289-f630-494c-8ff0-ce0c69fbe84b" name="Search workqueue items" type="LoopEnd">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="285" w="90" h="30" />
    <onsuccess>86276784-f79d-424d-be46-635f8eed7def</onsuccess>
    <groupid>829d35d3-3fe7-4e4d-808c-b93ca12eab7d</groupid>
  </stage>
  <stage stageid="d92f9594-20d5-4b6e-b65f-24063a1055b4" name="Check log item number 4 is not returned" type="Decision">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="330" y="240" w="90" h="30" />
    <decision expression="[outputcollection.items.JSON:Array.priority]=4&#xA;AND&#xA;[outputcollection.items.JSON:Array.status]=&quot;Test4&quot;" />
    <ontrue>bf30721c-dd4c-49a2-b8c2-aead11bf0926</ontrue>
    <onfalse>3b606289-f630-494c-8ff0-ce0c69fbe84b</onfalse>
  </stage>
  <stage stageid="bf30721c-dd4c-49a2-b8c2-aead11bf0926" name="Unexpected log item found" type="Exception">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="420" y="240" />
    <exception localized="yes" type="&quot;Unexpected log item found&quot;" detail="&quot;Scenario 5 failed: Did not expect work queue  item number 4 to be found but it was found when there was 1 itemsPerPage and a paginationToken Page 3 value supplied.&quot;" />
  </stage>
  <stage stageid="86276784-f79d-424d-be46-635f8eed7def" name="Pagination Token was Returned?" type="Decision">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="330" y="330" w="90" h="30" />
    <decision expression="[outputcollection.pagingToken]&lt;&gt;&quot;&quot;" />
    <ontrue>b17a01f7-15bf-451f-bc48-42af579c8cb3</ontrue>
    <onfalse>0a0649d7-90ed-4742-a4f2-822ed49bbbf3</onfalse>
  </stage>
  <stage stageid="0a0649d7-90ed-4742-a4f2-822ed49bbbf3" name="Pagination Token does not exist" type="Exception">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="420" y="330" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Scenario 5 failed when checking 1 itemsPerPage and paginationToken values for 3rd page. The Pagination token was not returned&quot;" />
  </stage>
  <stage stageid="b17a01f7-15bf-451f-bc48-42af579c8cb3" name="Store Pagination Token for Navigating" type="Calculation">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="375" w="90" h="30" />
    <onsuccess>bfaf9267-d78e-427d-a9a7-b540009ea91a</onsuccess>
    <calculation expression="[outputcollection.pagingToken]" stage="Pagination Token  Log Items 1 per page, page 3" />
  </stage>
  <stage stageid="3577eb5c-4d1e-4fd4-b77c-508184dc0431" name="Response Code and workqueue item Count correct?" type="Decision">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="330" y="690" w="90" h="30" />
    <decision expression="[HTTP Response code]=&quot;200&quot;&#xA;AND&#xA;[Number of Items Returned]=1" />
    <ontrue>5031eea9-d6c0-4e26-bb0d-06a23c53b764</ontrue>
    <onfalse>3fb1a88c-cb23-4102-9a1f-4bf82da37903</onfalse>
  </stage>
  <stage stageid="d0909e1d-707a-4a3c-ae4c-5edcb1d396c7" name="Convert Response to Collection" type="Action">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="600" w="90" h="30" />
    <inputs>
      <input type="text" name="json" friendlyname="json" expr="[Response Content]" />
    </inputs>
    <outputs>
      <output type="collection" name="Result" friendlyname="Result" stage="outputcollection" />
    </outputs>
    <onsuccess>467bd3ab-f32a-400e-aa4a-a050e2906fbb</onsuccess>
    <resource object="Utility - JSON" action="JSON to Collection" />
  </stage>
  <stage stageid="467bd3ab-f32a-400e-aa4a-a050e2906fbb" name="Count Rows" type="Action">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="645" w="90" h="30" />
    <inputs>
      <input type="text" name="Collection Name" friendlyname="Collection Name" narrative="The name of the collection to act upon" expr="&quot;outputcollection.items&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The number of rows counted in the collection" stage="Number of Items Returned" />
    </outputs>
    <onsuccess>3577eb5c-4d1e-4fd4-b77c-508184dc0431</onsuccess>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Count Rows" />
  </stage>
  <stage stageid="3fb1a88c-cb23-4102-9a1f-4bf82da37903" name="Failed" type="Exception">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="420" y="690" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Incorrect response returned scenario 6 - Check itemsPerPage=1 and paginationToken page 2 (effectively stepping backwards)&quot;" />
  </stage>
  <stage stageid="b59908a2-1c15-4d0e-8375-c78ed202fdb5" name="Blue Prism - API - GET Items by WORKQUEUE ID" type="Action">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="555" w="90" h="30" />
    <inputs>
      <input type="text" name="workQueueId" friendlyname="workQueueId" expr="[Queue 1 ID]" />
      <input type="number" name="itemsPerPage" friendlyname="itemsPerPage" expr="1" />
      <input type="text" name="pagingToken" friendlyname="pagingToken" expr="[Pagination Token  Log Items 1 per page, page 2]" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="Response Content" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Response code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>d0909e1d-707a-4a3c-ae4c-5edcb1d396c7</onsuccess>
    <resource object="Blue Prism - API - Work Queues" action="GET Items by WORKQUEUE ID" />
  </stage>
  <stage stageid="5031eea9-d6c0-4e26-bb0d-06a23c53b764" name="Search workqueue items" type="LoopStart">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="735" w="90" h="30" />
    <onsuccess>34cc1ec3-56e9-41f5-a281-f3f21625d2ab</onsuccess>
    <groupid>3dd65c5a-d32b-4677-ab7d-80a18c68da59</groupid>
    <looptype>ForEach</looptype>
    <loopdata>outputcollection.items.JSON:Array</loopdata>
  </stage>
  <stage stageid="09b50c34-10ff-4f09-ba62-a2900e93beeb" name="Search workqueue items" type="LoopEnd">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="825" w="90" h="30" />
    <onsuccess>ffeb6acc-3469-41e9-adf2-5beb663b8d20</onsuccess>
    <groupid>3dd65c5a-d32b-4677-ab7d-80a18c68da59</groupid>
  </stage>
  <stage stageid="34cc1ec3-56e9-41f5-a281-f3f21625d2ab" name="Check log item number 2 is returned" type="Decision">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="330" y="780" w="90" h="30" />
    <decision expression="[outputcollection.items.JSON:Array.priority]=2&#xA;AND&#xA;[outputcollection.items.JSON:Array.status]=&quot;Test2&quot;" />
    <ontrue>09b50c34-10ff-4f09-ba62-a2900e93beeb</ontrue>
    <onfalse>b78c8e75-48d9-470f-9694-ca2e726861aa</onfalse>
  </stage>
  <stage stageid="b78c8e75-48d9-470f-9694-ca2e726861aa" name="Unexpected log item found" type="Exception">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="420" y="780" />
    <exception localized="yes" type="&quot;Unexpected log item found&quot;" detail="&quot;Scenario 6 failed: was expected that work queue  item number 2 to be found but it was not found when there was 1 itemsPerPage and a paginationToken page 2 value supplied.&quot;" />
  </stage>
  <stage stageid="ffeb6acc-3469-41e9-adf2-5beb663b8d20" name="Pagination Token was Returned?" type="Decision">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="330" y="870" w="90" h="30" />
    <decision expression="[outputcollection.pagingToken]&lt;&gt;&quot;&quot;" />
    <ontrue>1305b4e4-4978-4d8e-a959-182645415b00</ontrue>
    <onfalse>303f53cf-721b-4b68-8d52-e84303f1e4e1</onfalse>
  </stage>
  <stage stageid="303f53cf-721b-4b68-8d52-e84303f1e4e1" name="Pagination Token does not exist" type="Exception">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="420" y="870" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Scenario 6 failed when checking 1 itemsPerPage and paginationToken values for 2nd page. The Pagination token was not returned&quot;" />
  </stage>
  <stage stageid="755532bc-c5f7-4044-a8fe-6066cf49b258" name="Response Code and workqueue item Count correct?" type="Decision">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="330" y="1185" w="90" h="30" />
    <decision expression="[HTTP Response code]=&quot;200&quot;&#xA;AND&#xA;[Number of Items Returned]=14" />
    <ontrue>3642588e-ff44-490c-8e3c-c1121f6a2f70</ontrue>
    <onfalse>f6a22c8e-82d7-47c7-9560-2f6cbe95fda5</onfalse>
  </stage>
  <stage stageid="38f9e631-ea43-4150-b0f4-80da3729e709" name="Convert Response to Collection" type="Action">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="1095" w="90" h="30" />
    <inputs>
      <input type="text" name="json" friendlyname="json" expr="[Response Content]" />
    </inputs>
    <outputs>
      <output type="collection" name="Result" friendlyname="Result" stage="outputcollection" />
    </outputs>
    <onsuccess>729e3d17-4919-482d-9d60-d2ccead7a1c0</onsuccess>
    <resource object="Utility - JSON" action="JSON to Collection" />
  </stage>
  <stage stageid="729e3d17-4919-482d-9d60-d2ccead7a1c0" name="Count Rows" type="Action">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="1140" w="90" h="30" />
    <inputs>
      <input type="text" name="Collection Name" friendlyname="Collection Name" narrative="The name of the collection to act upon" expr="&quot;outputcollection.items&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The number of rows counted in the collection" stage="Number of Items Returned" />
    </outputs>
    <onsuccess>755532bc-c5f7-4044-a8fe-6066cf49b258</onsuccess>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Count Rows" />
  </stage>
  <stage stageid="f6a22c8e-82d7-47c7-9560-2f6cbe95fda5" name="Failed" type="Exception">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="420" y="1185" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Incorrect response returned scenario 7 - Check itemsPerPage=15 and paginationToken has no values&quot;" />
  </stage>
  <stage stageid="47aed7b5-1f3b-4fde-ad9a-5fb67c665f49" name="Blue Prism - API - GET Items by WORKQUEUE ID" type="Action">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="1050" w="90" h="30" />
    <inputs>
      <input type="text" name="workQueueId" friendlyname="workQueueId" expr="[Queue 1 ID]" />
      <input type="number" name="itemsPerPage" friendlyname="itemsPerPage" expr="15" />
      <input type="text" name="pagingToken" friendlyname="pagingToken" expr="" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="Response Content" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Response code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>38f9e631-ea43-4150-b0f4-80da3729e709</onsuccess>
    <resource object="Blue Prism - API - Work Queues" action="GET Items by WORKQUEUE ID" />
  </stage>
  <stage stageid="3642588e-ff44-490c-8e3c-c1121f6a2f70" name="Search workqueue items" type="LoopStart">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="1230" w="90" h="30" />
    <onsuccess>ea55fe3f-24bc-4d86-91f6-435d2c316573</onsuccess>
    <groupid>c7194a9d-136d-48c2-bc10-8ad17bedc26b</groupid>
    <looptype>ForEach</looptype>
    <loopdata>outputcollection.items</loopdata>
  </stage>
  <stage stageid="a7c398db-52db-4f11-8297-dc8b6f581b6a" name="Search workqueue items" type="LoopEnd">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="1320" w="90" h="30" />
    <onsuccess>e7abd8ea-7e4b-4834-8a6e-c4f11baa70d2</onsuccess>
    <groupid>c7194a9d-136d-48c2-bc10-8ad17bedc26b</groupid>
  </stage>
  <stage stageid="ea55fe3f-24bc-4d86-91f6-435d2c316573" name="Check log item number 14 is returned" type="Decision">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="330" y="1275" w="90" h="30" />
    <decision expression="[outputcollection.items.JSON:Array.priority]=14&#xA;AND&#xA;[outputcollection.items.JSON:Array.status]=&quot;Test14&quot;" />
    <ontrue>a638c080-7bb9-437c-b7f1-dcc1e9b08553</ontrue>
    <onfalse>a7c398db-52db-4f11-8297-dc8b6f581b6a</onfalse>
  </stage>
  <stage stageid="e7abd8ea-7e4b-4834-8a6e-c4f11baa70d2" name="Unexpected log item found" type="Exception">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="330" y="1365" />
    <exception localized="yes" type="&quot;Unexpected log item found&quot;" detail="&quot;Scenario 7 failed: expected work queue  item number 14 to be found but it was not found when there was 15 itemsPerPage and a paginationToken value supplied.&quot;" />
  </stage>
  <stage stageid="d268145b-ad6f-4bf6-a4a6-d2be47b33b9d" name="No Pagination Token Returned?" type="Decision">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="330" y="1410" w="90" h="30" />
    <decision expression="[outputcollection.pagingToken]=&quot;&quot;" />
    <ontrue>bc14a3dd-1829-4de8-824a-ce1a2b960da4</ontrue>
    <onfalse>f4375708-23d2-4b0d-8b39-b048eef66141</onfalse>
  </stage>
  <stage stageid="f4375708-23d2-4b0d-8b39-b048eef66141" name="Pagination Token does exist" type="Exception">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="420" y="1410" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Scenario 7 failed when checking 15 itemsPerPage and no paginationToken, A Pagination token was returned&quot;" />
  </stage>
  <stage stageid="fde52b9f-f75a-4107-a820-271fe29ccec8" name="Response Code and workqueue item Count correct?" type="Decision">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="330" y="1725" w="90" h="30" />
    <decision expression="[HTTP Response code]=&quot;200&quot;&#xA;AND&#xA;[Number of Items Returned]=14" />
    <ontrue>8f005ad4-8bf8-4dde-a5a6-fc45117f861b</ontrue>
    <onfalse>e8e5b7c6-b43a-4a7c-ac95-fc110ea271b6</onfalse>
  </stage>
  <stage stageid="ef117717-0d80-47cd-a2a6-83ca12ce9b77" name="Convert Response to Collection" type="Action">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="1635" w="90" h="30" />
    <inputs>
      <input type="text" name="json" friendlyname="json" expr="[Response Content]" />
    </inputs>
    <outputs>
      <output type="collection" name="Result" friendlyname="Result" stage="outputcollection" />
    </outputs>
    <onsuccess>e9d3bf94-230d-48fe-9e69-096b21085605</onsuccess>
    <resource object="Utility - JSON" action="JSON to Collection" />
  </stage>
  <stage stageid="e9d3bf94-230d-48fe-9e69-096b21085605" name="Count Rows" type="Action">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="1680" w="90" h="30" />
    <inputs>
      <input type="text" name="Collection Name" friendlyname="Collection Name" narrative="The name of the collection to act upon" expr="&quot;outputcollection.items&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The number of rows counted in the collection" stage="Number of Items Returned" />
    </outputs>
    <onsuccess>fde52b9f-f75a-4107-a820-271fe29ccec8</onsuccess>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Count Rows" />
  </stage>
  <stage stageid="e8e5b7c6-b43a-4a7c-ac95-fc110ea271b6" name="Failed" type="Exception">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="420" y="1725" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Incorrect response returned scenario 8 - Check itemsPerPage=1000 and paginationToken has no values&quot;" />
  </stage>
  <stage stageid="b7e0c32a-3009-4b50-97d1-5953d4888bf1" name="Blue Prism - API - GET Items by WORKQUEUE ID" type="Action">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="1590" w="90" h="30" />
    <inputs>
      <input type="text" name="workQueueId" friendlyname="workQueueId" expr="[Queue 1 ID]" />
      <input type="number" name="itemsPerPage" friendlyname="itemsPerPage" expr="1000" />
      <input type="text" name="pagingToken" friendlyname="pagingToken" expr="" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="Response Content" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Response code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>ef117717-0d80-47cd-a2a6-83ca12ce9b77</onsuccess>
    <resource object="Blue Prism - API - Work Queues" action="GET Items by WORKQUEUE ID" />
  </stage>
  <stage stageid="8f005ad4-8bf8-4dde-a5a6-fc45117f861b" name="Search workqueue items" type="LoopStart">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="1770" w="90" h="30" />
    <onsuccess>a12a5c7f-ac15-4a03-9ec7-7183c03e4b95</onsuccess>
    <groupid>b01c5a12-3a60-4f1e-ae27-008a220927d8</groupid>
    <looptype>ForEach</looptype>
    <loopdata>outputcollection.items</loopdata>
  </stage>
  <stage stageid="0e0bf94f-e4cf-4710-a938-be7ba7dfc0f0" name="Search workqueue items" type="LoopEnd">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="1860" w="90" h="30" />
    <onsuccess>4fea4d57-e3f4-4e8d-b7c9-cdd59da14d69</onsuccess>
    <groupid>b01c5a12-3a60-4f1e-ae27-008a220927d8</groupid>
  </stage>
  <stage stageid="a12a5c7f-ac15-4a03-9ec7-7183c03e4b95" name="Check log item number 14 is returned" type="Decision">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="330" y="1815" w="90" h="30" />
    <decision expression="[outputcollection.items.JSON:Array.priority]=14&#xA;AND&#xA;[outputcollection.items.JSON:Array.status]=&quot;Test14&quot;" />
    <ontrue>d49db91c-2ffd-45b8-b6a3-3235204d7412</ontrue>
    <onfalse>0e0bf94f-e4cf-4710-a938-be7ba7dfc0f0</onfalse>
  </stage>
  <stage stageid="4fea4d57-e3f4-4e8d-b7c9-cdd59da14d69" name="Unexpected log item found" type="Exception">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="330" y="1905" />
    <exception localized="yes" type="&quot;Unexpected log item found&quot;" detail="&quot;Scenario 8 failed: expected work queue  item number 14 to be found but it was not found when there was 1000 itemsPerPage and no paginationToken value supplied.&quot;" />
  </stage>
  <stage stageid="b8c7eafd-eefb-4179-bd89-79397e0d36d6" name="No Pagination Token Returned?" type="Decision">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="330" y="1950" w="90" h="30" />
    <decision expression="[outputcollection.pagingToken]=&quot;&quot;" />
    <ontrue>bf5ee2f7-3c1b-4eec-a2d5-20fda69c9a69</ontrue>
    <onfalse>e825db00-18c6-4ebd-9fbe-5203eb88b151</onfalse>
  </stage>
  <stage stageid="e825db00-18c6-4ebd-9fbe-5203eb88b151" name="Pagination Token does exist" type="Exception">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <display x="420" y="1950" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Scenario 8 failed when checking 1000 itemsPerPage and no paginationToken values, A Pagination token was returned&quot;" />
  </stage>
  <stage stageid="a638c080-7bb9-437c-b7f1-dcc1e9b08553" name="Anchor6" type="Anchor">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="240" y="1275" w="10" h="10" />
    <onsuccess>464ab96b-f371-442c-bd11-5ecda6f5d2c8</onsuccess>
  </stage>
  <stage stageid="464ab96b-f371-442c-bd11-5ecda6f5d2c8" name="Anchor10" type="Anchor">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="240" y="1410" w="10" h="10" />
    <onsuccess>d268145b-ad6f-4bf6-a4a6-d2be47b33b9d</onsuccess>
  </stage>
  <stage stageid="d49db91c-2ffd-45b8-b6a3-3235204d7412" name="Anchor15" type="Anchor">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="240" y="1815" w="10" h="10" />
    <font family="Segoe UI" size="10" style="Regular" color="FF0000" />
    <onsuccess>7c3c8b42-4417-45bf-b5c5-d988301e788f</onsuccess>
  </stage>
  <stage stageid="7c3c8b42-4417-45bf-b5c5-d988301e788f" name="Anchor16" type="Anchor">
    <subsheetid>498641ba-e757-4cc8-9b43-b12ca551b2d7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="240" y="1950" w="10" h="10" />
    <font family="Segoe UI" size="10" style="Regular" color="FF0000" />
    <onsuccess>b8c7eafd-eefb-4179-bd89-79397e0d36d6</onsuccess>
  </stage>
  <stage stageid="ce76b8cd-e788-4313-8966-4655af217fa7" name="Postive Scenarios" type="SubSheet">
    <loginhibit onsuccess="true" />
    <display x="-315" y="-120" />
    <onsuccess>048f95cf-0ca9-492f-b188-03a3d0160c58</onsuccess>
    <processid>498641ba-e757-4cc8-9b43-b12ca551b2d7</processid>
  </stage>
  <stage stageid="c37004dd-fb55-4885-ac92-ff571921a40e" name="Start" type="Start">
    <subsheetid>af191d90-cc2a-4f17-ae28-2a326cf832d9</subsheetid>
    <display x="-45" y="-285" />
    <onsuccess>83ff80bd-0a52-4156-9b0b-0981549ecf2b</onsuccess>
  </stage>
  <stage stageid="83ff80bd-0a52-4156-9b0b-0981549ecf2b" name="Launch" type="Action">
    <subsheetid>af191d90-cc2a-4f17-ae28-2a326cf832d9</subsheetid>
    <display x="-45" y="-240" w="90" h="30" />
    <outputs>
      <output type="number" name="pid" friendlyname="pid" narrative="PID of the process" stage="pid" />
    </outputs>
    <onsuccess>6eddc396-8d5e-4bea-bcfe-459a52e96038</onsuccess>
    <resource object="Blue Prism" action="Launch and Get PID" />
  </stage>
  <stage stageid="6eddc396-8d5e-4bea-bcfe-459a52e96038" name="Attach to System" type="Action">
    <subsheetid>af191d90-cc2a-4f17-ae28-2a326cf832d9</subsheetid>
    <display x="-45" y="-195" w="90" h="30" />
    <inputs>
      <input type="number" name="pid" friendlyname="pid" narrative="PID to attach to" expr="[pid]" />
    </inputs>
    <onsuccess>af0ba823-27e4-49b8-9a55-912ff18cb516</onsuccess>
    <resource object="Blue Prism - System (Parent)" action="Attach to Pid" />
  </stage>
  <stage stageid="af0ba823-27e4-49b8-9a55-912ff18cb516" name="Sign In Auth Server" type="Action">
    <subsheetid>af191d90-cc2a-4f17-ae28-2a326cf832d9</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="-150" w="90" h="30" />
    <onsuccess>3cc4094f-395d-4ac8-9691-b86abc86df54</onsuccess>
    <resource object="Blue Prism" action="Sign in using Auth Server" />
  </stage>
  <stage stageid="3cc4094f-395d-4ac8-9691-b86abc86df54" name="IMS Server:Attach" type="Action">
    <subsheetid>af191d90-cc2a-4f17-ae28-2a326cf832d9</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="-105" w="90" h="30" />
    <onsuccess>eda88f75-65c3-4e97-a2e9-1b6bb0ae9f6a</onsuccess>
    <resource object="IMS Server" action="Attach" />
  </stage>
  <stage stageid="eda88f75-65c3-4e97-a2e9-1b6bb0ae9f6a" name="IMS Server:Login" type="Action">
    <subsheetid>af191d90-cc2a-4f17-ae28-2a326cf832d9</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="-60" w="90" h="30" />
    <inputs>
      <input type="text" name="Username" friendlyname="Username" expr="&quot;admin&quot;" />
      <input type="text" name="Password" friendlyname="Password" expr="&quot;Qq1234!!&quot;" />
    </inputs>
    <onsuccess>3548b796-41fa-4dde-92ab-8031be3a0a1a</onsuccess>
    <resource object="IMS Server" action="Login" />
  </stage>
  <stage stageid="3548b796-41fa-4dde-92ab-8031be3a0a1a" name="Setup Credential" type="Action">
    <subsheetid>af191d90-cc2a-4f17-ae28-2a326cf832d9</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="0" w="90" h="30" />
    <inputs>
      <input type="flag" name="Requires Login" friendlyname="Requires Login" narrative="Flag indicating if the login info should be given too" expr="True" />
      <input type="text" name="Arguments" friendlyname="Arguments" narrative="The arguments to pass to automatec, not including the authentication info" expr="&quot;/createcredential &quot;&quot;BPE-API-Credential&quot;&quot; ServiceAccount E3NbGuz9G/nSpQWdz6DMROZhtIDHtUhev13wsCV72fY=  /credentialtype OAuth2ClientCredentials&quot;" />
      <input type="text" name="Username" friendlyname="Username" narrative="The username that you want to authenticate against." expr="" />
      <input type="text" name="Password" friendlyname="Password" narrative="The password for the username." expr="" />
    </inputs>
    <outputs>
      <output type="text" name="Output" friendlyname="Output" narrative="The output from the command" stage="" />
    </outputs>
    <onsuccess>ae2112c5-0206-4062-b2e6-f23cd578ab43</onsuccess>
    <resource object="Call AutomateC" action="Call AutomateC" />
  </stage>
  <stage stageid="9781f0f8-e389-4886-95a2-0880c0fd2489" name="Credential already exists?" type="Recover">
    <subsheetid>af191d90-cc2a-4f17-ae28-2a326cf832d9</subsheetid>
    <loginhibit />
    <display x="60" y="0" w="90" h="30" />
    <onsuccess>24106a18-7602-4255-bfba-661dfbe1281f</onsuccess>
  </stage>
  <stage stageid="24106a18-7602-4255-bfba-661dfbe1281f" name="Resume1" type="Resume">
    <subsheetid>af191d90-cc2a-4f17-ae28-2a326cf832d9</subsheetid>
    <loginhibit />
    <display x="60" y="60" w="90" h="30" />
    <onsuccess>ae2112c5-0206-4062-b2e6-f23cd578ab43</onsuccess>
  </stage>
  <stage stageid="ae2112c5-0206-4062-b2e6-f23cd578ab43" name="Anchor14" type="Anchor">
    <subsheetid>af191d90-cc2a-4f17-ae28-2a326cf832d9</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="60" w="10" h="10" />
    <onsuccess>fddc53a2-04d5-420e-947c-0d940f0bd766</onsuccess>
  </stage>
  <stage stageid="01d63975-caad-48d2-9944-0561e1c31110" name="Create credential" type="Block">
    <subsheetid>af191d90-cc2a-4f17-ae28-2a326cf832d9</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-105" y="-30" w="225" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="d66b960a-cde8-45e3-aa59-fa5d791f3ea9" name="Blue Prism::Exit Application" type="Action">
    <loginhibit onsuccess="true" />
    <display x="-315" y="30" w="90" h="30" />
    <onsuccess>da030598-335b-428c-a8f9-2dbd93574fd7</onsuccess>
    <resource object="Blue Prism" action="Exit Application" />
  </stage>
  <stage stageid="ce841ecb-bd0c-42ab-a000-a2bdfbbdb681" name="pid" type="Data">
    <display x="-630" y="135" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
</process>