<process name="resource_details_process" version="1.0" bpversion="7.0.0.40052" narrative="" byrefcollection="true" preferredid="9a9d1402-d117-4bd9-9daf-33032a785ac1">
  <view>
    <camerax>1</camerax>
    <cameray>123</cameray>
    <zoom version="2">1.25</zoom>
  </view>
  <preconditions />
  <endpoint narrative="" />
  <subsheet subsheetid="8a7b5fc7-2c8d-4871-b108-fc22fac25e22" type="Normal" published="False">
    <name>Setup</name>
    <view>
      <camerax>0</camerax>
      <cameray>-42</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="13083f65-f385-4971-bd0c-10446faf7c8d" type="Normal" published="False">
    <name>Runtime Resource Details</name>
    <view>
      <camerax>0</camerax>
      <cameray>15</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="e20a62ba-6d44-4944-bc02-c5e76e7cfd52" type="Normal" published="False">
    <name>Cleanup</name>
    <view>
      <camerax>0</camerax>
      <cameray>89</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <stage stageid="d4857748-bd71-4805-bf40-3a3ebb0b3708" name="Start" type="Start">
    <display x="0" y="-105" />
    <onsuccess>7aedc032-8f85-4f26-a577-ce56836e2c11</onsuccess>
  </stage>
  <stage stageid="5850ea76-45d3-4db0-9432-863eaa4e768a" name="End" type="End">
    <display x="0" y="240" />
  </stage>
  <stage stageid="33ce2cbc-dde8-4e83-a42f-e0b387b11ed6" name="Stage1" type="ProcessInfo">
    <display x="-225" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="fecf40e1-58bc-4272-9501-b7007669e76b" name="Setup" type="SubSheetInfo">
    <subsheetid>8a7b5fc7-2c8d-4871-b108-fc22fac25e22</subsheetid>
    <display x="-195" y="-150" w="150" h="90" />
  </stage>
  <stage stageid="8ae55e9c-8000-441e-870e-c24c6181c980" name="Start" type="Start">
    <subsheetid>8a7b5fc7-2c8d-4871-b108-fc22fac25e22</subsheetid>
    <display x="-45" y="-180" />
    <onsuccess>711472ed-14a3-47e4-be46-dff88aa28dc9</onsuccess>
  </stage>
  <stage stageid="01a1c133-35bb-4c8c-9dee-378e2fe1c397" name="Cleanup" type="SubSheetInfo">
    <subsheetid>e20a62ba-6d44-4944-bc02-c5e76e7cfd52</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="940da946-8685-472c-b2dd-35754dd518af" name="Launch and Get PID" type="Action">
    <subsheetid>8a7b5fc7-2c8d-4871-b108-fc22fac25e22</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="180" w="90" h="30" />
    <outputs>
      <output type="number" name="pid" friendlyname="pid" narrative="PID of the process" stage="pid" />
    </outputs>
    <onsuccess>d0c556a6-8415-48b9-a93f-8d3441685192</onsuccess>
    <resource object="Blue Prism" action="Launch and Get PID" />
  </stage>
  <stage stageid="df053546-d485-490d-9655-16f578ddccac" name="Sign In" type="Action">
    <subsheetid>8a7b5fc7-2c8d-4871-b108-fc22fac25e22</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="270" w="90" h="30" />
    <inputs>
      <input type="text" name="Username" friendlyname="Username" expr="&quot;admin&quot;" />
      <input type="password" name="Password" friendlyname="Password" expr="&quot;admin&quot;" />
      <input type="password" name="New Password" friendlyname="New Password" narrative="If this is your first login it will prompt you to change the password." expr="" />
      <input type="flag" name="Expect Password Reset" friendlyname="Expect Password Reset" expr="False" />
      <input type="flag" name="Expected License Wizard" friendlyname="Expected License Wizard" expr="False" />
      <input type="flag" name="Sign in Active Directorry" friendlyname="Sign in Active Directorry" narrative="Do you want sign in using Active Directory" expr="False" />
      <input type="flag" name="Sign in" friendlyname="Sign in" narrative="Do you want sign in using legacy sso environment" expr="True" />
    </inputs>
    <outputs>
      <output type="text" name="Error Message" friendlyname="Error Message" narrative="Error message received while Login" stage="Error Message" />
    </outputs>
    <onsuccess>d60f3b00-e188-4404-93c4-04dc8cc4336f</onsuccess>
    <resource object="Blue Prism" action="Sign In" />
  </stage>
  <stage stageid="0548ca98-150a-462f-aead-3c966f84822b" name="Error Message" type="Data">
    <subsheetid>8a7b5fc7-2c8d-4871-b108-fc22fac25e22</subsheetid>
    <display x="-195" y="75" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="42576fcb-61be-4ef3-9f70-507d080ffd0b" name="Resource Process ID" type="Data">
    <subsheetid>8a7b5fc7-2c8d-4871-b108-fc22fac25e22</subsheetid>
    <display x="-195" y="-30" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="7aedc032-8f85-4f26-a577-ce56836e2c11" name="Given" type="Note">
    <narrative>GIVEN I have a runtime resource available</narrative>
    <display x="0" y="-45" w="240" h="30" />
    <onsuccess>82478fcc-df1b-48d0-9431-d7d76ad076c4</onsuccess>
  </stage>
  <stage stageid="c840b48c-7d3a-4634-892f-d3f4f58bd405" name="Then" type="Note">
    <narrative>WHEN I view the resource details for the runtime resource
THEN all details display as expected</narrative>
    <display x="0" y="45" w="240" h="30" />
    <onsuccess>f2b2f7fa-5e0e-4de4-a3dc-165a414fee4c</onsuccess>
  </stage>
  <stage stageid="82478fcc-df1b-48d0-9431-d7d76ad076c4" name="Setup" type="SubSheet">
    <loginhibit onsuccess="true" />
    <display x="0" y="0" w="240" h="30" />
    <onsuccess>c840b48c-7d3a-4634-892f-d3f4f58bd405</onsuccess>
    <processid>8a7b5fc7-2c8d-4871-b108-fc22fac25e22</processid>
  </stage>
  <stage stageid="6aea7e5f-a783-48ac-8183-641475547b18" name="Resource Manager: Start Resource" type="Action">
    <subsheetid>8a7b5fc7-2c8d-4871-b108-fc22fac25e22</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="0" w="90" h="30" />
    <inputs>
      <input type="flag" name="SSO" friendlyname="SSO" narrative="True to login using Active Directory authentication. If this is False and Username is empty, a public resource PC is started" expr="" />
      <input type="text" name="Username" friendlyname="Username" narrative="The username to use for the resource PC. Ignored if SSO is True. If this is empty and SSO is False, this will create a public resource" expr="" />
      <input type="password" name="Password" friendlyname="Password" narrative="The password to use for the resource. Only used if Username is given" expr="" />
      <input type="number" name="Port" friendlyname="Port" narrative="The port number on which the resource PC should listen" expr="[Port]" />
    </inputs>
    <outputs>
      <output type="number" name="Process ID" friendlyname="Process ID" narrative="The PID of the newly created process" stage="Resource Process ID" />
    </outputs>
    <onsuccess>85da355b-31a6-4a9e-9a13-e5813c8b0274</onsuccess>
    <resource object="Resource Manager" action="Start Resource" />
  </stage>
  <stage stageid="85da355b-31a6-4a9e-9a13-e5813c8b0274" name="Get Resource Name" type="Calculation">
    <subsheetid>8a7b5fc7-2c8d-4871-b108-fc22fac25e22</subsheetid>
    <display x="-45" y="45" w="90" h="30" />
    <onsuccess>78c367f4-578e-48fc-ac8f-60eefd384a32</onsuccess>
    <calculation expression="Replace(GetResourceName(), &quot;_debug&quot;, &quot;&quot;) &amp; &quot;:&quot; &amp; [Port]" stage="Runtime Resource Name" />
  </stage>
  <stage stageid="302c07fa-cc0b-4cbf-806f-66426a3d812c" name="Cleanup" type="SubSheet">
    <loginhibit onsuccess="true" />
    <display x="0" y="150" />
    <onsuccess>a66481d2-6671-47c3-bff7-da0b140d9cb1</onsuccess>
    <processid>e20a62ba-6d44-4944-bc02-c5e76e7cfd52</processid>
  </stage>
  <stage stageid="dc23f99d-f8e8-4606-9155-197c3b637b41" name="Runtime Resource Details" type="SubSheetInfo">
    <subsheetid>13083f65-f385-4971-bd0c-10446faf7c8d</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="f2b2f7fa-5e0e-4de4-a3dc-165a414fee4c" name="Runtime Resource Details" type="SubSheet">
    <loginhibit onsuccess="true" />
    <display x="0" y="90" w="240" h="30" />
    <onsuccess>302c07fa-cc0b-4cbf-806f-66426a3d812c</onsuccess>
    <processid>13083f65-f385-4971-bd0c-10446faf7c8d</processid>
  </stage>
  <stage stageid="2ab8bda3-2dd3-4291-8826-bdff1630e934" name="Exception" type="MultipleCalculation">
    <loginhibit onsuccess="true" />
    <display x="165" y="45" />
    <onsuccess>ee6e5467-a5b8-40ca-8300-f05966d19aba</onsuccess>
    <steps>
      <calculation expression="True" stage="Failed?" />
      <calculation expression="ExceptionDetail()" stage="Exception" />
    </steps>
  </stage>
  <stage stageid="ee6e5467-a5b8-40ca-8300-f05966d19aba" name="Resume" type="Resume">
    <loginhibit />
    <display x="165" y="90" />
    <onsuccess>a0c42e56-1bf0-4fb8-9131-06dde96b8fe1</onsuccess>
  </stage>
  <stage stageid="a0c42e56-1bf0-4fb8-9131-06dde96b8fe1" name="Anchor1" type="Anchor">
    <loginhibit onsuccess="true" />
    <display x="165" y="150" w="10" h="10" />
    <onsuccess>302c07fa-cc0b-4cbf-806f-66426a3d812c</onsuccess>
  </stage>
  <stage stageid="cb778a22-1e7f-41b7-a568-0ea7804fd545" name="Scenarios" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-135" y="-75" w="345" h="195" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="ee8bc3b0-9166-499b-aadb-532316382972" name="Failed?" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-225" y="-15" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue>False</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="f58889fe-039e-45ec-9b78-ccc51b8e3759" name="Exception" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-225" y="15" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="927e483f-c58e-4b5a-b0be-a172011c1715" name="Local Variables" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-300" y="-45" w="150" h="90" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="df071ed5-2ee6-4719-b40d-240cf3c6938d" name="pid" type="Data">
    <display x="-225" y="90" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="a2a2b15e-722f-44eb-8d8a-88b5fc2ea435" name="Global Variables" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-300" y="60" w="150" h="240" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="b0110a69-c00e-4268-91d5-1e389b2509c4" name="Local Variables" type="Block">
    <subsheetid>8a7b5fc7-2c8d-4871-b108-fc22fac25e22</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-270" y="-90" w="150" h="90" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="7981c370-2be2-478f-91bb-9231aa144ef0" name="Output" type="Block">
    <subsheetid>8a7b5fc7-2c8d-4871-b108-fc22fac25e22</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-270" y="15" w="150" h="90" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="d60f3b00-e188-4404-93c4-04dc8cc4336f" name="Go to Control Tab" type="Action">
    <subsheetid>8a7b5fc7-2c8d-4871-b108-fc22fac25e22</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="315" w="90" h="30" />
    <inputs>
      <input type="text" name="Tab Name" friendlyname="Tab Name" narrative="Name of Tab to Click" expr="&quot;Control&quot;" />
    </inputs>
    <onsuccess>3f00541e-2b89-4202-8132-2f9bc643b90d</onsuccess>
    <resource object="Blue Prism - Basic Actions" action="Go to Tab" />
  </stage>
  <stage stageid="d0c556a6-8415-48b9-a93f-8d3441685192" name="Attach to Control Room (Parent)" type="Action">
    <subsheetid>8a7b5fc7-2c8d-4871-b108-fc22fac25e22</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="225" w="90" h="30" />
    <inputs>
      <input type="number" name="pid" friendlyname="pid" narrative="PID to attach to" expr="[pid]" />
    </inputs>
    <onsuccess>df053546-d485-490d-9655-16f578ddccac</onsuccess>
    <resource object="Blue Prism - Control Room (Parent)" action="Attach to Pid" />
  </stage>
  <stage stageid="ebd2f315-8767-4895-81b2-97e5fe1cff4f" name="Search for Resource that IS CONNECTED" type="Action">
    <subsheetid>8a7b5fc7-2c8d-4871-b108-fc22fac25e22</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="420" w="90" h="30" />
    <inputs>
      <input type="text" name="Resource Name" friendlyname="Resource Name" narrative="The name of the Resource PC of interest" expr="[Runtime Resource Name]" />
      <input type="timespan" name="Timeout" friendlyname="Timeout" narrative="The maximum length of time to wait for the Resource of interest to become available. Default is immediate timeout of resource is not available, ie. zero" expr="[Time Span]" />
      <input type="text" name="Resource Group to Expand" friendlyname="Resource Group to Expand" narrative="Group set to Default" expr="&quot;Default&quot;" />
    </inputs>
    <outputs>
      <output type="flag" name="Resource Available" friendlyname="Resource Available" narrative="Indicates whether the resource is available. This will be false if a timeout occurs." stage="Resource is connected" />
    </outputs>
    <onsuccess>9f5360b1-af8f-4083-9f43-279f9bbb1b02</onsuccess>
    <resource object="Blue Prism - Control - Session Management" action="Control Room - Wait for Resource to Come Online" />
  </stage>
  <stage stageid="9f5360b1-af8f-4083-9f43-279f9bbb1b02" name="Is the resource connected?" type="Decision">
    <subsheetid>8a7b5fc7-2c8d-4871-b108-fc22fac25e22</subsheetid>
    <display x="-45" y="465" w="90" h="30" />
    <decision expression="[Resource is connected]" />
    <ontrue>e048432b-037e-45ea-8954-b8179ae1a2c5</ontrue>
    <onfalse>23910a7f-e7bd-42af-868b-f2f50d998760</onfalse>
  </stage>
  <stage stageid="23910a7f-e7bd-42af-868b-f2f50d998760" name="Fail" type="Exception">
    <subsheetid>8a7b5fc7-2c8d-4871-b108-fc22fac25e22</subsheetid>
    <display x="30" y="465" w="30" h="30" />
    <exception localized="yes" type="FAIL" detail="&quot;Resource is not connected&quot;" />
  </stage>
  <stage stageid="67c885e3-ccec-453f-8751-0b46df5d9e91" name="Resource is connected" type="Data">
    <subsheetid>8a7b5fc7-2c8d-4871-b108-fc22fac25e22</subsheetid>
    <display x="-195" y="45" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue>True</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="a69c25f3-5618-4a34-ab65-39c21112db30" name="Check if Resource Connected" type="Block">
    <subsheetid>8a7b5fc7-2c8d-4871-b108-fc22fac25e22</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-105" y="345" w="165" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="599ce573-11f7-4887-a6b8-a6c586720530" name="Time Span" type="Data">
    <subsheetid>8a7b5fc7-2c8d-4871-b108-fc22fac25e22</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-195" y="-60" w="120" h="30" />
    <datatype>timespan</datatype>
    <initialvalue>0.00:01:00</initialvalue>
  </stage>
  <stage stageid="0206f2f8-9d91-450e-92f3-ffc9c53b593d" name="Start" type="Start">
    <subsheetid>e20a62ba-6d44-4944-bc02-c5e76e7cfd52</subsheetid>
    <display x="-30" y="-135" />
    <onsuccess>47e6edf6-893e-43f1-8533-e9eb75af3904</onsuccess>
  </stage>
  <stage stageid="42fdfe46-e463-4284-ab80-0a3a6ef39009" name="End" type="End">
    <subsheetid>e20a62ba-6d44-4944-bc02-c5e76e7cfd52</subsheetid>
    <display x="-30" y="0" />
  </stage>
  <stage stageid="3f00541e-2b89-4202-8132-2f9bc643b90d" name="Collapse Reource Group" type="Action">
    <subsheetid>8a7b5fc7-2c8d-4871-b108-fc22fac25e22</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="375" w="90" h="30" />
    <inputs>
      <input type="text" name="Resource Group Name" friendlyname="Resource Group Name" narrative="Resource Group Name to Collapse" expr="&quot;Default&quot;" />
    </inputs>
    <onsuccess>ebd2f315-8767-4895-81b2-97e5fe1cff4f</onsuccess>
    <resource object="Blue Prism - Control - Session Management" action="Collapse Resource Group By Group Name" />
  </stage>
  <stage stageid="a4ec0dc1-f753-4b27-b17e-560eeb8ccaac" name="Resource Name" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-225" y="120" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="fd69d28d-5dfb-4722-a66d-61acda5c4c9d" name="Port" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-225" y="180" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">8121</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="a66481d2-6671-47c3-bff7-da0b140d9cb1" name="Failed?" type="Decision">
    <display x="0" y="195" w="90" h="30" />
    <decision expression="[Failed?]" />
    <ontrue>35ea1833-0238-4cbe-b4f3-76625c13e8fb</ontrue>
    <onfalse>5850ea76-45d3-4db0-9432-863eaa4e768a</onfalse>
  </stage>
  <stage stageid="35ea1833-0238-4cbe-b4f3-76625c13e8fb" name="Re-Throw" type="Exception">
    <display x="90" y="195" />
    <exception localized="yes" type="RETHROW" detail="[Exception]" />
  </stage>
  <stage stageid="e048432b-037e-45ea-8954-b8179ae1a2c5" name="End2" type="End">
    <subsheetid>8a7b5fc7-2c8d-4871-b108-fc22fac25e22</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="525" />
  </stage>
  <stage stageid="c65cf0d4-54eb-4855-bbe1-b770e01506b9" name="Runtime Resource Name" type="Data">
    <display x="-225" y="150" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="a92f5c6a-a1bf-4648-8a29-d716c124f3ce" name="Get IC Resource Name" type="Calculation">
    <subsheetid>8a7b5fc7-2c8d-4871-b108-fc22fac25e22</subsheetid>
    <display x="-45" y="135" w="90" h="30" />
    <onsuccess>940da946-8685-472c-b2dd-35754dd518af</onsuccess>
    <calculation expression="Replace(GetResourceName(), &quot;_debug&quot;, &quot;&quot;)&amp;&quot;.orgdomain.local&quot;" stage="Resource Name" />
  </stage>
  <stage stageid="8eb3cf02-700a-4f55-b96c-699a5adb1451" name="Runtime Resource Start Time" type="Data">
    <display x="-225" y="210" w="120" h="30" />
    <datatype>datetime</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="598cc359-affa-4536-8430-02900b8665e6" name="BP Version" type="Data">
    <display x="-225" y="240" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="711472ed-14a3-47e4-be46-dff88aa28dc9" name="Get RR DateTime" type="Calculation">
    <subsheetid>8a7b5fc7-2c8d-4871-b108-fc22fac25e22</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="-135" w="90" h="30" />
    <onsuccess>f3067527-357b-462c-b8aa-d394ba68dab3</onsuccess>
    <calculation expression="Now()" stage="Runtime Resource Start Time" />
  </stage>
  <stage stageid="f3067527-357b-462c-b8aa-d394ba68dab3" name="Get BP Version Major and Minor" type="Calculation">
    <subsheetid>8a7b5fc7-2c8d-4871-b108-fc22fac25e22</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="-90" w="90" h="30" />
    <onsuccess>45553d96-264d-4231-96ed-09de020d4c79</onsuccess>
    <calculation expression="BPVersionMajor()&amp;&quot;.&quot;&amp; BPVersionMinor()" stage="BP Version" />
  </stage>
  <stage stageid="37caedc9-f338-48f5-a6d0-433ff2f66ddc" name="Start" type="Start">
    <subsheetid>13083f65-f385-4971-bd0c-10446faf7c8d</subsheetid>
    <display x="-45" y="-135" />
    <onsuccess>59a402c6-bbd6-4306-b0e0-c5ccc5f32d15</onsuccess>
  </stage>
  <stage stageid="a4a7cf27-596f-4c6b-8340-6cb73b282b7b" name="Get Resource Details" type="Action">
    <subsheetid>13083f65-f385-4971-bd0c-10446faf7c8d</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="-45" w="90" h="30" />
    <outputs>
      <output type="collection" name="Resource Details" friendlyname="Resource Details" stage="Resource Details" />
    </outputs>
    <onsuccess>01976ab2-d45f-4f9d-8434-bfd34111f532</onsuccess>
    <resource object="Blue Prism - Control - Session Management" action="Read Resource Details Table" />
  </stage>
  <stage stageid="59a402c6-bbd6-4306-b0e0-c5ccc5f32d15" name="Select Resource" type="Action">
    <subsheetid>13083f65-f385-4971-bd0c-10446faf7c8d</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="-90" w="90" h="30" />
    <inputs>
      <input type="text" name="Resource Name" friendlyname="Resource Name" expr="[Runtime Resource Name]" />
    </inputs>
    <onsuccess>a4a7cf27-596f-4c6b-8340-6cb73b282b7b</onsuccess>
    <resource object="Blue Prism - Control - Session Management" action="Control Room - Open Resource Details" />
  </stage>
  <stage stageid="3c502579-490e-4b0b-ab7f-565e66b6c44c" name="End1" type="End">
    <subsheetid>13083f65-f385-4971-bd0c-10446faf7c8d</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="90" />
  </stage>
  <stage stageid="58749e74-acad-4e14-ba59-d4d43eea54b5" name="Resource Details Correct?" type="Decision">
    <subsheetid>13083f65-f385-4971-bd0c-10446faf7c8d</subsheetid>
    <display x="-45" y="45" w="90" h="30" />
    <decision expression="[Resource Details.FQDN]=[Resource Name]&#xA;AND&#xA;[Resource Details.Port]=[Port]&#xA;AND&#xA;StartsWith([Resource Details.BP Version], [BP Version])&#xA;AND&#xA;[Runtime Resource Start Time]&lt;=[Resource Details.First Connected]&#xA;AND&#xA;[Resource Details.Last Updated]&lt;=Now()&#xA;AND&#xA;[Resource Details.Environment Type]=&quot;Resource&quot;&#xA;AND&#xA;StartsWith([Resource Details.Application Server], [Resource Name])" />
    <ontrue>3c502579-490e-4b0b-ab7f-565e66b6c44c</ontrue>
    <onfalse>c9c3ed69-0522-4c49-8e51-8789228f1168</onfalse>
  </stage>
  <stage stageid="c9c3ed69-0522-4c49-8e51-8789228f1168" name="Failed" type="Exception">
    <subsheetid>13083f65-f385-4971-bd0c-10446faf7c8d</subsheetid>
    <display x="30" y="45" w="30" h="30" />
    <exception localized="yes" type="&quot;System Exception&quot;" detail="&quot;Incorrect Runtime Resource details returned&quot;" />
  </stage>
  <stage stageid="47e6edf6-893e-43f1-8533-e9eb75af3904" name="Resource Manager: Stop Resource" type="Action">
    <subsheetid>e20a62ba-6d44-4944-bc02-c5e76e7cfd52</subsheetid>
    <display x="-30" y="-90" w="90" h="30" />
    <inputs>
      <input type="number" name="Port" friendlyname="Port" narrative="The port number whose resource should be stopped" expr="[Port]" />
    </inputs>
    <onsuccess>9a333fb5-920c-4ce3-8c23-08410cfd8b43</onsuccess>
    <resource object="Resource Manager" action="Stop Resource" />
  </stage>
  <stage stageid="59787399-7034-48bc-bec5-92eda7ed8de0" name="Resource Details" type="Collection">
    <subsheetid>13083f65-f385-4971-bd0c-10446faf7c8d</subsheetid>
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
    <collectioninfo>
      <field name="FQDN" type="text" />
      <field name="Port" type="text" />
      <field name="BP Version" type="text" />
      <field name="First Connected" type="datetime" />
      <field name="Last Updated" type="datetime" />
      <field name="Application Server" type="text" />
      <field name="Environment Type" type="text" />
    </collectioninfo>
  </stage>
  <stage stageid="6a063edf-e50f-41c2-bc2c-b68e34777293" name="Local variables" type="Block">
    <subsheetid>13083f65-f385-4971-bd0c-10446faf7c8d</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-270" y="-45" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="9a333fb5-920c-4ce3-8c23-08410cfd8b43" name="Terminate" type="Action">
    <subsheetid>e20a62ba-6d44-4944-bc02-c5e76e7cfd52</subsheetid>
    <display x="-30" y="-45" w="90" h="30" />
    <onsuccess>42fdfe46-e463-4284-ab80-0a3a6ef39009</onsuccess>
    <resource object="Blue Prism" action="Exit Application" />
  </stage>
  <stage stageid="45553d96-264d-4231-96ed-09de020d4c79" name="Server Connection?" type="Calculation">
    <subsheetid>8a7b5fc7-2c8d-4871-b108-fc22fac25e22</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="-45" w="90" h="30" />
    <onsuccess>6aea7e5f-a783-48ac-8183-641475547b18</onsuccess>
    <calculation expression="BPServer()" stage="BP Server" />
  </stage>
  <stage stageid="8852a1ac-0cc0-43ee-a00d-846963438811" name="BP Server" type="Data">
    <display x="-225" y="270" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="01976ab2-d45f-4f9d-8434-bfd34111f532" name="Server Connection?" type="Decision">
    <subsheetid>13083f65-f385-4971-bd0c-10446faf7c8d</subsheetid>
    <display x="-45" y="0" w="90" h="30" />
    <decision expression="[BP Server]" />
    <ontrue>58749e74-acad-4e14-ba59-d4d43eea54b5</ontrue>
    <onfalse>7ca46ba8-9f30-4df3-ae9d-4c8aa4f0a80c</onfalse>
  </stage>
  <stage stageid="002680f2-349b-4491-b93c-41c3ca1e80b9" name="End1" type="End">
    <subsheetid>13083f65-f385-4971-bd0c-10446faf7c8d</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="105" y="90" />
  </stage>
  <stage stageid="d4aa69f7-13db-4e4a-837d-3e3764a06841" name="Resource Details Correct?" type="Decision">
    <subsheetid>13083f65-f385-4971-bd0c-10446faf7c8d</subsheetid>
    <display x="105" y="45" w="90" h="30" />
    <decision expression="[Resource Details.FQDN]=[Resource Name]&#xA;AND&#xA;[Resource Details.Port]=[Port]&#xA;AND&#xA;StartsWith([Resource Details.BP Version], [BP Version])&#xA;AND&#xA;[Runtime Resource Start Time]&lt;=[Resource Details.First Connected]&#xA;AND&#xA;[Resource Details.Last Updated]&lt;=Now()&#xA;AND&#xA;[Resource Details.Environment Type]=&quot;Resource&quot;&#xA;AND&#xA;[Resource Details.Application Server]=&quot;n/a&quot;" />
    <ontrue>002680f2-349b-4491-b93c-41c3ca1e80b9</ontrue>
    <onfalse>f5d2e598-4ba4-41aa-8922-07a1f3fbf6ae</onfalse>
  </stage>
  <stage stageid="f5d2e598-4ba4-41aa-8922-07a1f3fbf6ae" name="Failed" type="Exception">
    <subsheetid>13083f65-f385-4971-bd0c-10446faf7c8d</subsheetid>
    <display x="180" y="45" w="30" h="30" />
    <exception localized="yes" type="&quot;System Exception&quot;" detail="&quot;Incorrect Runtime Resource details returned&quot;" />
  </stage>
  <stage stageid="78c367f4-578e-48fc-ac8f-60eefd384a32" name="SSO? Connection?" type="Decision">
    <subsheetid>8a7b5fc7-2c8d-4871-b108-fc22fac25e22</subsheetid>
    <display x="-45" y="90" w="90" h="30" />
    <decision expression="SingleSignon()" />
    <ontrue>a92f5c6a-a1bf-4648-8a29-d716c124f3ce</ontrue>
    <onfalse>b63694f8-902a-4b94-9e29-c94c719b189c</onfalse>
  </stage>
  <stage stageid="b63694f8-902a-4b94-9e29-c94c719b189c" name="Get IC Resource Name" type="Calculation">
    <subsheetid>8a7b5fc7-2c8d-4871-b108-fc22fac25e22</subsheetid>
    <display x="60" y="90" w="90" h="30" />
    <onsuccess>be201a36-fe68-4733-82c8-ac8f2c24654a</onsuccess>
    <calculation expression="Replace(GetResourceName(), &quot;_debug&quot;, &quot;&quot;)" stage="Resource Name" />
  </stage>
  <stage stageid="be201a36-fe68-4733-82c8-ac8f2c24654a" name="Anchor2" type="Anchor">
    <subsheetid>8a7b5fc7-2c8d-4871-b108-fc22fac25e22</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="60" y="180" w="10" h="10" />
    <onsuccess>940da946-8685-472c-b2dd-35754dd518af</onsuccess>
  </stage>
  <stage stageid="7ca46ba8-9f30-4df3-ae9d-4c8aa4f0a80c" name="Anchor3" type="Anchor">
    <subsheetid>13083f65-f385-4971-bd0c-10446faf7c8d</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="105" y="0" w="10" h="10" />
    <onsuccess>d4aa69f7-13db-4e4a-837d-3e3764a06841</onsuccess>
  </stage>
  <stage stageid="8a3041c0-0492-4cc1-b535-7e9914193bd1" name="Recover" type="Recover">
    <loginhibit />
    <display x="165" y="0" />
    <onsuccess>2ab8bda3-2dd3-4291-8826-bdff1630e934</onsuccess>
  </stage>
</process>