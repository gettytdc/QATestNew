<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
  <title>BluePrism.Scheduler Description</title>
  <style type="text/css">
    * { font-family: Trebuchet MS, Verdana, Arial, sans-serif; }
    body { background-color: white; font-size: 100%; }
    * html body { font-size: 85%; }
    h1 { font-size: 200%; }
    h2 { font-size: 180%; }
    h3 { font-size: 150%; }
    h4 { font-size: 140%; }
    h5 { font-size: 130%; }
    h6 { font-size: 120%; }
    h1, h2 { border-bottom: 1px solid #ddd; }
    h1, h2, h3, h4, h5, h6 { border-left: 3px solid #aaa; }
    h1, h2, h3, h4, h5, h6 { padding-left: 0.3em; }
    a, a:visited { color: blue; text-decoration: none; border-bottom: 1px solid white; border-left: 5px solid white; padding-left: 2px; }
    a:hover, a:active { color: purple; border-bottom: 1px dashed #aaf; border-left: 5px solid #aaf; }
    p { margin: 0.3em; padding: 0.2em; background-color: #f7f7f7; border: 1px solid #eee; -moz-border-radius: 2px; }
    #contentblock li li a { font-size: smaller; }
  </style>
		<script type="text/javascript">
			// <!--
			window.onload = function()
			{
				var anchors = document.getElementsByTagName("A");
				for (var i=0; i<anchors.length; i++)
					anchors[i].onclick = function() { this.blur(); return true; }
			}
			// -->
		</script>
	</head>
	<body>
		<div id="title">
			<h1>BluePrism.Scheduler Notes</h1>
		</div>
		<div class="section" id="contentblock">
			<h2 id="contents">Contents</h2>
			<ol>
				<li><a href="#_top">BluePrism.Scheduler Notes</a></li>
				<li><a href="#contents">Contents</a></li>
				<li>
					<a href="#description">Description</a>
					<ol>
						<li>
							<a href="#jobs">Jobs</a>
						</li>
						<li>
							<a href="#triggers">Triggers</a>
						</li>
						<li>
							<a href="#calendars">Calendars</a>
						</li>
					</ol>
				</li>
				
			</ol>
		</div>
		<div class="section">
			<h2 id="description">Description</h2>
			<p>This package brings together the core functionality of the scheduler, combining the things which make up a schedule, namely : </p>
			<dl>
				<dt>Jobs</dt>
				<dd>The actual job to run - this is defined by the IJob interface.</dd>

				<dt>Triggers</dt>
				<dd>These provide the times at which a job runs. A job can be assigned many triggers, but a trigger can only be assigned to a single job. Triggers can fire or suppress a job at a particular time. They have a priority which allows the scheduling engine to determine which trigger is to be effective if multiple triggers exist for a given time. A trigger is defined by the ITrigger interface.</dd>

				<dt>Trigger Groups</dt>
				<dd>These are trigger containers - they collect together an arbitrary set of triggers and apply them all, using differing dates and priorities to determine which triggers are effective for a given date/time. These are actually triggers themselves, in that the interface which gets timing data for a trigger is the same one used to get timing data for a group of triggers.</dd>

				<dt>Calendars</dt>
				<dd>Calendars are used to inhibit execution of jobs in a more generic way. A trigger is initialised with a calendar which may be assigned to many triggers.</dd>
				
			</dl>

			<h3 id="jobs">Jobs</h3>
			<p>Relatively simple, these are the implementations which are set to run at specific times.</p>

			<h3 id="triggers">Triggers</h3>
			<p>A trigger can have one of two effective modes:</p>
			<dl>
				<dt>TriggerMode.Fire</dt>
				<dd>This mode indicates that the trigger causes the execution of a scheduled job</dd>
				
				<dt>TriggerMode.Suppress</dt>
				<dd>
					These are 'negative' triggers, meaning that they <em>inhibit</em> a job being executed...
					If a suppressing trigger exists which contains the same time as an enabling trigger,
					then it will disable that trigger from firing unless its priority is lower than the 
				    fire trigger's.
				</dd>
			</dl>

			<h4 id="trigger-groups">Trigger Groups</h4>
			<p>A group collects together a number of triggers, all of which apply to a particular job. It provides a mechanism for collating and prioritising triggers at a higher contextual level than triggers themselves. </p>
			
			<p>A group doesn't have a set 'Mode' - since it contains a set of triggers to which it delagates modes and timing, the Mode of a group can only be determined for a particular activation time - allowing it to compare priorities for triggers active at that point, and thus calculating the effective mode. As a result, this will often have their mode set to TriggerMode.Indeterminate to indicate that the mode cannot be determined until runtime.</p>
			
			<p>A Trigger group semantically extends a trigger, so that a consistent interface can be used across an arbitrary number of triggers.</p>

			<h5 id="priority">Priority</h5>
			<p>Priority comes into play for trigger groups. A priority is only important when 2 triggers exist with an activation point of the same point in time. The group then compares the priority of the 2 triggers to determine which is effective for that point. If the triggers have the same priority, then a trigger with Suppress mode is considered higher priority than a trigger with Fire mode. If the triggers both have the same mode, then the comparison is moot.</p>
			
			<h3 id="calendars">Calendars</h3>
			<p>Calendars, at their core, are job inhibitors. They provide a mechanism for allowing or disallowing triggers to fire at particular moments in time. A job can be assigned one calendar, and it is used for all triggers assigned to that job. The default calendar (LiberalCalendar) allows all triggers to activate.</p>
		</div>
	</body>
</html>
