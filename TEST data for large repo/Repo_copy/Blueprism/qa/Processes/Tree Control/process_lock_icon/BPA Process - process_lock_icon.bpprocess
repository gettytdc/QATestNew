<process name="process_lock_icon" version="1.0" bpversion="6.11.0.37198" narrative="" byrefcollection="true" preferredid="6bad6c43-ee37-45f1-a214-ccdddc4609f8">
  <view>
    <camerax>32</camerax>
    <cameray>-144</cameray>
    <zoom version="2">1.25</zoom>
  </view>
  <preconditions />
  <endpoint narrative="" />
  <subsheet subsheetid="f2a49da6-8bf3-481c-b03c-b7b115ef5892" type="Normal" published="False">
    <name>Setup</name>
    <view>
      <camerax>0</camerax>
      <cameray>0</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="fd2e8c64-cd06-4720-8fc2-cdafc46b4db8" type="Normal" published="False">
    <name>Lock Icon Exists</name>
    <view>
      <camerax>0</camerax>
      <cameray>0</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="28805f9b-9f21-49a1-b524-a261b11bd13d" type="Normal" published="False">
    <name>Lock Icon Doesn't Exist</name>
    <view>
      <camerax>0</camerax>
      <cameray>0</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <stage stageid="10980342-15af-4ada-bc06-43b656f117fc" name="Start" type="Start">
    <display x="15" y="-345" />
    <onsuccess>e4903079-5228-4f17-86ba-ceb5f77a2acd</onsuccess>
  </stage>
  <stage stageid="95536238-a7a4-4dff-8d5e-67ac7f684a9c" name="Stage1" type="ProcessInfo">
    <display x="-240" y="-315" w="150" h="90" />
  </stage>
  <stage stageid="7e2760a0-b51c-4b82-8194-61a4e1412b7e" name="Setup" type="SubSheetInfo">
    <subsheetid>f2a49da6-8bf3-481c-b03c-b7b115ef5892</subsheetid>
    <display x="-120" y="-75" w="150" h="90" />
  </stage>
  <stage stageid="a18c95ad-9128-48dd-ae03-7e11bc04d399" name="Start" type="Start">
    <subsheetid>f2a49da6-8bf3-481c-b03c-b7b115ef5892</subsheetid>
    <display x="15" y="-105" />
    <onsuccess>7fe335ae-86a5-47d3-b3c1-18ca8762d6ea</onsuccess>
  </stage>
  <stage stageid="b38b7ef8-a517-47e9-9efb-9e7e5bc1b0b1" name="End" type="End">
    <subsheetid>f2a49da6-8bf3-481c-b03c-b7b115ef5892</subsheetid>
    <display x="15" y="120" />
  </stage>
  <stage stageid="1166a84d-6850-4c3e-b507-bcd402b0b44d" name="Lock Icon Exists" type="SubSheetInfo">
    <subsheetid>fd2e8c64-cd06-4720-8fc2-cdafc46b4db8</subsheetid>
    <display x="-135" y="-120" w="150" h="90" />
  </stage>
  <stage stageid="fee0984b-2379-48f7-8a7c-90e0db882386" name="Start" type="Start">
    <subsheetid>fd2e8c64-cd06-4720-8fc2-cdafc46b4db8</subsheetid>
    <display x="15" y="-150" />
    <onsuccess>5b3ff865-fc7c-4262-9595-25d366b52106</onsuccess>
  </stage>
  <stage stageid="43531ff6-594b-4a44-b3c4-6dc1054ab43c" name="End" type="End">
    <subsheetid>fd2e8c64-cd06-4720-8fc2-cdafc46b4db8</subsheetid>
    <display x="15" y="120" />
  </stage>
  <stage stageid="35cf3de3-b155-4952-920e-d401abc18026" name="Lock Icon Doesn't Exist" type="SubSheetInfo">
    <subsheetid>28805f9b-9f21-49a1-b524-a261b11bd13d</subsheetid>
    <display x="-135" y="-75" w="150" h="90" />
  </stage>
  <stage stageid="57698a87-c148-4661-8551-dffcb8b09470" name="Start" type="Start">
    <subsheetid>28805f9b-9f21-49a1-b524-a261b11bd13d</subsheetid>
    <display x="15" y="-105" />
    <onsuccess>610456a0-34b7-463b-8909-aa2daae0f181</onsuccess>
  </stage>
  <stage stageid="d8b7bf92-cec5-44a5-81ef-81cc3e685d9a" name="End" type="End">
    <subsheetid>28805f9b-9f21-49a1-b524-a261b11bd13d</subsheetid>
    <display x="15" y="165" />
  </stage>
  <stage stageid="33ef5d1b-9b77-470b-9d76-850d6a828ec2" name="End" type="End">
    <display x="15" y="150" />
  </stage>
  <stage stageid="e4903079-5228-4f17-86ba-ceb5f77a2acd" name="Note1" type="Note">
    <narrative>GIVEN I am a BP signed in</narrative>
    <display x="15" y="-300" w="300" h="30" />
    <font family="Segoe UI" size="11" style="Bold" color="339966" />
    <onsuccess>8394333a-4744-43ea-8be7-c175ce12d769</onsuccess>
  </stage>
  <stage stageid="ff1a0f05-1ee2-453d-8504-4cc7a3a42f21" name="Note3" type="Note">
    <narrative>WHEN I open a process
THEN the lock icon is displayed in the tree
AND the lock icon is displayed in the list
AND the lock icon is displayed in the title</narrative>
    <display x="15" y="-180" w="300" h="60" />
    <font family="Segoe UI" size="11" style="Bold" color="339966" />
    <onsuccess>3b434826-a562-4b43-99cf-29927bea98f7</onsuccess>
  </stage>
  <stage stageid="595c1b2a-5dcf-45ee-8a89-699ea8a094a6" name="Exception" type="MultipleCalculation">
    <loginhibit onsuccess="true" />
    <display x="210" y="-45" />
    <onsuccess>7eba93e6-b9a1-4f67-8e26-53840f3c8afc</onsuccess>
    <steps>
      <calculation expression="True" stage="Failed?" />
      <calculation expression="ExceptionDetail()" stage="Exception" />
    </steps>
  </stage>
  <stage stageid="7eba93e6-b9a1-4f67-8e26-53840f3c8afc" name="Resume" type="Resume">
    <loginhibit />
    <display x="210" y="0" />
    <onsuccess>fb12fe4d-c444-400c-b5b8-217b607ad3d7</onsuccess>
  </stage>
  <stage stageid="b383c5b1-99bb-488a-9772-585730fbd5e1" name="Failed?" type="Decision">
    <display x="15" y="105" w="90" h="30" />
    <decision expression="[Failed?]" />
    <ontrue>80ad5cfb-b850-44e6-840f-5822d6d78332</ontrue>
    <onfalse>33ef5d1b-9b77-470b-9d76-850d6a828ec2</onfalse>
  </stage>
  <stage stageid="80ad5cfb-b850-44e6-840f-5822d6d78332" name="Re-Throw" type="Exception">
    <display x="105" y="105" />
    <exception localized="yes" type="RETHROW" detail="[Exception]" />
  </stage>
  <stage stageid="fb12fe4d-c444-400c-b5b8-217b607ad3d7" name="Anchor1" type="Anchor">
    <loginhibit onsuccess="true" />
    <display x="210" y="60" w="10" h="10" />
    <onsuccess>733bf68d-ba86-44db-ac68-5a21888d9b95</onsuccess>
  </stage>
  <stage stageid="a245683a-ca37-4afe-9af0-ed08d8fa6f98" name="Failed?" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-240" y="-225" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue>False</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="f9f42232-2120-4e13-a59c-19ca83627397" name="Exception" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-240" y="-195" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="564500bb-ff41-4e54-b4ef-252657971aee" name="Local Variables" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-315" y="-255" w="150" h="90" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="55131a67-647f-4860-b194-9b5a6003589b" name="Scenarios" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-150" y="-225" w="405" h="255" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="733bf68d-ba86-44db-ac68-5a21888d9b95" name="Terminate" type="Action">
    <loginhibit onsuccess="true" />
    <display x="15" y="60" w="90" h="30" />
    <onsuccess>b383c5b1-99bb-488a-9772-585730fbd5e1</onsuccess>
    <resource object="Blue Prism" action="Exit Application" />
  </stage>
  <stage stageid="8394333a-4744-43ea-8be7-c175ce12d769" name="Setup" type="SubSheet">
    <loginhibit onsuccess="true" />
    <display x="15" y="-255" w="300" h="30" />
    <onsuccess>ff1a0f05-1ee2-453d-8504-4cc7a3a42f21</onsuccess>
    <processid>f2a49da6-8bf3-481c-b03c-b7b115ef5892</processid>
  </stage>
  <stage stageid="3b434826-a562-4b43-99cf-29927bea98f7" name="Lock Icon Exists" type="SubSheet">
    <loginhibit onsuccess="true" />
    <display x="15" y="-120" w="300" h="30" />
    <onsuccess>3cd74385-9d12-4494-b513-4d89bd74cbb8</onsuccess>
    <processid>fd2e8c64-cd06-4720-8fc2-cdafc46b4db8</processid>
  </stage>
  <stage stageid="62996d60-e247-4d34-ac51-6f6fbd800b2c" name="Lock Icon Doesn't Exist" type="SubSheet">
    <loginhibit onsuccess="true" />
    <display x="15" y="0" w="300" h="30" />
    <onsuccess>733bf68d-ba86-44db-ac68-5a21888d9b95</onsuccess>
    <processid>28805f9b-9f21-49a1-b524-a261b11bd13d</processid>
  </stage>
  <stage stageid="3cd74385-9d12-4494-b513-4d89bd74cbb8" name="Note3" type="Note">
    <narrative>WHEN I close the process
THEN the lock icon is removed from the tree
AND the lock icon is removed from the title
AND the lock icon is removed from the list</narrative>
    <display x="15" y="-60" w="300" h="60" />
    <font family="Segoe UI" size="11" style="Bold" color="339966" />
    <onsuccess>62996d60-e247-4d34-ac51-6f6fbd800b2c</onsuccess>
  </stage>
  <stage stageid="7fe335ae-86a5-47d3-b3c1-18ca8762d6ea" name="Launch" type="Action">
    <subsheetid>f2a49da6-8bf3-481c-b03c-b7b115ef5892</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-60" w="90" h="30" />
    <outputs>
      <output type="number" name="pid" friendlyname="pid" narrative="PID of the process" stage="pid" />
    </outputs>
    <onsuccess>54819ad6-2212-4905-a216-1e44fee7fa07</onsuccess>
    <resource object="Blue Prism" action="Launch and Get PID" />
  </stage>
  <stage stageid="dd08f7f2-27c2-4edc-b84b-a4f97a246df1" name="Sign In" type="Action">
    <subsheetid>f2a49da6-8bf3-481c-b03c-b7b115ef5892</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="30" w="90" h="30" />
    <inputs>
      <input type="text" name="Username" friendlyname="Username" expr="" />
      <input type="password" name="Password" friendlyname="Password" expr="" />
      <input type="password" name="New Password" friendlyname="New Password" narrative="If this is your first login it will prompt you to change the password." expr="" />
      <input type="flag" name="Expect Password Reset" friendlyname="Expect Password Reset" expr="" />
      <input type="flag" name="Expected License Wizard" friendlyname="Expected License Wizard" expr="" />
    </inputs>
    <outputs>
      <output type="text" name="Locale" friendlyname="Locale" narrative="Blue Prism Locale setting" stage="" />
    </outputs>
    <onsuccess>4066952b-1b90-4ce2-9e8b-d7647453b869</onsuccess>
    <resource object="Blue Prism" action="Sign In" />
  </stage>
  <stage stageid="54819ad6-2212-4905-a216-1e44fee7fa07" name="Attach (Studio)" type="Action">
    <subsheetid>f2a49da6-8bf3-481c-b03c-b7b115ef5892</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-15" w="90" h="30" />
    <inputs>
      <input type="number" name="pid" friendlyname="pid" narrative="PID to attach to" expr="[pid]" />
    </inputs>
    <onsuccess>dd08f7f2-27c2-4edc-b84b-a4f97a246df1</onsuccess>
    <resource object="Blue Prism - Studio (Parent)" action="Attach to Pid" />
  </stage>
  <stage stageid="4066952b-1b90-4ce2-9e8b-d7647453b869" name="Browse to Studio" type="Action">
    <subsheetid>f2a49da6-8bf3-481c-b03c-b7b115ef5892</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="75" w="90" h="30" />
    <inputs>
      <input type="text" name="Tab Name" friendlyname="Tab Name" narrative="Name of Tab to Click" expr="&quot;Studio&quot;" />
    </inputs>
    <onsuccess>b38b7ef8-a517-47e9-9efb-9e7e5bc1b0b1</onsuccess>
    <resource object="Blue Prism - Basic Actions" action="Go to Tab" />
  </stage>
  <stage stageid="68873dee-bf12-4f9e-b85f-0f937525b408" name="pid" type="Data">
    <subsheetid>f2a49da6-8bf3-481c-b03c-b7b115ef5892</subsheetid>
    <display x="-120" y="15" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="5db19ba0-6f0a-495b-a03b-8d6c01c616c5" name="Local Variables" type="Block">
    <subsheetid>f2a49da6-8bf3-481c-b03c-b7b115ef5892</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-195" y="-15" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="5b3ff865-fc7c-4262-9595-25d366b52106" name="Open Process" type="Action">
    <subsheetid>fd2e8c64-cd06-4720-8fc2-cdafc46b4db8</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-105" w="120" h="30" />
    <inputs>
      <input type="text" name="Folder to Select" friendlyname="Folder to Select" expr="&quot;Process Group (TFM-323)&quot;" />
      <input type="number" name="MatchIndex" friendlyname="MatchIndex" expr="" />
      <input type="text" name="Process Name" friendlyname="Process Name" expr="&quot;(TFM-323) Process&quot;" />
    </inputs>
    <outputs>
      <output type="text" name="Access Warning" friendlyname="Access Warning" narrative="Access warning when opening member" stage="" />
    </outputs>
    <onsuccess>55da5df7-4a1d-4fd0-a540-51371ab38f19</onsuccess>
    <resource object="Blue Prism - Studio - Process / Object" action="Open Process" />
  </stage>
  <stage stageid="610456a0-34b7-463b-8909-aa2daae0f181" name="Close Process" type="Action">
    <subsheetid>28805f9b-9f21-49a1-b524-a261b11bd13d</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-60" w="120" h="30" />
    <onsuccess>8efdf6f2-0009-4463-8d4e-211cc3dcadac</onsuccess>
    <resource object="Blue Prism" action="Close All Child Windows" />
  </stage>
  <stage stageid="55da5df7-4a1d-4fd0-a540-51371ab38f19" name="Check for Lock Icon (List)" type="Action">
    <subsheetid>fd2e8c64-cd06-4720-8fc2-cdafc46b4db8</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-60" w="120" h="30" />
    <inputs>
      <input type="flag" name="Expect Lock?" friendlyname="Expect Lock?" expr="True" />
    </inputs>
    <onsuccess>82281009-24aa-4c66-b94c-5a6eda6de560</onsuccess>
    <resource object="Blue Prism - Studio" action="Check for Lock Icon (List)" />
  </stage>
  <stage stageid="408e3958-fa43-4350-8354-2215222f85e0" name="Select Process" type="Action">
    <subsheetid>fd2e8c64-cd06-4720-8fc2-cdafc46b4db8</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="30" w="120" h="30" />
    <inputs>
      <input type="text" name="Group Name" friendlyname="Group Name" narrative="The name of the group you want to select." expr="&quot;(TFM-323) Process&quot;" />
    </inputs>
    <onsuccess>5563687e-98d4-4640-a8f7-450d3dc9c613</onsuccess>
    <resource object="Blue Prism - Studio" action="Select Group" />
  </stage>
  <stage stageid="5563687e-98d4-4640-a8f7-450d3dc9c613" name="Check for Lock Icon (Title)" type="Action">
    <subsheetid>fd2e8c64-cd06-4720-8fc2-cdafc46b4db8</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="75" w="120" h="30" />
    <onsuccess>43531ff6-594b-4a44-b3c4-6dc1054ab43c</onsuccess>
    <resource object="Blue Prism - Studio" action="Check for Lock Icon (Title)" />
  </stage>
  <stage stageid="dfd0e745-2b15-4b64-a8d6-b3c92e7f9483" name="Select Group" type="Action">
    <subsheetid>28805f9b-9f21-49a1-b524-a261b11bd13d</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="75" w="120" h="30" />
    <inputs>
      <input type="text" name="Group Name" friendlyname="Group Name" narrative="The name of the group you want to select." expr="&quot;Process Group (TFM-323)&quot;" />
    </inputs>
    <onsuccess>49538e53-0a85-49a8-8241-638d89669275</onsuccess>
    <resource object="Blue Prism - Studio" action="Select Group" />
  </stage>
  <stage stageid="8efdf6f2-0009-4463-8d4e-211cc3dcadac" name="Check for Lock Icon (Title)" type="Action">
    <subsheetid>28805f9b-9f21-49a1-b524-a261b11bd13d</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-15" w="120" h="30" />
    <inputs>
      <input type="flag" name="Expect Lock?" friendlyname="Expect Lock?" expr="False" />
    </inputs>
    <onsuccess>62e8c72a-8e57-48cd-87ed-ea521110a381</onsuccess>
    <resource object="Blue Prism - Studio" action="Check for Lock Icon (Title)" />
  </stage>
  <stage stageid="82281009-24aa-4c66-b94c-5a6eda6de560" name="Check for Lock Icon (Tree)" type="Action">
    <subsheetid>fd2e8c64-cd06-4720-8fc2-cdafc46b4db8</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-15" w="120" h="30" />
    <inputs>
      <input type="flag" name="Expect Lock?" friendlyname="Expect Lock?" expr="True" />
    </inputs>
    <onsuccess>408e3958-fa43-4350-8354-2215222f85e0</onsuccess>
    <resource object="Blue Prism - Studio" action="Check for Lock Icon (Tree)" />
  </stage>
  <stage stageid="62e8c72a-8e57-48cd-87ed-ea521110a381" name="Check for Lock Icon (List)" type="Action">
    <subsheetid>28805f9b-9f21-49a1-b524-a261b11bd13d</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="30" w="120" h="30" />
    <inputs>
      <input type="flag" name="Expect Lock?" friendlyname="Expect Lock?" expr="False" />
    </inputs>
    <onsuccess>dfd0e745-2b15-4b64-a8d6-b3c92e7f9483</onsuccess>
    <resource object="Blue Prism - Studio" action="Check for Lock Icon (List)" />
  </stage>
  <stage stageid="49538e53-0a85-49a8-8241-638d89669275" name="Check for Lock Icon (Tree)" type="Action">
    <subsheetid>28805f9b-9f21-49a1-b524-a261b11bd13d</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="120" w="120" h="30" />
    <inputs>
      <input type="flag" name="Expect Lock?" friendlyname="Expect Lock?" expr="False" />
    </inputs>
    <onsuccess>d8b7bf92-cec5-44a5-81ef-81cc3e685d9a</onsuccess>
    <resource object="Blue Prism - Studio" action="Check for Lock Icon (Tree)" />
  </stage>
  <stage stageid="0301308b-953a-4662-a1ba-e4664d05425a" name="Recover" type="Recover">
    <loginhibit />
    <display x="210" y="-90" />
    <onsuccess>595c1b2a-5dcf-45ee-8a89-699ea8a094a6</onsuccess>
  </stage>
</process>