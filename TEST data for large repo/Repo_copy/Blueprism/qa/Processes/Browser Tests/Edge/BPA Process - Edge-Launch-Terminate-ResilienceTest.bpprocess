<process name="Edge-Launch-Terminate-ResilienceTest" version="1.0" bpversion="6.11.0.36029" narrative="Edge-Launch-Terminate-ResilienceTest" byrefcollection="true" preferredid="83fce162-c4ca-47a5-a035-f4670bcf8a9e">
  <view>
    <camerax>0</camerax>
    <cameray>-1</cameray>
    <zoom version="2">1.25</zoom>
  </view>
  <preconditions />
  <endpoint narrative="" />
  <stage stageid="93e25554-faa7-4463-a7af-71d2a8b5aed8" name="Start" type="Start">
    <display x="45" y="-240" />
    <onsuccess>388d5459-71b1-4641-b0b5-89f34499b23c</onsuccess>
  </stage>
  <stage stageid="8afd71a6-70d9-45e1-b57d-66a1a375d680" name="End" type="End">
    <display x="45" y="630" />
  </stage>
  <stage stageid="401945d4-6f40-4c80-a345-66b3da78241c" name="Stage1" type="ProcessInfo">
    <display x="-405" y="-150" w="210" h="90" />
  </stage>
  <stage stageid="9febcf53-5dcc-4a40-8756-c4ba001de5ca" name="Launch With Trackingid" type="Action">
    <loginhibit onsuccess="true" />
    <display x="45" y="-60" w="210" h="30" />
    <inputs>
      <input type="flag" name="FireFox" friendlyname="FireFox" expr="False" />
      <input type="flag" name="Edge" friendlyname="Edge" expr="True" />
      <input type="flag" name="Tracking Id" friendlyname="Tracking Id" narrative="Enable tracking id where multiple browser instances and new port range enabled" expr="True" />
    </inputs>
    <outputs>
      <output type="text" name="Tracking_id" friendlyname="Tracking_id" narrative="Launched browser tracking id" stage="Tracking ID" />
    </outputs>
    <onsuccess>e1ec83b0-f796-416f-ab0f-f50394cbc9c4</onsuccess>
    <resource object="Chrome App Model" action="Launch" />
  </stage>
  <stage stageid="ed6ab186-0a36-43a4-8ba3-94af343041ac" name="Failed?" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-420" y="-45" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue>False</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="e1886217-1430-4551-86ed-cd5875f24057" name="Exception" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-420" y="0" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="954cfe2d-d048-47c5-8f88-41f524f7d2b6" name="Local Variables" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-510" y="-75" w="210" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="9c79a813-bf61-4561-8610-1a1c62030817" name="Tracking ID" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-405" y="120" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="4244c422-f4b3-46eb-9a68-77949a229862" name="Input Variable" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-510" y="60" w="210" h="210" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="e1ec83b0-f796-416f-ab0f-f50394cbc9c4" name="TerminateBrowser With Trackingid" type="Action">
    <loginhibit onsuccess="true" />
    <display x="45" y="-15" w="210" h="30" />
    <inputs>
      <input type="text" name="Browser Tracking Id" friendlyname="Browser Tracking Id" narrative="Browser Tracking Id" expr="[Tracking ID]" />
      <input type="flag" name="Tracking Id" friendlyname="Tracking Id" narrative="Enable Tracking Id if required" expr="True" />
    </inputs>
    <onsuccess>690a4286-632f-4893-8ced-d1f55c4692ab</onsuccess>
    <resource object="Chrome App Model" action="terminate" />
  </stage>
  <stage stageid="a4206ffd-547e-4d32-b50e-a1f8f90057bb" name="Scenarios" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-180" y="-135" w="585" h="285" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="8e6f0497-7214-4b3f-8209-a1251cb00ebe" name="Recover1" type="Recover">
    <loginhibit />
    <display x="315" y="30" />
    <onsuccess>504637bc-254a-4e6b-a8a7-4aae2427a921</onsuccess>
  </stage>
  <stage stageid="504637bc-254a-4e6b-a8a7-4aae2427a921" name="Exception" type="MultipleCalculation">
    <loginhibit onsuccess="true" />
    <display x="315" y="75" />
    <onsuccess>1a9357ba-d81a-43f9-91aa-067c27037672</onsuccess>
    <steps>
      <calculation expression="True" stage="Failed?" />
      <calculation expression="[Exception] &amp; &quot;---LAUNCH/TERMINATE WithTrackingID :---- &quot; &amp; ExceptionDetail()" stage="Exception" />
    </steps>
  </stage>
  <stage stageid="1a9357ba-d81a-43f9-91aa-067c27037672" name="Resume1" type="Resume">
    <loginhibit />
    <display x="315" y="120" />
    <onsuccess>72c3ce2e-f3cf-4e75-9292-021ac6293d5e</onsuccess>
  </stage>
  <stage stageid="caa9e35a-c308-4b60-a34a-6c33c10bbdeb" name="Failed" type="Decision">
    <display x="45" y="555" w="120" h="60" />
    <decision expression="[Failed?]" />
    <ontrue>e548a337-6804-4e6b-859b-e2fc5b41ec8f</ontrue>
    <onfalse>8afd71a6-70d9-45e1-b57d-66a1a375d680</onfalse>
  </stage>
  <stage stageid="e548a337-6804-4e6b-859b-e2fc5b41ec8f" name="RETHROW" type="Exception">
    <display x="180" y="555" w="90" h="30" />
    <exception localized="yes" type="RETHROW" detail="[Exception]" />
  </stage>
  <stage stageid="7226bd2f-df67-467e-8bee-fbb0b4ec6cc5" name="Count" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-420" y="180" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue>1</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="690a4286-632f-4893-8ced-d1f55c4692ab" name="Count++" type="Calculation">
    <loginhibit onsuccess="true" />
    <display x="45" y="30" />
    <onsuccess>0298d0c4-a4fa-432e-94b8-63487149cb4b</onsuccess>
    <calculation expression="[Count] +1" stage="Count" />
  </stage>
  <stage stageid="0298d0c4-a4fa-432e-94b8-63487149cb4b" name="Count &gt; 10" type="Decision">
    <display x="45" y="75" />
    <decision expression="[Count] &gt; 10" />
    <ontrue>72c3ce2e-f3cf-4e75-9292-021ac6293d5e</ontrue>
    <onfalse>fc0cb8f1-9b93-48a1-9f88-8b59a37b143f</onfalse>
  </stage>
  <stage stageid="72c3ce2e-f3cf-4e75-9292-021ac6293d5e" name="Anchor1" type="Anchor">
    <loginhibit onsuccess="true" />
    <display x="45" y="120" w="10" h="10" />
    <onsuccess>b6d8202d-7843-4756-b8fc-440a007cdf82</onsuccess>
  </stage>
  <stage stageid="6c6b01c4-58c3-46f5-bc09-013b0b970c5d" name="Anchor2" type="Anchor">
    <loginhibit onsuccess="true" />
    <display x="45" y="-105" w="10" h="10" />
    <onsuccess>9febcf53-5dcc-4a40-8756-c4ba001de5ca</onsuccess>
  </stage>
  <stage stageid="fc0cb8f1-9b93-48a1-9f88-8b59a37b143f" name="Anchor4" type="Anchor">
    <loginhibit onsuccess="true" />
    <display x="-120" y="75" w="10" h="10" />
    <onsuccess>dbf0b398-2f6e-47b4-9616-5ddd26a39720</onsuccess>
  </stage>
  <stage stageid="dbf0b398-2f6e-47b4-9616-5ddd26a39720" name="Anchor5" type="Anchor">
    <loginhibit onsuccess="true" />
    <display x="-120" y="-105" w="10" h="10" />
    <onsuccess>6c6b01c4-58c3-46f5-bc09-013b0b970c5d</onsuccess>
  </stage>
  <stage stageid="388d5459-71b1-4641-b0b5-89f34499b23c" name="Note1" type="Note">
    <narrative>Given I have Edge browser
When I launch and terminate the browser multiple times through blueprism
Then without any issues connection should be established between blue prism and plugin</narrative>
    <display x="45" y="-180" w="360" h="60" />
    <font family="Segoe UI" size="10" style="Bold" color="000000" />
    <onsuccess>6c6b01c4-58c3-46f5-bc09-013b0b970c5d</onsuccess>
  </stage>
  <stage stageid="ad92dc62-25f8-4526-9fa6-6e2b42bb931f" name="Launch WithOUT Trackingid" type="Action">
    <loginhibit onsuccess="true" />
    <display x="45" y="270" w="210" h="30" />
    <inputs>
      <input type="flag" name="FireFox" friendlyname="FireFox" expr="False" />
      <input type="flag" name="Edge" friendlyname="Edge" expr="True" />
      <input type="flag" name="Tracking Id" friendlyname="Tracking Id" narrative="Enable tracking id where multiple browser instances and new port range enabled" expr="False" />
    </inputs>
    <outputs>
      <output type="text" name="Tracking_id" friendlyname="Tracking_id" narrative="Launched browser tracking id" stage="Tracking ID" />
    </outputs>
    <onsuccess>7b617abf-f270-4256-b10f-5f61832643f7</onsuccess>
    <resource object="Chrome App Model" action="Launch" />
  </stage>
  <stage stageid="7b617abf-f270-4256-b10f-5f61832643f7" name="TerminateBrowser  WithOUT Trackingid" type="Action">
    <loginhibit onsuccess="true" />
    <display x="45" y="315" w="210" h="30" />
    <inputs>
      <input type="text" name="Browser Tracking Id" friendlyname="Browser Tracking Id" narrative="Browser Tracking Id" expr="" />
      <input type="flag" name="Tracking Id" friendlyname="Tracking Id" narrative="Enable Tracking Id if required" expr="False" />
    </inputs>
    <onsuccess>283f29fe-1768-4f37-8290-5ad3dcee9d42</onsuccess>
    <resource object="Chrome App Model" action="terminate" />
  </stage>
  <stage stageid="bc73fff2-a8ff-47e1-8495-32cd4b7f1706" name="Scenarios" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-180" y="195" w="585" h="285" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="2e9f2b79-7c08-456c-a1c6-3846fead2446" name="Recover1" type="Recover">
    <loginhibit />
    <display x="315" y="360" />
    <onsuccess>b3952b95-f671-42e9-90b3-e43504662c21</onsuccess>
  </stage>
  <stage stageid="b3952b95-f671-42e9-90b3-e43504662c21" name="Exception" type="MultipleCalculation">
    <loginhibit onsuccess="true" />
    <display x="315" y="405" />
    <onsuccess>5d443b38-54c6-472f-8839-d34670046cdc</onsuccess>
    <steps>
      <calculation expression="True" stage="Failed?" />
      <calculation expression="[Exception] &amp; &quot;---&gt; LAUNCH/TERMINATE WithOUTTrackingID :---- &quot; &amp; ExceptionDetail()" stage="Exception" />
    </steps>
  </stage>
  <stage stageid="5d443b38-54c6-472f-8839-d34670046cdc" name="Resume1" type="Resume">
    <loginhibit />
    <display x="315" y="450" />
    <onsuccess>1a66d4c5-e225-4bf4-9920-7e5cec5971c7</onsuccess>
  </stage>
  <stage stageid="283f29fe-1768-4f37-8290-5ad3dcee9d42" name="Count++" type="Calculation">
    <loginhibit onsuccess="true" />
    <display x="45" y="360" />
    <onsuccess>902d402f-afd9-4d31-9f3d-829702e59df7</onsuccess>
    <calculation expression="[Count1] + 1" stage="Count1" />
  </stage>
  <stage stageid="902d402f-afd9-4d31-9f3d-829702e59df7" name="Count &gt; 10" type="Decision">
    <display x="45" y="405" />
    <decision expression="[Count1] &gt; 10" />
    <ontrue>1a66d4c5-e225-4bf4-9920-7e5cec5971c7</ontrue>
    <onfalse>b9f6cb54-c600-4d01-94e0-ca14c9e36d33</onfalse>
  </stage>
  <stage stageid="1a66d4c5-e225-4bf4-9920-7e5cec5971c7" name="Anchor1" type="Anchor">
    <loginhibit onsuccess="true" />
    <display x="45" y="450" w="10" h="10" />
    <onsuccess>caa9e35a-c308-4b60-a34a-6c33c10bbdeb</onsuccess>
  </stage>
  <stage stageid="b6d8202d-7843-4756-b8fc-440a007cdf82" name="Anchor2" type="Anchor">
    <loginhibit onsuccess="true" />
    <display x="45" y="225" w="10" h="10" />
    <onsuccess>ad92dc62-25f8-4526-9fa6-6e2b42bb931f</onsuccess>
  </stage>
  <stage stageid="b9f6cb54-c600-4d01-94e0-ca14c9e36d33" name="Anchor4" type="Anchor">
    <loginhibit onsuccess="true" />
    <display x="-120" y="405" w="10" h="10" />
    <onsuccess>3006791c-86e3-483f-af18-54012448a6a9</onsuccess>
  </stage>
  <stage stageid="3006791c-86e3-483f-af18-54012448a6a9" name="Anchor5" type="Anchor">
    <loginhibit onsuccess="true" />
    <display x="-120" y="225" w="10" h="10" />
    <onsuccess>b6d8202d-7843-4756-b8fc-440a007cdf82</onsuccess>
  </stage>
  <stage stageid="2c35d4bd-6d93-4e53-9d3c-3addb5998975" name="Count1" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-420" y="225" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue>1</initialvalue>
    <private />
    <alwaysinit />
  </stage>
</process>