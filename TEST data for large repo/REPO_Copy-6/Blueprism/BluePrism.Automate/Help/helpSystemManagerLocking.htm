<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <link type="text/css" href="AutomateHelp.css" rel="stylesheet" />
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <title>Environment Locking Maintenance</title>
	<script type="text/javascript" src="script/imagezoom.js"></script>
	<style type="text/css">
		h3, h4 { clear:left !important; }
	</style>
</head>

<body class="slick">
	<div class="header">
		<h1 class="pagetitle">System Manager</h1>
		<h2>Environment Locking Maintenance</h2>
	</div>
	<div class="captioned-image overview-screenshot nozoom">
		<a href="Graphics/locking-sysman.png" 
			title="Environment Locking Maintenance - Click for a larger image"><img 
			src="Graphics/locking-sysman.png"
			alt="Environment Locking Maintenance - Click for a larger image"/></a>
		<p>Environment Locking Maintenance</p>
	</div>
	
	<h3 id="overview">Overview</h3>
	<p><a href="helpEnvironmentLocking.htm">Environment Locks</a>
	provide a way for a Blue Prism session to 'lock' access to a
	particular resource, ensuring that any other sessions are made to
	wait for it to release the lock and let them have access.</p>
	
	<p>When a session completes, either normally, or if it terminates
	due to an exception, any locks which it acquired while running are
	released, if they have not been released already.</p>
	
	<p>However, if a resource PC lost communication with the database
	when the session was finished, or if a debug session crashed the
	application when it had a lock open, it is possible for a lock to
	end up 'orphaned', meaning that the resource it protects will remain
	locked, but the system will not attempt to release it automatically.
	</p>
	
	<p>The Environment Locking Maintenance panel in System Manager's
	"Workflow" section provides a method with which the current status
	of the locks can be viewed, and the locks can be forcibly released
	and, ultimately, deleted.</p>
	
	<h3>The Lock Table</h3>
	<p>The table shows the current state of the locks.
	If a lock is currently held by a session, the process that holds it
	and the resource it is held on is displayed along with the time that
	the lock was acquired.
	<br/>
	In any case, the last comment given when a lock was acquired or
	released is also displayed.
	</p>
	
	<div class="captioned-image screenshot" style="width:100px">
		<img src="Graphics/locking-filter-status.png"
		 alt="Filtering the status"/>
	</div>
	<h4 id="filters">Filtering the table</h4>
	<p>The table can be filtered using the filters above the list.</p>
	</p>
	<dl class="bulleted">
		<dt>Status</dt>
		<dd>Select the padlock icon to show only held locks; the
		ellipsis to show only free locks; </dd>
		<dt>Name, Resource, Process, Last Comment</dt>
		<dd>Enter a value - name / process / etc. to show only those
		locks which have fields containing the specified value.
		This is case-insensitive, eg. searching for "process 1" in the
		'Process' filter would return any locks currently held in
		"process 1", "Process 1" or, indeed,
		"Previously Known as 'PROCESS 1'".
		</dd>
		<dt>Lock Time</dt>
		<dd>Enter a range of times required - this accepts various forms
			of detailing times, such as :-
			<div class="captioned-image screenshot">
				<img src="Graphics/locking-filter-locktime.png"
				 alt="Filtering the lock time"/>
			</div>
			<ul>
				<li><code>Today</code></li>
				<li><code>Last <i>n</i> days</code></li>
				<li><code>Yesterday and today</code></li>
				<li><code>&lt; 24/05/2011</code> - before the 24th</li>
				<li><code>&gt; 21/05/2011, &lt; 24/05/2011</code> -
				later than 21st, before the 24th (ie. 22nd and 23rd)</li>
				<li><code>24/05/2011</code> - only on the 24th</li>
				<li><code>2011-05-24</code> - only on the 24th</li>
			</ul>
		</dd>
	</dl>
	
	<div class="captioned-image screenshot">
		<img src="Graphics/locking-release-contextmenu.png"
		 alt="Releasing locks"/>
	</div>
	<h3 id="maintaining">Maintaining the locks</h3>
	<p>Using the system manager panel, it is possible to release and
	delete the locks, or view the logs of the sessions which are
	currently holding the locks.</p>
	
	<p>This is achieved by selecting the locks and pressing the
	appropriate button or right-clicking and selecting the desired
	option from the context menu.</p>
	
	<h4 id="release" class="clearer">Release lock(s)</h4>
	<div class="captioned-image screenshot">
		<img src="Graphics/locking-release-button.png"
		 alt="Releasing locks"/>
	</div>
	<p>If a lock has become orphaned, ie. if it remains held after the
	session that held it should have finished, then it can be released
	forcibly by selecting it in the list and clicking on the 
	<code>Release Lock(s)</code> button, or by right-clicking and
	selecting the <code>Release Lock(s)</code> menu option.</p>
	
	<p>Multiple locks can be released at the same time by selecting
	multiple items in the list (by, for example, holding down Control
	and clicking multiple rows) and clicking
	<code>Release Lock(s)</code>.</p>
	
	<p>If some locks are selected that are not currently being held,
	they are skipped and only the currently held locks are released.</p>
	
	<h4 id="delete" class="clearer">Delete lock(s)</h4>
	<div class="captioned-image screenshot">
		<img src="Graphics/locking-delete-contextmenu.png"
		 alt="Deleting locks"/>
	</div>
	<p>Any currently free locks can be deleted by selecting and them and
	either clicking on the <code>Delete Lock(s)</code> button or right
	clicking and selecting the <code>Delete Lock(s)</code> menu item.</p>
	
	<p>Again, multiple locks can be released at the same time by
	selecting multiple items in the list (by, for example, holding down
	Control and clicking multiple rows) and clicking
	<code>Delete Lock(s)</code></p>
	
	<p>If any held locks are selected, or if any locks have been
	acquired in the time that the locks were being displayed and before
	the delete button was pressed, they are not deleted.</p>
	
	
	<h4 id="viewlogs" class="clearer">View Logs(s)</h4>
	<div class="captioned-image screenshot">
		<img src="Graphics/locking-viewlog-contextmenu.png"
		 alt="Viewing the log"/>
	</div>
	<p>The logs of sessions which are currently holding locks can be
	viewed by selecting them and clicking on the <code>View Log(s)</code>
	button, or by right clicking and selecting the 
	<code>View Log(s)</code> menu item.</p>
	
	<p>When chosen, a separate window will be opened for each selected
	session and the log will be opened in them.</p>
	
	<p>If any free locks are selected, or if the selected locks have
	been released in the meantime, their sessions are no longer
	available and thus the logs will not be opened.</p>
	

</body>
</html>