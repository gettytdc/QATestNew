<process name="API - GET sessions" version="1.0" bpversion="7.0.0.39586" narrative="" byrefcollection="true" preferredid="264bfaf9-26dc-4ebd-a65f-b6bb8d529573">
  <view>
    <camerax>24</camerax>
    <cameray>168</cameray>
    <zoom version="2">1.25</zoom>
  </view>
  <preconditions />
  <endpoint narrative="" />
  <subsheet subsheetid="35e4a25d-3be4-4079-9172-6a5adeca098f" type="Normal" published="False">
    <name>Setup</name>
    <view>
      <camerax>-26</camerax>
      <cameray>675</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="ab4ccde0-4082-4083-98a8-a036be8b3e37" type="Normal" published="False">
    <name>Check Session</name>
    <view>
      <camerax>-43</camerax>
      <cameray>-39</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <stage stageid="43eb6e5d-030d-453a-894c-1c6e09e52732" name="Start" type="Start">
    <display x="15" y="-315" />
    <onsuccess>95d8a8b4-41c6-45bc-939a-d1b9241f0630</onsuccess>
  </stage>
  <stage stageid="6b7ae773-943d-4f66-bb0a-3746d0fca712" name="Stage1" type="ProcessInfo">
    <display x="-240" y="-210" w="150" h="90" />
  </stage>
  <stage stageid="e468483f-4ee1-464e-83af-9c9a87acb702" name="Expected Process Name (1)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-735" y="-120" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">Process1 BP-1553</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="7b3bb422-6eb8-4760-838d-007c33b3dfc9" name="Expected Status (1)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-735" y="-60" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">Pending</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="e85873f5-c2f6-4ad0-a169-e69be2ecc800" name="End1" type="End">
    <loginhibit onsuccess="true" />
    <display x="15" y="915" />
  </stage>
  <stage stageid="34e7661a-d38f-4c6b-a21a-4abcf588ece5" name="Expected Results - Pending Session" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-810" y="-150" w="150" h="195" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="f5798412-80be-487a-9afa-ad7468cf894c" name="Global Variables" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-315" y="-150" w="150" h="240" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="3dc21b95-0b51-4a26-8c17-e7be3509dcb7" name="Note1" type="Note">
    <narrative>GIVEN I push a GET sessions request to the Blue Prism API</narrative>
    <display x="15" y="-180" w="300" h="30" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
    <onsuccess>baf49ea2-f0bc-4e2f-b68f-b18a71f736c5</onsuccess>
  </stage>
  <stage stageid="158aeb60-69a2-4549-ab49-a3d562d6cab7" name="Note2" type="Note">
    <narrative>WHEN The response is received
THEN it contains the appropriate HTTP Status Code</narrative>
    <display x="15" y="30" w="300" h="30" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
    <onsuccess>f5703e83-2041-49c1-88ce-c32ac8c8eabf</onsuccess>
  </stage>
  <stage stageid="3731893d-c2d7-4710-9cc0-e553c4b56d68" name="Note3" type="Note">
    <narrative>AND the property values that I expect to receive for the pending session are correctly returned</narrative>
    <display x="15" y="135" w="300" h="30" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
    <onsuccess>9ef34347-54f5-4d60-bf88-3acca3c2ed31</onsuccess>
  </stage>
  <stage stageid="f6360219-a1f1-4612-bb06-624c50d8f06f" name="Setup" type="SubSheetInfo">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="-150" y="-855" w="150" h="90" />
  </stage>
  <stage stageid="ca07c9d5-ac08-4028-829c-1db1613ee08c" name="End" type="End">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="0" y="990" />
  </stage>
  <stage stageid="95d8a8b4-41c6-45bc-939a-d1b9241f0630" name="Setup" type="SubSheet">
    <loginhibit onsuccess="true" />
    <display x="15" y="-255" w="300" h="30" />
    <onsuccess>3dc21b95-0b51-4a26-8c17-e7be3509dcb7</onsuccess>
    <processid>35e4a25d-3be4-4079-9172-6a5adeca098f</processid>
  </stage>
  <stage stageid="74c5c67a-0e2f-4c93-96a1-d4a874e6bdf7" name="Local Variables" type="Block">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-225" y="-795" w="150" h="180" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="9b740e32-6cca-42c9-b72e-c3d666bc88ff" name="Start" type="Start">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="0" y="-1080" />
    <onsuccess>72bfa5c9-0b38-4fd5-a5ea-c5e27b371303</onsuccess>
  </stage>
  <stage stageid="a9a06f6c-aa16-4899-9655-b1a65dbca8b4" name="Expected Results - Terminated Session" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-645" y="-150" w="150" h="195" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="8eb96d59-6c97-4ca1-bb3c-58b86b18ffe7" name="Check Session" type="SubSheetInfo">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="-135" y="-60" w="150" h="90" />
  </stage>
  <stage stageid="6af4d1a5-b593-4997-b84c-6c4132855a90" name="Start" type="Start">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="15" y="-165" />
    <inputs>
      <input type="text" name="Process Name" stage="processName" />
      <input type="datetime" name="Start Time" stage="startTime Expected" />
      <input type="text" name="Process ID" stage="processID" />
      <input type="number" name="Session Number" stage="sessionNumber" />
      <input type="text" name="Resource Name" stage="resourceName" />
      <input type="text" name="Status Expected" stage="status Expected" />
      <input type="text" name="Exception Message" stage="exceptionMessage" />
      <input type="text" name="Exception Type" stage="exceptionType" />
      <input type="flag" name="Expect an Exception Message?" stage="Expect there to be an exceptionMessage?" />
      <input type="text" name="User Name" stage="userName" />
      <input type="datetime" name="End Time" stage="endTime Expected" />
      <input type="flag" name="Expect an End Time?" stage="Expect there to be an endTime?" />
      <input type="datetime" name="Stage Started" stage="stageStarted" />
      <input type="text" name="Latest Stage" stage="latestStage" />
      <input type="flag" name="Expect latestStage Output" stage="Expect latestStage output?" />
      <input type="flag" name="Expect there to be a stageStarted?" stage="Expect there to be a stageStarted?" />
    </inputs>
    <onsuccess>2bf9fee9-0ad0-4c03-99cb-560eaa8fd766</onsuccess>
  </stage>
  <stage stageid="2bf9fee9-0ad0-4c03-99cb-560eaa8fd766" name="Request Result" type="LoopStart">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-120" w="120" h="30" />
    <onsuccess>893bc832-a9e8-4844-b454-d59a3c46a089</onsuccess>
    <groupid>5e8574dc-63d9-43db-8536-e05d692b2e12</groupid>
    <looptype>ForEach</looptype>
    <loopdata>Result Collection</loopdata>
  </stage>
  <stage stageid="48a09268-c3ad-422d-9a7a-e1ae64f3f9af" name="Request Result" type="LoopEnd">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="915" w="120" h="30" />
    <onsuccess>fa5b73b8-28e9-4b34-aacd-08d7aeda9be1</onsuccess>
    <groupid>5e8574dc-63d9-43db-8536-e05d692b2e12</groupid>
  </stage>
  <stage stageid="893bc832-a9e8-4844-b454-d59a3c46a089" name="Queue Data" type="LoopStart">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-75" w="120" h="30" />
    <onsuccess>5341c9eb-871c-41fa-ad9d-5a1f19dff1a2</onsuccess>
    <groupid>6e935a0c-f2a8-485d-9924-59f316d0bf0b</groupid>
    <looptype>ForEach</looptype>
    <loopdata>Result Collection.JSON:Array</loopdata>
  </stage>
  <stage stageid="4fc26c5d-d7c0-4c4c-9eaa-6cb37b785def" name="Queue Data" type="LoopEnd">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="870" w="120" h="30" />
    <onsuccess>48a09268-c3ad-422d-9a7a-e1ae64f3f9af</onsuccess>
    <groupid>6e935a0c-f2a8-485d-9924-59f316d0bf0b</groupid>
  </stage>
  <stage stageid="360da6f9-fa3c-4196-8117-a65f1de11f97" name="Check my processName is returned" type="Decision">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="15" y="75" w="120" h="30" />
    <decision expression="[Result Collection.JSON:Array.processName]=[processName]" />
    <ontrue>bca28413-6121-4411-820a-93442779b104</ontrue>
    <onfalse>8d248873-5048-4556-822b-db5cfd489660</onfalse>
  </stage>
  <stage stageid="fa5b73b8-28e9-4b34-aacd-08d7aeda9be1" name="Session Not Found" type="Exception">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="120" y="915" />
    <exception localized="yes" type="Session Name Exception" detail="&quot;The expected Session status, &quot;&amp;[status Expected]&amp;&quot; was not returned.&quot;" />
  </stage>
  <stage stageid="3d303a6d-e0e0-4b15-b4c6-a90c942d7c3c" name="Check sessionNumber" type="Decision">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="15" y="225" w="120" h="30" />
    <decision expression="[Result Collection.JSON:Array.sessionNumber]=[sessionNumber]" />
    <ontrue>36a1a85d-88f6-4849-be20-af6002e9e83c</ontrue>
    <onfalse>20b55e71-0490-47e3-92c8-3b111b9745c3</onfalse>
  </stage>
  <stage stageid="20b55e71-0490-47e3-92c8-3b111b9745c3" name="Build Failure Message" type="Calculation">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="255" y="225" />
    <onsuccess>8a97a6f4-cb6c-4fa4-a029-80128436b0c4</onsuccess>
    <calculation expression="[Scenario Failed]&amp;&quot;-- sessionNumber was not returned. We expected&quot; &amp;[sessionNumber]&amp;&quot; and actual value was &quot;&amp;[Result Collection.JSON:Array.sessionNumber]&amp;&quot;.&quot;&amp;NewLine()" stage="Scenario Failed" />
  </stage>
  <stage stageid="5c01e2aa-e686-4c16-8d4d-150fa6a1a298" name="Check resourceName" type="Decision">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="15" y="285" w="120" h="30" />
    <decision expression="[Result Collection.JSON:Array.resourceName]=[resourceName]" />
    <ontrue>4d66704b-88fa-4815-b016-b65ef1abdfb1</ontrue>
    <onfalse>465fcf9c-3978-416f-85a1-c71618e705f8</onfalse>
  </stage>
  <stage stageid="7ec5717d-afd4-4ac2-b073-f35323e5726e" name="Check status" type="Decision">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="15" y="465" w="120" h="30" />
    <decision expression="[Result Collection.JSON:Array.status]=[status Expected]" />
    <ontrue>0dafb4cc-762c-429e-b67c-31e5a244547c</ontrue>
    <onfalse>fc632981-8f7c-48d1-875e-25200d715650</onfalse>
  </stage>
  <stage stageid="44c17b61-67dd-4cc7-a744-05db49622be1" name="Check endTime is present/correct?" type="Decision">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="-120" y="645" w="120" h="30" />
    <decision expression="[Result Collection.JSON:Array.endTime]&gt;=[startTime Expected] AND [Result Collection.JSON:Array.endTime]&lt;=[endTime Expected]" />
    <ontrue>26e72e83-723d-49f4-b869-336658b81e71</ontrue>
    <onfalse>055f29aa-2472-4302-9390-1693c0ee2b05</onfalse>
  </stage>
  <stage stageid="055f29aa-2472-4302-9390-1693c0ee2b05" name="Build Failure Message" type="Calculation">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-225" y="645" />
    <onsuccess>445b8cad-2fbd-4ab5-8848-34d353453898</onsuccess>
    <calculation expression="[Scenario Failed]&amp;&quot;-- endTime was not as expected. We Expected &quot;&amp;[endTime Expected]&amp;&quot; and actual value was &quot;&amp;[Result Collection.JSON:Array.endTime]&amp;&quot;.&quot;&amp;NewLine()" stage="Scenario Failed" />
  </stage>
  <stage stageid="71590c98-59ec-4d35-ac19-5ae572ed5e79" name="Failure - Unexpected Value(s) Returned" type="Exception">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="120" y="825" />
    <exception localized="yes" type="Unexpected Response Values" detail="[Scenario Failed]" />
  </stage>
  <stage stageid="d01e780b-773e-47e0-b0cf-99a7fe79cefc" name="Any Failure Check" type="Decision">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="15" y="825" w="120" h="30" />
    <decision expression="[Scenario Failed]&lt;&gt;&quot;&quot;" />
    <ontrue>71590c98-59ec-4d35-ac19-5ae572ed5e79</ontrue>
    <onfalse>648c89d4-1125-4526-914b-f16d6720fd04</onfalse>
  </stage>
  <stage stageid="65e053ec-1fa4-4b13-8509-23ae9ad8a7ef" name="Attach Control" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-555" w="90" h="30" />
    <inputs>
      <input type="number" name="pid" friendlyname="pid" narrative="PID to attach to" expr="[pid]" />
    </inputs>
    <onsuccess>7df14caf-eda8-42a1-8703-1f0c72be573c</onsuccess>
    <resource object="Blue Prism - Control Room (Parent)" action="Attach to Pid" />
  </stage>
  <stage stageid="88833a9b-0b14-4e30-b3ee-39e5989d987f" name="pid" type="Data">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="-150" y="-765" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="9c93fc3d-d2b8-4298-babb-8515cefd724b" name="Expected Results - Completed Session" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-480" y="-150" w="150" h="195" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="12c06fb8-c8ae-4c08-83e9-e3f4cdbcbf95" name="Username" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-240" y="-120" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">admin</initialvalue>
  </stage>
  <stage stageid="baf49ea2-f0bc-4e2f-b68f-b18a71f736c5" name="Get Sessions" type="Action">
    <loginhibit onsuccess="true" />
    <display x="15" y="-135" w="300" h="30" />
    <inputs>
      <input type="text" name="Process name starts with" friendlyname="Process name starts with" expr="" />
      <input type="number" name="Session number starts with" friendlyname="Session number starts with" expr="" />
      <input type="text" name="Resource name starts with" friendlyname="Resource name starts with" expr="" />
      <input type="text" name="Username starts with" friendlyname="Username starts with" expr="" />
      <input type="text" name="Status" friendlyname="Status" expr="" />
      <input type="datetime" name="Start time greater than" friendlyname="Start time greater than" expr="[Start Time Before Sessions]" />
      <input type="datetime" name="Start time less than" friendlyname="Start time less than" expr="" />
      <input type="datetime" name="End time greater than" friendlyname="End time greater than" expr="" />
      <input type="datetime" name="End time less than" friendlyname="End time less than" expr="" />
      <input type="text" name="Latest stage starts with" friendlyname="Latest stage starts with" expr="" />
      <input type="datetime" name="Stage started greater than" friendlyname="Stage started greater than" expr="" />
      <input type="datetime" name="Stage started less than" friendlyname="Stage started less than" expr="" />
      <input type="text" name="Sort by" friendlyname="Sort by" expr="" />
      <input type="number" name="Page number" friendlyname="Page number" expr="" />
      <input type="number" name="Items per page" friendlyname="Items per page" expr="" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="Response Content" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Status Code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>77f4a0be-aa0e-401c-8d50-1661193ca6d3</onsuccess>
    <resource object="Blue Prism - API - Sessions" action="GET Sessions" />
  </stage>
  <stage stageid="00de690c-983f-4850-b9c9-17d5f569f3a0" name="Response Content" type="Data">
    <display x="-240" y="180" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="53fbdcf9-bc1c-4a7d-ad8f-a482f7491078" name="HTTP Status Code" type="Data">
    <display x="-240" y="150" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="77f4a0be-aa0e-401c-8d50-1661193ca6d3" name="Convert Response to Collection" type="Action">
    <loginhibit onsuccess="true" />
    <display x="15" y="-60" w="300" h="30" />
    <inputs>
      <input type="text" name="json" friendlyname="json" expr="[Response Content]" />
    </inputs>
    <outputs>
      <output type="collection" name="Result" friendlyname="Result" stage="Default Result Collection" />
    </outputs>
    <onsuccess>6e92df8f-098f-4618-be81-ea3888c89184</onsuccess>
    <resource object="Utility - JSON" action="JSON to Collection" />
  </stage>
  <stage stageid="f5703e83-2041-49c1-88ce-c32ac8c8eabf" name="Response Code as Expected?" type="Decision">
    <display x="15" y="75" w="300" h="30" />
    <decision expression="[HTTP Status Code]=&quot;200&quot;" />
    <ontrue>3731893d-c2d7-4710-9cc0-e553c4b56d68</ontrue>
    <onfalse>8430f6ab-790f-4626-a4eb-f45ae5417ed5</onfalse>
  </stage>
  <stage stageid="8430f6ab-790f-4626-a4eb-f45ae5417ed5" name="Incorrect HTTP Status Code Response" type="Exception">
    <display x="210" y="75" />
    <exception localized="yes" type="Response Code Error" detail="&quot;It was expected that HTTP status code 200 would be returned. Actual returned HTTP status code was: &quot;&amp;[HTTP Status Code]" />
  </stage>
  <stage stageid="ccc957c8-f145-4ed6-bdff-63804bed1f43" name="API Response Data" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-315" y="120" w="150" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="a1b0209e-911f-403f-92f5-414bf041a86a" name="Note4" type="Note">
    <narrative>AND the property values that I expect to receive for the terminated session are correctly returned for processes with exception.</narrative>
    <display x="15" y="225" w="300" h="30" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
    <onsuccess>77ed44de-294a-408a-9970-b3eeabb88b0a</onsuccess>
  </stage>
  <stage stageid="4d4036d0-8460-473a-9c7e-a906b3d3fb10" name="Note5" type="Note">
    <narrative>AND the property values that I expect to receive for completed session are correctly returned</narrative>
    <display x="15" y="360" w="300" h="30" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
    <onsuccess>0575ff7f-d81f-40b4-a7d6-3051565f4604</onsuccess>
  </stage>
  <stage stageid="3a9b03c7-2d4f-429f-a57d-818a3597773a" name="Cleanup Block" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-150" y="-90" w="465" h="795" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="9ef34347-54f5-4d60-bf88-3acca3c2ed31" name="Check Session" type="SubSheet">
    <loginhibit onsuccess="true" />
    <display x="15" y="180" w="300" h="30" />
    <inputs>
      <input type="text" name="Process Name" friendlyname="Process Name" expr="[Expected Process Name (1)]" />
      <input type="text" name="Resource Name" friendlyname="Resource Name" expr="[Expected Resource]" />
      <input type="text" name="User Name" friendlyname="User Name" expr="[Username]" />
      <input type="text" name="Status Expected" friendlyname="Status Expected" expr="[Expected Status (1)]" />
      <input type="text" name="Exception Message" friendlyname="Exception Message" expr="" />
      <input type="datetime" name="Start Time" friendlyname="Start Time" expr="[Start Time Before Sessions]" />
      <input type="datetime" name="End Time" friendlyname="End Time" expr="[End Time After Sessions]" />
      <input type="text" name="Latest Stage" friendlyname="Latest Stage" expr="" />
      <input type="datetime" name="Stage Started" friendlyname="Stage Started" expr="" />
      <input type="text" name="Process ID" friendlyname="Process ID" expr="[Expected Process ID (1)]" />
      <input type="flag" name="Expect an Exception Message?" friendlyname="Expect an Exception Message?" expr="False" />
      <input type="flag" name="Expect an End Time?" friendlyname="Expect an End Time?" expr="False" />
      <input type="flag" name="Expect latestStage Output" friendlyname="Expect latestStage Output" expr="False" />
      <input type="flag" name="Expect there to be a stageStarted?" friendlyname="Expect there to be a stageStarted?" expr="False" />
      <input type="number" name="Session Number" friendlyname="Session Number" expr="[Session Number Expected (1)]" />
      <input type="text" name="Exception Type" friendlyname="Exception Type" expr="" />
    </inputs>
    <onsuccess>a1b0209e-911f-403f-92f5-414bf041a86a</onsuccess>
    <processid>ab4ccde0-4082-4083-98a8-a036be8b3e37</processid>
  </stage>
  <stage stageid="c46a98d0-362b-4e4c-a119-edd76384dd17" name="Input Variables" type="Block">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-360" y="0" w="300" h="270" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="f605e25c-6e48-490e-b887-6b6ed83e5244" name="Anchor30" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="300" y="120" w="10" h="10" />
    <onsuccess>d40df78e-dd85-4b34-825f-067f9a1da309</onsuccess>
  </stage>
  <stage stageid="465fcf9c-3978-416f-85a1-c71618e705f8" name="Build Failure Message" type="Calculation">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="255" y="285" />
    <onsuccess>7a7c3fdf-2ea2-4cfe-9263-b0d1cbf71ca6</onsuccess>
    <calculation expression="[Scenario Failed]&amp;&quot;-- Resource was not as expected. We Expected &quot;&amp;[resourceName]&amp;&quot; and actual value was &quot;&amp;[Result Collection.JSON:Array.resourceName]&amp;&quot;.&quot;&amp;NewLine()" stage="Scenario Failed" />
  </stage>
  <stage stageid="fc632981-8f7c-48d1-875e-25200d715650" name="Build Failure Message" type="Calculation">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="255" y="465" />
    <onsuccess>4274e267-a317-4b9c-9cc5-a970cb958bbb</onsuccess>
    <calculation expression="[Scenario Failed]&amp;&quot;-- Status was not as expected. We Expected &quot;&amp;[status Expected]&amp;&quot; and actual value was &quot;&amp;[Result Collection.JSON:Array.status]&amp;&quot;.&quot;&amp;NewLine()" stage="Scenario Failed" />
  </stage>
  <stage stageid="0dafb4cc-762c-429e-b67c-31e5a244547c" name="Anchor5" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="495" w="10" h="10" />
    <onsuccess>845f5419-44c7-4327-901e-bb7f574b53ae</onsuccess>
  </stage>
  <stage stageid="e41ee715-a76c-4214-bbd6-878a85288a1e" name="Anchor7" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="435" w="10" h="10" />
    <onsuccess>7ec5717d-afd4-4ac2-b073-f35323e5726e</onsuccess>
  </stage>
  <stage stageid="36a1a85d-88f6-4849-be20-af6002e9e83c" name="Anchor9" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="255" w="10" h="10" />
    <onsuccess>5c01e2aa-e686-4c16-8d4d-150fa6a1a298</onsuccess>
  </stage>
  <stage stageid="8a97a6f4-cb6c-4fa4-a029-80128436b0c4" name="Anchor10" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="255" y="255" w="10" h="10" />
    <onsuccess>36a1a85d-88f6-4849-be20-af6002e9e83c</onsuccess>
  </stage>
  <stage stageid="6f3e8d62-b1d4-4bf3-a770-8905cb15c3ef" name="Anchor12" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="255" y="435" w="10" h="10" />
    <onsuccess>e41ee715-a76c-4214-bbd6-878a85288a1e</onsuccess>
  </stage>
  <stage stageid="4274e267-a317-4b9c-9cc5-a970cb958bbb" name="Anchor14" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="255" y="495" w="10" h="10" />
    <onsuccess>0dafb4cc-762c-429e-b67c-31e5a244547c</onsuccess>
  </stage>
  <stage stageid="445b8cad-2fbd-4ab5-8848-34d353453898" name="Anchor17" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-225" y="675" w="10" h="10" />
    <onsuccess>26e72e83-723d-49f4-b869-336658b81e71</onsuccess>
  </stage>
  <stage stageid="d40df78e-dd85-4b34-825f-067f9a1da309" name="Anchor19" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="300" y="870" w="10" h="10" />
    <onsuccess>4fc26c5d-d7c0-4c4c-9eaa-6cb37b785def</onsuccess>
  </stage>
  <stage stageid="648c89d4-1125-4526-914b-f16d6720fd04" name="Anchor20" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-75" y="825" w="10" h="10" />
    <onsuccess>1b1229f7-47b1-435f-9250-5bf952ff22bc</onsuccess>
  </stage>
  <stage stageid="1b1229f7-47b1-435f-9250-5bf952ff22bc" name="Anchor21" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-75" y="960" w="10" h="10" />
    <onsuccess>6f7d98a6-a363-4f50-bc38-ab42c6932bf0</onsuccess>
  </stage>
  <stage stageid="f0b36093-ad55-4648-b34f-5b8139199e36" name="Scenario Failed" type="Data">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-285" y="345" w="150" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="34b9ddb6-8c39-412f-b5d4-43be9097a411" name="Local Variables" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-315" y="285" w="150" h="90" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="4b28d2b6-e550-4eb5-bc24-a19c72604e56" name="Failed?" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-240" y="315" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue>False</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="11023205-eac8-4d11-9fd7-4efab2234d2b" name="Exception" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-240" y="345" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="c2c13b44-cae6-4e0d-bc3a-d0f8f652fed4" name="Resume for Cleanup Block" type="Resume">
    <loginhibit />
    <display x="270" y="210" />
    <onsuccess>6c13bb4f-de83-4819-8e53-d57e79cbd43a</onsuccess>
  </stage>
  <stage stageid="fa92fa3b-ad01-4038-96c1-377000f74faf" name="Get Exception for Cleanup Block" type="MultipleCalculation">
    <loginhibit onsuccess="true" />
    <display x="270" y="165" />
    <onsuccess>c2c13b44-cae6-4e0d-bc3a-d0f8f652fed4</onsuccess>
    <steps>
      <calculation expression="True" stage="Failed?" />
      <calculation expression="ExceptionDetail()" stage="Exception" />
    </steps>
  </stage>
  <stage stageid="1ac14194-bc23-4eba-8d05-4f20c9bc9a9c" name="Failed?" type="Decision">
    <display x="15" y="870" w="90" h="30" />
    <decision expression="[Failed?]" />
    <ontrue>1ebdc55d-f97f-4b58-ae2e-e00e40e01462</ontrue>
    <onfalse>e85873f5-c2f6-4ad0-a169-e69be2ecc800</onfalse>
  </stage>
  <stage stageid="1ebdc55d-f97f-4b58-ae2e-e00e40e01462" name="RETHROW" type="Exception">
    <display x="135" y="870" />
    <exception localized="yes" type="Test Fail" detail="[Exception]" />
  </stage>
  <stage stageid="9f044ac9-9da9-4522-a001-e6ccbc73efe1" name="Anchor31" type="Anchor">
    <loginhibit onsuccess="true" />
    <display x="360" y="735" w="10" h="10" />
    <onsuccess>38c4908e-2e4a-4762-970e-fa109a67f5c4</onsuccess>
  </stage>
  <stage stageid="f117743e-63fc-4641-ab72-b20c31e5b94e" name="Note6" type="Note">
    <narrative>AND the property values that I expect to receive for the stopped session are correctly returned</narrative>
    <display x="15" y="450" w="300" h="30" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
    <onsuccess>ba7a6fd0-c3ae-4871-9d70-432454a4ffea</onsuccess>
  </stage>
  <stage stageid="f520a8d9-bdc5-4664-8d99-1debf99ccc4e" name="Note7" type="Note">
    <narrative>AND the property values that I expect to receive for the running session are correctly returned</narrative>
    <display x="15" y="540" w="300" h="30" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
    <onsuccess>5aae7dfa-a74e-495b-9a3c-dfc2e7808e2f</onsuccess>
  </stage>
  <stage stageid="7df14caf-eda8-42a1-8703-1f0c72be573c" name="Attach Studio" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-510" w="90" h="30" />
    <inputs>
      <input type="number" name="pid" friendlyname="pid" narrative="PID to attach to" expr="[pid]" />
    </inputs>
    <onsuccess>b7013553-eb56-4bc6-a3f9-19b5cc04ca9b</onsuccess>
    <resource object="Blue Prism - Studio (Parent)" action="Attach to Pid" />
  </stage>
  <stage stageid="ce255ffd-905b-44bc-8e36-bfa566f4cd78" name="Expected Process Name (2)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-570" y="-120" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">Process2 BP-1553</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="af906a6f-a70b-46d6-bd36-67fa8ee674ee" name="Expected Process Name (3)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-405" y="-120" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">Process3 BP-1553</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="3ee3a09d-16d0-4308-b250-22caf3df32c4" name="Expected Status (2)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-570" y="-60" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">Terminated</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="705f0772-9239-44e2-a611-07121a876032" name="Expected Status (3)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-405" y="-60" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">Completed</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="443792f5-678b-4a75-96fb-97ee275562f4" name="Expected Process Name (4)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-735" y="105" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">Process4 BP-1553</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="723be37e-fac0-45dd-b837-78f5501ed954" name="Expected Status (4)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-735" y="165" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">Stopped</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="989a30f9-6d72-4209-b0f4-4c840886837f" name="Expected Results - Stopped Session" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-810" y="75" w="150" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="cb507c8e-31ef-4e67-9439-4e43afbd5208" name="Expected Results - Running Session" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-645" y="75" w="150" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="3796c34e-b686-49f9-b372-9e52e1a2bd05" name="Expected Process Name (5)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-570" y="105" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">Process5 BP-1553</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="990449c5-3d06-4aea-9827-27d93da8db5e" name="Expected Status (5)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-570" y="165" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">Running</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="72bfa5c9-0b38-4fd5-a5ea-c5e27b371303" name="Resource Manager: Start Resource" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-1035" w="90" h="30" />
    <inputs>
      <input type="flag" name="SSO" friendlyname="SSO" narrative="True to login using Active Directory authentication. If this is False and Username is empty, a public resource PC is started" expr="&quot;False&quot;" />
      <input type="text" name="Username" friendlyname="Username" narrative="The username to use for the resource PC. Ignored if SSO is True. If this is empty and SSO is False, this will create a public resource" expr="" />
      <input type="password" name="Password" friendlyname="Password" narrative="The password to use for the resource. Only used if Username is given" expr="" />
      <input type="number" name="Port" friendlyname="Port" narrative="The port number on which the resource PC should listen" expr="[Port]" />
    </inputs>
    <outputs>
      <output type="number" name="Process ID" friendlyname="Process ID" narrative="The PID of the newly created process" stage="Resource Process ID" />
    </outputs>
    <onsuccess>e3eec777-ea5b-407e-ac54-99c42d5f9536</onsuccess>
    <resource object="Resource Manager" action="Start Resource" />
  </stage>
  <stage stageid="ee78bcbf-0b1c-4199-8bd2-2b5218f09cfe" name="Get Resource Name + Port" type="Calculation">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="0" y="-945" w="90" h="30" />
    <onsuccess>69e5a8c6-7d1c-40b6-ab02-610588b2efbf</onsuccess>
    <calculation expression="Replace(GetResourceName(), &quot;_debug&quot;, &quot;&quot;) &amp; &quot;:&quot; &amp; [Port]" stage="Expected Resource" />
  </stage>
  <stage stageid="c4f63636-9635-47fc-8fc1-87eb3a791b63" name="Resource Process ID" type="Data">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="-150" y="-735" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="0765263a-fd2c-486f-9487-3c9269d88eb4" name="Pending session" type="Block">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-60" y="-390" w="120" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="88f0ad7a-0f5b-4861-b9f0-3cb8dae513f0" name="Create a Pending session" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-360" w="90" h="30" />
    <inputs>
      <input type="text" name="Process Name" friendlyname="Process Name" narrative="The name of the process of interest - if it is not found, the 'Ungrouped Processes' group will be opened and checked" expr="[Expected Process Name (1)]" />
      <input type="text" name="Resource Name" friendlyname="Resource Name" narrative="The name of the Resource PC on which to create the session" expr="[Expected Resource]" />
      <input type="text" name="Group to Expand" friendlyname="Group to Expand" narrative="Default value is 'Default'." expr="&quot;Default&quot;" />
      <input type="flag" name="Negative Test" friendlyname="Negative Test" narrative="Check for negative testing " expr="False" />
      <input type="text" name="Resource Group to Expand" friendlyname="Resource Group to Expand" narrative="Default value is 'Default'" expr="&quot;Default&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Position of Pending Session" friendlyname="Position of Pending Session" narrative="The 1-based index of the newly created session in the Environment list in Control Room" stage="" />
      <output type="text" name="Error Message (expected)" friendlyname="Error Message (expected)" narrative="Error message returned (negative testing)" stage="" />
    </outputs>
    <onsuccess>d8d44455-6926-4a11-9d52-9f0fd9e18925</onsuccess>
    <resource object="Blue Prism - Control - Session Management" action="Create Session" />
  </stage>
  <stage stageid="8eb55458-2878-4487-b2a3-998427c6cada" name="Terminated session" type="Block">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-60" y="-315" w="120" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="e8d89c69-87da-4f4b-83f7-98db6aa627e6" name="Expected Resource" type="Data">
    <display x="-240" y="-90" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="d8d44455-6926-4a11-9d52-9f0fd9e18925" name="Create a session which Terminates" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-285" w="90" h="30" />
    <inputs>
      <input type="flag" name="Requires Login" friendlyname="Requires Login" narrative="Flag indicating if the login info should be given too" expr="True" />
      <input type="text" name="Arguments" friendlyname="Arguments" narrative="The arguments to pass to automatec, not including the authentication info" expr="&quot;/run &quot;&quot;&quot;&amp;[Expected Process Name (2)]&amp;&quot;&quot;&quot; /resource &quot;&amp;[Expected Resource]" />
      <input type="text" name="Username" friendlyname="Username" narrative="The username that you want to authenticate against." expr="[Username]" />
      <input type="text" name="Password" friendlyname="Password" narrative="The password for the username." expr="&quot;admin&quot;" />
    </inputs>
    <outputs>
      <output type="text" name="Output" friendlyname="Output" narrative="The output from the command" stage="" />
    </outputs>
    <onsuccess>934fc2f2-0813-42c9-9447-e45b2bc878a8</onsuccess>
    <resource object="Call AutomateC" action="Call AutomateC" />
  </stage>
  <stage stageid="8cd120e3-909b-4658-822f-80c0c1eb3c30" name="Completed session" type="Block">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-60" y="-165" w="120" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="46743857-335c-4ac8-af7e-000aa36c04a5" name="Create a session which Completes" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-135" w="90" h="30" />
    <inputs>
      <input type="flag" name="Requires Login" friendlyname="Requires Login" narrative="Flag indicating if the login info should be given too" expr="True" />
      <input type="text" name="Arguments" friendlyname="Arguments" narrative="The arguments to pass to automatec, not including the authentication info" expr="&quot;/run &quot;&quot;&quot;&amp;[Expected Process Name (3)]&amp;&quot;&quot;&quot; /resource &quot;&amp;[Expected Resource]" />
      <input type="text" name="Username" friendlyname="Username" narrative="The username that you want to authenticate against." expr="[Username]" />
      <input type="text" name="Password" friendlyname="Password" narrative="The password for the username." expr="&quot;admin&quot;" />
    </inputs>
    <outputs>
      <output type="text" name="Output" friendlyname="Output" narrative="The output from the command" stage="" />
    </outputs>
    <onsuccess>d27dd59c-5f7c-457e-9aad-e13dad6bd416</onsuccess>
    <resource object="Call AutomateC" action="Call AutomateC" />
  </stage>
  <stage stageid="a714fe0c-82cf-4090-bf73-f65e8a004676" name="Stopped session" type="Block">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-60" y="-90" w="120" h="240" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="d27dd59c-5f7c-457e-9aad-e13dad6bd416" name="Create a session which will Stop" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-60" w="90" h="30" />
    <inputs>
      <input type="flag" name="Requires Login" friendlyname="Requires Login" narrative="Flag indicating if the login info should be given too" expr="True" />
      <input type="text" name="Arguments" friendlyname="Arguments" narrative="The arguments to pass to automatec, not including the authentication info" expr="&quot;/run &quot;&quot;&quot;&amp;[Expected Process Name (4)]&amp;&quot;&quot;&quot; /resource &quot;&amp;[Expected Resource]" />
      <input type="text" name="Username" friendlyname="Username" narrative="The username that you want to authenticate against." expr="[Username]" />
      <input type="text" name="Password" friendlyname="Password" narrative="The password for the username." expr="&quot;admin&quot;" />
    </inputs>
    <outputs>
      <output type="text" name="Output" friendlyname="Output" narrative="The output from the command" stage="" />
    </outputs>
    <onsuccess>11b15952-bf7c-425b-a3a7-0da48c18f61f</onsuccess>
    <resource object="Call AutomateC" action="Call AutomateC" />
  </stage>
  <stage stageid="961b76c7-1f18-47f9-bfa3-e18a41dbd6bd" name=" Stop Selected Sessions" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="120" w="90" h="30" />
    <onsuccess>94b1bcf2-f363-4836-9c3b-cf676bf07440</onsuccess>
    <resource object="Blue Prism - Control - Session Management" action="Control Room - Stop Selected Sessions" />
  </stage>
  <stage stageid="d5c68901-2e58-4e19-abd9-0889a6f58f5a" name="Running session" type="Block">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-60" y="165" w="120" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="94b1bcf2-f363-4836-9c3b-cf676bf07440" name="Create a session which is Running" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="195" w="90" h="30" />
    <inputs>
      <input type="flag" name="Requires Login" friendlyname="Requires Login" narrative="Flag indicating if the login info should be given too" expr="True" />
      <input type="text" name="Arguments" friendlyname="Arguments" narrative="The arguments to pass to automatec, not including the authentication info" expr="&quot;/run &quot;&quot;&quot;&amp;[Expected Process Name (5)]&amp;&quot;&quot;&quot; /resource &quot;&amp;[Expected Resource]" />
      <input type="text" name="Username" friendlyname="Username" narrative="The username that you want to authenticate against." expr="[Username]" />
      <input type="text" name="Password" friendlyname="Password" narrative="The password for the username." expr="&quot;admin&quot;" />
    </inputs>
    <outputs>
      <output type="text" name="Output" friendlyname="Output" narrative="The output from the command" stage="" />
    </outputs>
    <onsuccess>c6db8818-4c0f-41af-ace9-cc8d320d5687</onsuccess>
    <resource object="Call AutomateC" action="Call AutomateC" />
  </stage>
  <stage stageid="2749f5ac-cdf0-408a-b208-b7b90e4f1d44" name="Select Sessions" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="75" w="90" h="30" />
    <inputs>
      <input type="number" name="Session Position" friendlyname="Session Position" narrative="The 1-based index of the session of interest, in the Environment list" expr="[Position of Session for Process Name 4]" />
      <input type="text" name="Process Name" friendlyname="Process Name" narrative="The expected process name of the session of interest. This will be double checked before starting the session at the specified position." expr="[Expected Process Name (4)]" />
      <input type="text" name="Resource Name" friendlyname="Resource Name" narrative="The expected resource name of the pending session of interset. This will be double checked before starting the session" expr="[Expected Resource]" />
      <input type="text" name="Session Status" friendlyname="Session Status" narrative="The expected status of the session. This will be double checked." expr="&quot;Running&quot;" />
    </inputs>
    <onsuccess>961b76c7-1f18-47f9-bfa3-e18a41dbd6bd</onsuccess>
    <resource object="Blue Prism - Control - Session Management" action="Select Session" />
  </stage>
  <stage stageid="973d7eca-6e88-4116-826b-6daf79fde098" name="Expected Process ID (1)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-735" y="-90" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">9bbb7f79-26e8-4037-ab65-057a3034f603</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="f0cfff0a-55ef-480c-b2c1-d9affba6a751" name="Expected Process ID (2)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-570" y="-90" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">4879f1ff-daee-4e5e-8969-c1b743e3bfeb</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="80e9db3c-6dcb-4297-9aad-365559a4b279" name="Expected Process ID (3)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-405" y="-90" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">4be5e1be-4b06-41d0-aeb5-14ed984b0b34</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="55e00039-257d-48de-8249-b44ef8f34ace" name="Expected Process ID (4)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-735" y="135" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">1bc72f89-b22f-4e18-a5c8-d634a611123d</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="2be3c5af-b5c4-4c1d-b510-2fb380a1c605" name="Expected Process ID (5)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-570" y="135" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">adc33c00-9278-447e-9e8e-5280ae841c90</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="1373145d-bf86-4826-8fb7-bffb7e43a88f" name="Request stop session" type="Block">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-60" y="855" w="120" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="9be46765-0d92-4ab8-b478-a7adcc434f88" name="Request stop session" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="885" w="90" h="30" />
    <inputs>
      <input type="flag" name="Requires Login" friendlyname="Requires Login" narrative="Flag indicating if the login info should be given too" expr="True" />
      <input type="text" name="Arguments" friendlyname="Arguments" narrative="The arguments to pass to automatec, not including the authentication info" expr="&quot;/requeststop &quot; &amp;[SessionNumberStored]" />
      <input type="text" name="Username" friendlyname="Username" narrative="The username that you want to authenticate against." expr="[Username]" />
      <input type="text" name="Password" friendlyname="Password" narrative="The password for the username." expr="&quot;admin&quot;" />
    </inputs>
    <outputs>
      <output type="text" name="Output" friendlyname="Output" narrative="The output from the command" stage="" />
    </outputs>
    <onsuccess>b8a264db-187c-4113-a0d5-6df8b5320e9d</onsuccess>
    <resource object="Call AutomateC" action="Call AutomateC" />
  </stage>
  <stage stageid="c16911fb-d533-4257-b466-032b7e6bd37b" name="Expected Results - StopRequested session" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-480" y="75" w="150" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="c64befaa-e722-48a3-8799-456ea2823dd1" name="Expected Process Name (6)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-405" y="105" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">Process6 BP-1553</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="1862bfa8-fbd6-4c0b-8a4d-100ae179f07e" name="Expected Status (6)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-405" y="165" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">Stopping</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="a74c5a8a-ac79-4eaf-858c-bc0945e74b54" name="Expected Process ID (6)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-405" y="135" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">82ec9d0b-c9e9-47bd-9b84-29c6fd3ad856</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="35c6da30-8ffc-4129-8e48-b31403f70ec8" name="processName" type="Data">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="-285" y="30" w="150" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="e7ede437-4eae-41e7-8045-178950ee6bbc" name="resourceName" type="Data">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="-285" y="150" w="150" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="82e0a832-9891-432c-87d5-6a2714354ac3" name="userName" type="Data">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="-135" y="30" w="150" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="973e748d-5f03-4e0f-ac04-e8414a169d27" name="status Expected" type="Data">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="-285" y="180" w="150" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="983ffdaa-36aa-45ee-a0a2-6c3f5e7bb491" name="startTime Expected" type="Data">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="-285" y="60" w="150" h="30" />
    <datatype>datetime</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="08c0c3ff-dfc6-4a75-b45e-ddb908b64b0e" name="exceptionMessage" type="Data">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="-285" y="240" w="150" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="6964f5df-959b-4927-8cc8-98a90671a5b5" name="endTime Expected" type="Data">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="-135" y="90" w="150" h="30" />
    <datatype>datetime</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="67f2b3d2-ca6d-445d-9b36-6d8bd44a87a9" name="latestStage" type="Data">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="-135" y="210" w="150" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="0531fdf6-f864-4f58-933c-78a9dbc46a3c" name="stageStarted" type="Data">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="-135" y="120" w="150" h="30" />
    <datatype>datetime</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="7bf7ecd1-7653-4a00-89fd-12216834a539" name="Note9" type="Note">
    <narrative>AND the property values that I expect to receive for stopping/RequestStop session are correctly returned</narrative>
    <display x="15" y="630" w="300" h="30" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
    <onsuccess>926d503b-a24c-4eb2-ba23-ce40e914ba39</onsuccess>
  </stage>
  <stage stageid="8f2ba679-c35a-4295-9fa5-ad8c949f6abc" name="Resource Manager: Stop Resource" type="Action">
    <display x="15" y="780" w="90" h="30" />
    <inputs>
      <input type="number" name="Port" friendlyname="Port" narrative="The port number whose resource should be stopped" expr="[Port]" />
    </inputs>
    <onsuccess>3d7b4ba5-2b6e-40dc-8ba9-83a474e900d3</onsuccess>
    <resource object="Resource Manager" action="Stop Resource" />
  </stage>
  <stage stageid="38c4908e-2e4a-4762-970e-fa109a67f5c4" name="Close BP" type="Action">
    <display x="15" y="735" w="90" h="30" />
    <onsuccess>8f2ba679-c35a-4295-9fa5-ad8c949f6abc</onsuccess>
    <resource object="Blue Prism" action="Exit Application" />
  </stage>
  <stage stageid="77ed44de-294a-408a-9970-b3eeabb88b0a" name="Check Session" type="SubSheet">
    <loginhibit onsuccess="true" />
    <display x="15" y="270" w="300" h="30" />
    <inputs>
      <input type="text" name="Process Name" friendlyname="Process Name" expr="[Expected Process Name (2)]" />
      <input type="text" name="Resource Name" friendlyname="Resource Name" expr="[Expected Resource]" />
      <input type="text" name="User Name" friendlyname="User Name" expr="[Username]" />
      <input type="text" name="Status Expected" friendlyname="Status Expected" expr="[Expected Status (2)]" />
      <input type="text" name="Exception Message" friendlyname="Exception Message" expr="[Expected exceptionMessage (2)]" />
      <input type="datetime" name="Start Time" friendlyname="Start Time" expr="[Start Time Before Sessions]" />
      <input type="datetime" name="End Time" friendlyname="End Time" expr="[End Time After Sessions]" />
      <input type="text" name="Latest Stage" friendlyname="Latest Stage" expr="&quot;Start&quot;" />
      <input type="datetime" name="Stage Started" friendlyname="Stage Started" expr="[Start Time Before Sessions]" />
      <input type="text" name="Process ID" friendlyname="Process ID" expr="[Expected Process ID (2)]" />
      <input type="flag" name="Expect an Exception Message?" friendlyname="Expect an Exception Message?" expr="True" />
      <input type="flag" name="Expect an End Time?" friendlyname="Expect an End Time?" expr="True" />
      <input type="flag" name="Expect latestStage Output" friendlyname="Expect latestStage Output" expr="True" />
      <input type="flag" name="Expect there to be a stageStarted?" friendlyname="Expect there to be a stageStarted?" expr="True" />
      <input type="number" name="Session Number" friendlyname="Session Number" expr="[Session Number Expected (2)]" />
      <input type="text" name="Exception Type" friendlyname="Exception Type" expr="[Expected exceptionType (2)]" />
    </inputs>
    <onsuccess>77ee6b1e-37b8-4f6b-bfa1-9363a0e52b7e</onsuccess>
    <processid>ab4ccde0-4082-4083-98a8-a036be8b3e37</processid>
  </stage>
  <stage stageid="0575ff7f-d81f-40b4-a7d6-3051565f4604" name="Check Session" type="SubSheet">
    <loginhibit onsuccess="true" />
    <display x="15" y="405" w="300" h="30" />
    <inputs>
      <input type="text" name="Process Name" friendlyname="Process Name" expr="[Expected Process Name (3)]" />
      <input type="text" name="Resource Name" friendlyname="Resource Name" expr="[Expected Resource]" />
      <input type="text" name="User Name" friendlyname="User Name" expr="[Username]" />
      <input type="text" name="Status Expected" friendlyname="Status Expected" expr="[Expected Status (3)]" />
      <input type="text" name="Exception Message" friendlyname="Exception Message" expr="" />
      <input type="datetime" name="Start Time" friendlyname="Start Time" expr="[Start Time Before Sessions]" />
      <input type="datetime" name="End Time" friendlyname="End Time" expr="[End Time After Sessions]" />
      <input type="text" name="Latest Stage" friendlyname="Latest Stage" expr="&quot;Start&quot;" />
      <input type="datetime" name="Stage Started" friendlyname="Stage Started" expr="[Start Time Before Sessions]" />
      <input type="text" name="Process ID" friendlyname="Process ID" expr="[Expected Process ID (3)]" />
      <input type="flag" name="Expect an Exception Message?" friendlyname="Expect an Exception Message?" expr="False" />
      <input type="flag" name="Expect an End Time?" friendlyname="Expect an End Time?" expr="True" />
      <input type="flag" name="Expect latestStage Output" friendlyname="Expect latestStage Output" expr="False" />
      <input type="flag" name="Expect there to be a stageStarted?" friendlyname="Expect there to be a stageStarted?" expr="True" />
      <input type="number" name="Session Number" friendlyname="Session Number" expr="[Session Number Expected (3)]" />
      <input type="text" name="Exception Type" friendlyname="Exception Type" expr="" />
    </inputs>
    <onsuccess>f117743e-63fc-4641-ab72-b20c31e5b94e</onsuccess>
    <processid>ab4ccde0-4082-4083-98a8-a036be8b3e37</processid>
  </stage>
  <stage stageid="ba7a6fd0-c3ae-4871-9d70-432454a4ffea" name="Check Session" type="SubSheet">
    <loginhibit onsuccess="true" />
    <display x="15" y="495" w="300" h="30" />
    <inputs>
      <input type="text" name="Process Name" friendlyname="Process Name" expr="[Expected Process Name (4)]" />
      <input type="text" name="Resource Name" friendlyname="Resource Name" expr="[Expected Resource]" />
      <input type="text" name="User Name" friendlyname="User Name" expr="[Username]" />
      <input type="text" name="Status Expected" friendlyname="Status Expected" expr="[Expected Status (4)]" />
      <input type="text" name="Exception Message" friendlyname="Exception Message" expr="" />
      <input type="datetime" name="Start Time" friendlyname="Start Time" expr="[Start Time Before Sessions]" />
      <input type="datetime" name="End Time" friendlyname="End Time" expr="[End Time After Sessions]" />
      <input type="text" name="Latest Stage" friendlyname="Latest Stage" expr="&quot;Note1&quot;" />
      <input type="datetime" name="Stage Started" friendlyname="Stage Started" expr="[Start Time Before Sessions]" />
      <input type="text" name="Process ID" friendlyname="Process ID" expr="[Expected Process ID (4)]" />
      <input type="flag" name="Expect an Exception Message?" friendlyname="Expect an Exception Message?" expr="False" />
      <input type="flag" name="Expect an End Time?" friendlyname="Expect an End Time?" expr="True" />
      <input type="flag" name="Expect latestStage Output" friendlyname="Expect latestStage Output" expr="True" />
      <input type="flag" name="Expect there to be a stageStarted?" friendlyname="Expect there to be a stageStarted?" expr="True" />
      <input type="number" name="Session Number" friendlyname="Session Number" expr="[Session Number Expected (4)]" />
      <input type="text" name="Exception Type" friendlyname="Exception Type" expr="" />
    </inputs>
    <onsuccess>f520a8d9-bdc5-4664-8d99-1debf99ccc4e</onsuccess>
    <processid>ab4ccde0-4082-4083-98a8-a036be8b3e37</processid>
  </stage>
  <stage stageid="5aae7dfa-a74e-495b-9a3c-dfc2e7808e2f" name="Check Session" type="SubSheet">
    <loginhibit onsuccess="true" />
    <display x="15" y="585" w="300" h="30" />
    <inputs>
      <input type="text" name="Process Name" friendlyname="Process Name" expr="[Expected Process Name (5)]" />
      <input type="text" name="Resource Name" friendlyname="Resource Name" expr="[Expected Resource]" />
      <input type="text" name="User Name" friendlyname="User Name" expr="[Username]" />
      <input type="text" name="Status Expected" friendlyname="Status Expected" expr="[Expected Status (5)]" />
      <input type="text" name="Exception Message" friendlyname="Exception Message" expr="" />
      <input type="datetime" name="Start Time" friendlyname="Start Time" expr="[Start Time Before Sessions]" />
      <input type="datetime" name="End Time" friendlyname="End Time" expr="[End Time After Sessions]" />
      <input type="text" name="Latest Stage" friendlyname="Latest Stage" expr="&quot;Note2&quot;" />
      <input type="datetime" name="Stage Started" friendlyname="Stage Started" expr="[Start Time Before Sessions]" />
      <input type="text" name="Process ID" friendlyname="Process ID" expr="[Expected Process ID (5)]" />
      <input type="flag" name="Expect an Exception Message?" friendlyname="Expect an Exception Message?" expr="False" />
      <input type="flag" name="Expect an End Time?" friendlyname="Expect an End Time?" expr="False" />
      <input type="flag" name="Expect latestStage Output" friendlyname="Expect latestStage Output" expr="True" />
      <input type="flag" name="Expect there to be a stageStarted?" friendlyname="Expect there to be a stageStarted?" expr="True" />
      <input type="number" name="Session Number" friendlyname="Session Number" expr="[Session Number Expected (5)]" />
      <input type="text" name="Exception Type" friendlyname="Exception Type" expr="" />
    </inputs>
    <onsuccess>7bf7ecd1-7653-4a00-89fd-12216834a539</onsuccess>
    <processid>ab4ccde0-4082-4083-98a8-a036be8b3e37</processid>
  </stage>
  <stage stageid="926d503b-a24c-4eb2-ba23-ce40e914ba39" name="Check Session" type="SubSheet">
    <loginhibit onsuccess="true" />
    <display x="15" y="675" w="300" h="30" />
    <inputs>
      <input type="text" name="Process Name" friendlyname="Process Name" expr="[Expected Process Name (6)]" />
      <input type="text" name="Resource Name" friendlyname="Resource Name" expr="[Expected Resource 2]" />
      <input type="text" name="User Name" friendlyname="User Name" expr="[Username]" />
      <input type="text" name="Status Expected" friendlyname="Status Expected" expr="[Expected Status (6)]" />
      <input type="text" name="Exception Message" friendlyname="Exception Message" expr="" />
      <input type="datetime" name="Start Time" friendlyname="Start Time" expr="[Start Time Before Sessions]" />
      <input type="datetime" name="End Time" friendlyname="End Time" expr="[End Time After Sessions]" />
      <input type="text" name="Latest Stage" friendlyname="Latest Stage" expr="&quot;Time Passed?&quot;" />
      <input type="datetime" name="Stage Started" friendlyname="Stage Started" expr="[Start Time Before Sessions]" />
      <input type="text" name="Process ID" friendlyname="Process ID" expr="[Expected Process ID (6)]" />
      <input type="flag" name="Expect an Exception Message?" friendlyname="Expect an Exception Message?" expr="False" />
      <input type="flag" name="Expect an End Time?" friendlyname="Expect an End Time?" expr="False" />
      <input type="flag" name="Expect latestStage Output" friendlyname="Expect latestStage Output" expr="True" />
      <input type="flag" name="Expect there to be a stageStarted?" friendlyname="Expect there to be a stageStarted?" expr="True" />
      <input type="number" name="Session Number" friendlyname="Session Number" expr="[Session Number Expected (6)]" />
      <input type="text" name="Exception Type" friendlyname="Exception Type" expr="" />
    </inputs>
    <onsuccess>38c4908e-2e4a-4762-970e-fa109a67f5c4</onsuccess>
    <processid>ab4ccde0-4082-4083-98a8-a036be8b3e37</processid>
  </stage>
  <stage stageid="24cdb8c6-41a7-4e7b-92a2-a49f85e46e00" name="processID" type="Data">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="-285" y="90" w="150" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="a4604681-ec5c-440d-8112-b3b55a92347d" name="Check processID" type="Decision">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="15" y="165" w="120" h="30" />
    <decision expression="[Result Collection.JSON:Array.processId]=[processID]" />
    <ontrue>3a99118d-9f0e-48ca-9281-4d6fd8dbda71</ontrue>
    <onfalse>a035d063-40ef-4930-bc58-1e7d286bf5f8</onfalse>
  </stage>
  <stage stageid="3a99118d-9f0e-48ca-9281-4d6fd8dbda71" name="Anchor9" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="195" w="10" h="10" />
    <onsuccess>3d303a6d-e0e0-4b15-b4c6-a90c942d7c3c</onsuccess>
  </stage>
  <stage stageid="010518ab-18d8-4a74-891a-0658ce01d0cb" name="Anchor10" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="255" y="195" w="10" h="10" />
    <onsuccess>3a99118d-9f0e-48ca-9281-4d6fd8dbda71</onsuccess>
  </stage>
  <stage stageid="a035d063-40ef-4930-bc58-1e7d286bf5f8" name="Build Failure Message" type="Calculation">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="255" y="165" />
    <onsuccess>010518ab-18d8-4a74-891a-0658ce01d0cb</onsuccess>
    <calculation expression="[Scenario Failed]&amp;&quot;-- processID was not as expected. We Expected &quot;&amp;[processID]&amp;&quot; and actual value was &quot;&amp;[Result Collection.JSON:Array.processId]&amp;&quot;.&quot;&amp;NewLine()" stage="Scenario Failed" />
  </stage>
  <stage stageid="b7013553-eb56-4bc6-a3f9-19b5cc04ca9b" name="Get Date Time" type="Calculation">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-465" w="90" h="30" />
    <onsuccess>d972c264-cb20-4718-80a3-d095f0beeee5</onsuccess>
    <calculation expression="Now()" stage="Start Time Before Sessions" />
  </stage>
  <stage stageid="e0c43c74-9385-4a0c-a202-2c1b85ba5f9d" name="Start Time Before Sessions" type="Data">
    <display x="-240" y="-30" w="120" h="30" />
    <datatype>datetime</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="d10473cf-1ae6-4b5c-afe2-ea14d0d6991e" name="Check resourceID" type="Decision">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="15" y="345" w="120" h="30" />
    <decision expression="[Result Collection.JSON:Array.resourceId]&lt;&gt;&quot;&quot;" />
    <ontrue>566abe6a-1bd5-4957-bba2-01c6fb063976</ontrue>
    <onfalse>acdf4ca1-02c2-4b95-98bd-4aefeae14395</onfalse>
  </stage>
  <stage stageid="acdf4ca1-02c2-4b95-98bd-4aefeae14395" name="Build Failure Message" type="Calculation">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="255" y="345" />
    <onsuccess>1ac11499-eee4-43f0-b781-9df5990bfbb2</onsuccess>
    <calculation expression="[Scenario Failed]&amp;&quot;-- ResourceId was not found. We Expected this to be populated but actual value was &quot;&amp;[Result Collection.JSON:Array.resourceId]&amp;&quot;.&quot;&amp;NewLine()" stage="Scenario Failed" />
  </stage>
  <stage stageid="4d66704b-88fa-4815-b016-b65ef1abdfb1" name="Anchor11" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="315" w="10" h="10" />
    <onsuccess>d10473cf-1ae6-4b5c-afe2-ea14d0d6991e</onsuccess>
  </stage>
  <stage stageid="7a7c3fdf-2ea2-4cfe-9263-b0d1cbf71ca6" name="Anchor22" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="255" y="315" w="10" h="10" />
    <onsuccess>4d66704b-88fa-4815-b016-b65ef1abdfb1</onsuccess>
  </stage>
  <stage stageid="02d71164-0f9e-42c4-9a82-cc8856d42bbb" name="Port" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-240" y="30" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue>8190</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="d972c264-cb20-4718-80a3-d095f0beeee5" name="Go to Tab: Control" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-420" w="90" h="30" />
    <inputs>
      <input type="text" name="Tab Name" friendlyname="Tab Name" narrative="Name of Tab to Click" expr="&quot;Control&quot;" />
    </inputs>
    <onsuccess>88f0ad7a-0f5b-4861-b9f0-3cb8dae513f0</onsuccess>
    <resource object="Blue Prism - Basic Actions" action="Go to Tab" />
  </stage>
  <stage stageid="6f7d98a6-a363-4f50-bc38-ab42c6932bf0" name="End2" type="End">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="960" />
  </stage>
  <stage stageid="05d3a77b-75d3-431c-b63b-be5011f5f9a4" name="Expect exceptionMessage?" type="Decision">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="15" y="585" w="120" h="30" />
    <decision expression="[Expect there to be an exceptionMessage?]" />
    <ontrue>c8b220da-9159-488d-927b-9fe6686cdae9</ontrue>
    <onfalse>efed2a72-74f9-4226-be6b-f6f343f5b4c4</onfalse>
  </stage>
  <stage stageid="aa583a80-c8b8-49f4-a1bd-8917e26d588b" name="Expect there to be an exceptionMessage?" type="Data">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="-285" y="210" w="150" h="30" />
    <datatype>flag</datatype>
    <initialvalue>False</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="c8b220da-9159-488d-927b-9fe6686cdae9" name="Check exceptionMessage is present/correct?" type="Decision">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="-120" y="585" w="120" h="30" />
    <decision expression="[Result Collection.JSON:Array.exceptionMessage]=[exceptionMessage] AND&#xA;[Result Collection.JSON:Array.exceptionType]=[exceptionType] AND&#xA;[Result Collection.JSON:Array.terminationReason]=&quot;ProcessError&quot;" />
    <ontrue>53569bf8-e1f8-44b6-b495-7cf79b49636f</ontrue>
    <onfalse>156e07ff-2d16-4c4c-85fa-f52c6a901b6c</onfalse>
  </stage>
  <stage stageid="156e07ff-2d16-4c4c-85fa-f52c6a901b6c" name="Build Failure Message" type="Calculation">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-225" y="585" />
    <onsuccess>c68c0371-5de6-4923-add5-8443a1951670</onsuccess>
    <calculation expression="[Scenario Failed]&amp;&quot;-- exceptionMessage and/or exceptionType was not as expected. We expected an exceptionMessage&quot; &amp;[exceptionMessage] &amp;&quot; and exceptionType &quot;&amp;[exceptionType]&amp;&quot; but actual value was &quot;&amp;[Result Collection.JSON:Array.exceptionMessage]&amp;&quot;, and &quot;&amp;[Result Collection.JSON:Array.exceptionType]&amp;&quot;.&quot;&amp;NewLine()" stage="Scenario Failed" />
  </stage>
  <stage stageid="c68c0371-5de6-4923-add5-8443a1951670" name="Anchor1" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-225" y="615" w="10" h="10" />
    <onsuccess>53569bf8-e1f8-44b6-b495-7cf79b49636f</onsuccess>
  </stage>
  <stage stageid="26e72e83-723d-49f4-b869-336658b81e71" name="Anchor8" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-120" y="675" w="10" h="10" />
    <onsuccess>a782604e-1f0b-40e3-b529-fc5658c932ba</onsuccess>
  </stage>
  <stage stageid="5a2e61f7-f969-4b86-b577-f217ed3e9f42" name="Expect an endTime?" type="Decision">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="15" y="645" w="120" h="30" />
    <decision expression="[Expect there to be an endTime?]" />
    <ontrue>44c17b61-67dd-4cc7-a744-05db49622be1</ontrue>
    <onfalse>a782604e-1f0b-40e3-b529-fc5658c932ba</onfalse>
  </stage>
  <stage stageid="497f8bc5-8cb4-496d-bfb6-0db94cbd38b4" name="Expect there to be an endTime?" type="Data">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="-135" y="60" w="150" h="30" />
    <datatype>flag</datatype>
    <initialvalue>False</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="b8a264db-187c-4113-a0d5-6df8b5320e9d" name="Get Date Time for End of Sessions" type="Calculation">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="945" w="90" h="30" />
    <onsuccess>ca07c9d5-ac08-4028-829c-1db1613ee08c</onsuccess>
    <calculation expression="Now()" stage="End Time After Sessions" />
  </stage>
  <stage stageid="a8b21a5e-9a48-4cb2-9577-cb5de6ade29e" name="End Time After Sessions" type="Data">
    <display x="-240" y="0" w="120" h="30" />
    <datatype>datetime</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="53f3766c-f6ae-4cff-abab-f16832295ed8" name="Check latestStage" type="Decision">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="-120" y="765" w="120" h="30" />
    <decision expression="[Result Collection.JSON:Array.latestStage]=[latestStage]" />
    <ontrue>b3218ffc-c755-480c-8fbc-229173a85e88</ontrue>
    <onfalse>4119a408-5bf1-47f5-96c7-d256f0088075</onfalse>
  </stage>
  <stage stageid="d17f1f0d-5142-4618-a3af-b43d3d5b7af3" name="Anchor15" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="795" w="10" h="10" />
    <font family="Segoe UI" size="10" style="Regular" color="FF6600" />
    <onsuccess>d01e780b-773e-47e0-b0cf-99a7fe79cefc</onsuccess>
  </stage>
  <stage stageid="4476552f-3b24-414d-93fe-a8945192011e" name="Expect latestStage output?" type="Data">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="-135" y="180" w="150" h="30" />
    <datatype>flag</datatype>
    <initialvalue>False</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="9d49d2c8-54e9-4628-af60-fd6383343f36" name="Expect a latestStage output?" type="Decision">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="15" y="765" w="120" h="30" />
    <decision expression="[Expect latestStage output?]" />
    <ontrue>53f3766c-f6ae-4cff-abab-f16832295ed8</ontrue>
    <onfalse>d17f1f0d-5142-4618-a3af-b43d3d5b7af3</onfalse>
  </stage>
  <stage stageid="7ef373af-64cc-4c3f-a17a-6eaa6b7c9f43" name="Anchor18" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-225" y="795" w="10" h="10" />
    <font family="Segoe UI" size="10" style="Regular" color="FF6600" />
    <onsuccess>b3218ffc-c755-480c-8fbc-229173a85e88</onsuccess>
  </stage>
  <stage stageid="b3218ffc-c755-480c-8fbc-229173a85e88" name="Anchor23" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-120" y="795" w="10" h="10" />
    <font family="Segoe UI" size="10" style="Regular" color="FF6600" />
    <onsuccess>d17f1f0d-5142-4618-a3af-b43d3d5b7af3</onsuccess>
  </stage>
  <stage stageid="437b2a81-29ff-4965-bf61-df2b5b497ad7" name="Build Failure Message" type="Calculation">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-225" y="705" />
    <onsuccess>30f34a32-3630-428e-9da7-6f091cbef4c3</onsuccess>
    <calculation expression="[Scenario Failed]&amp;&quot;-- stageStarted was not as expected. We expected the time after &quot;&amp;[startTime Expected]&amp;&quot; and actual value was &quot;&amp;[Result Collection.JSON:Array.stageStarted]&amp;&quot;.&quot;&amp;NewLine()" stage="Scenario Failed" />
  </stage>
  <stage stageid="4119a408-5bf1-47f5-96c7-d256f0088075" name="Build Failure Message" type="Calculation">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-225" y="765" />
    <onsuccess>7ef373af-64cc-4c3f-a17a-6eaa6b7c9f43</onsuccess>
    <calculation expression="[Scenario Failed]&amp;&quot;-- latestStage was not as expected. We Expected &quot;&amp;[latestStage]&amp;&quot; and actual value was &quot;&amp;[Result Collection.JSON:Array.latestStage]&amp;&quot;.&quot;&amp;NewLine()" stage="Scenario Failed" />
  </stage>
  <stage stageid="bca28413-6121-4411-820a-93442779b104" name="Check startTime - is this an old leftover session?" type="Decision">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="15" y="120" w="120" h="30" />
    <decision expression="[Result Collection.JSON:Array.startTime]&gt;=[Start Time Before Sessions]" />
    <ontrue>a4604681-ec5c-440d-8112-b3b55a92347d</ontrue>
    <onfalse>f605e25c-6e48-490e-b887-6b6ed83e5244</onfalse>
  </stage>
  <stage stageid="8d248873-5048-4556-822b-db5cfd489660" name="Anchor2" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="300" y="75" w="10" h="10" />
    <onsuccess>f605e25c-6e48-490e-b887-6b6ed83e5244</onsuccess>
  </stage>
  <stage stageid="845f5419-44c7-4327-901e-bb7f574b53ae" name="Check userName" type="Decision">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <narrative>OR
[Result Collection.JSON:Array.processName]="Process1 BP-1553"
AND
[Result Collection.JSON:Array.userName]="authServerUser"
</narrative>
    <display x="15" y="525" w="120" h="30" />
    <decision expression="[Result Collection.JSON:Array.userName]=[userName]" />
    <ontrue>c72121fa-9b7e-4961-93d1-d92a7074068e</ontrue>
    <onfalse>d9510292-9a9c-439b-9264-e9a9b349d700</onfalse>
  </stage>
  <stage stageid="576d2e7b-a606-415c-a44f-884181609119" name="Build Failure Message" type="Calculation">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="255" y="525" />
    <onsuccess>f4b25057-6370-424f-ad73-819b132c9278</onsuccess>
    <calculation expression="[Scenario Failed]&amp;&quot;-- userName was not as expected. We Expected &quot;&amp;[userName]&amp;&quot; and actual value was &quot;&amp;[Result Collection.JSON:Array.userName]&amp;&quot;.&quot;&amp;NewLine()" stage="Scenario Failed" />
  </stage>
  <stage stageid="f4b25057-6370-424f-ad73-819b132c9278" name="Anchor3" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="255" y="555" w="10" h="10" />
    <onsuccess>709ef933-9dbc-4060-9db3-a316f7cde538</onsuccess>
  </stage>
  <stage stageid="77a0c3bb-2ca3-4c3a-bc53-d1b0576bc4b6" name="Is this our session for Process 6?" type="Decision">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="0" y="675" w="90" h="30" />
    <decision expression="[Sessions.Process]=[Expected Process Name (6)] AND [Sessions.Resource]=[Expected Resource 2] AND &#xA;[Sessions.Status]=&quot;Running&quot; OR [Sessions.Status]=&quot;Warning&quot; AND&#xA;[Sessions.Start Time]&gt;=[Start Time Before Sessions]" />
    <ontrue>8c30a834-695c-4b9c-a7bb-36b61ddde885</ontrue>
    <onfalse>d88bebd5-a3c9-4615-9247-874c61233c3f</onfalse>
  </stage>
  <stage stageid="c6db8818-4c0f-41af-ace9-cc8d320d5687" name="Create a session which we will Request to Stop" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="270" w="90" h="30" />
    <inputs>
      <input type="flag" name="Requires Login" friendlyname="Requires Login" narrative="Flag indicating if the login info should be given too" expr="True" />
      <input type="text" name="Arguments" friendlyname="Arguments" narrative="The arguments to pass to automatec, not including the authentication info" expr="&quot;/run &quot;&quot;&quot;&amp;[Expected Process Name (6)]&amp;&quot;&quot;&quot; /resource &quot;&amp;[Expected Resource 2]" />
      <input type="text" name="Username" friendlyname="Username" narrative="The username that you want to authenticate against." expr="&quot;admin&quot;" />
      <input type="text" name="Password" friendlyname="Password" narrative="The password for the username." expr="&quot;admin&quot;" />
    </inputs>
    <outputs>
      <output type="text" name="Output" friendlyname="Output" narrative="The output from the command" stage="" />
    </outputs>
    <onsuccess>f8958df2-07b3-4471-9bd0-69e898335d93</onsuccess>
    <resource object="Call AutomateC" action="Call AutomateC" />
  </stage>
  <stage stageid="11b15952-bf7c-425b-a3a7-0da48c18f61f" name="Pause 60s" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-15" w="90" h="30" />
    <inputs>
      <input type="number" name="Duration (Seconds)" friendlyname="Duration (Seconds)" expr="60" />
    </inputs>
    <onsuccess>da530cc0-aaed-43cc-8b2d-b2569a583133</onsuccess>
    <resource object="Blue Prism - Basic Actions" action="Pause" />
  </stage>
  <stage stageid="40c03a3b-79ad-4202-8452-7de339022941" name="Session Collection from BP Control Room" type="LoopStart">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="405" w="90" h="30" />
    <onsuccess>725dbfd0-052f-46a2-bf82-d470fce6f449</onsuccess>
    <groupid>25e2c517-b6b6-4f0c-9eb4-7e6bdd972709</groupid>
    <looptype>ForEach</looptype>
    <loopdata>Sessions</loopdata>
  </stage>
  <stage stageid="338cf1d2-b457-4bdf-a8e5-86f14c89527e" name="Session Collection from BP Control Room" type="LoopEnd">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="765" w="90" h="30" />
    <onsuccess>a4a85aa5-851a-433d-94a7-520b1df5f464</onsuccess>
    <groupid>25e2c517-b6b6-4f0c-9eb4-7e6bdd972709</groupid>
  </stage>
  <stage stageid="4dd216b2-dc15-495a-83bf-bc39bf902d70" name="Could not find session" type="Exception">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="-120" y="810" />
    <exception localized="yes" type="Bad Results" detail="&quot;Could not find all the sessions in Control Room, check Get Session Blue Prism Action and Sessions Collection&quot;" />
  </stage>
  <stage stageid="f99e7618-a6ac-492c-acd0-841d0633ba2f" name="Get Sessions from Blue Prism Control Room action" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="360" w="90" h="30" />
    <outputs>
      <output type="collection" name="Sessions" friendlyname="Sessions" narrative="A list of the sessions that are in the list." stage="Sessions" />
    </outputs>
    <onsuccess>40c03a3b-79ad-4202-8452-7de339022941</onsuccess>
    <resource object="Blue Prism - Control - Session Management" action="Get Sessions" />
  </stage>
  <stage stageid="da530cc0-aaed-43cc-8b2d-b2569a583133" name="Get Session Position for Process Name 4" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="30" w="90" h="30" />
    <inputs>
      <input type="text" name="Process Name" friendlyname="Process Name" narrative="Name of the process to be executed in the session" expr="[Expected Process Name (4)]" />
      <input type="text" name="Resource Name" friendlyname="Resource Name" narrative="Name of the resource on which the session has been created" expr="[Expected Resource]" />
      <input type="text" name="Session Status" friendlyname="Session Status" narrative="Status of the Session to be found (Defaults to Pending)" expr="&quot;Running&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Position of Pending Session" friendlyname="Position of Pending Session" narrative="The 1-based index of the newly created session in the Environment list in Control Room" stage="Position of Session for Process Name 4" />
    </outputs>
    <onsuccess>2749f5ac-cdf0-408a-b208-b7b90e4f1d44</onsuccess>
    <resource object="Blue Prism - Control - Session Management" action="Get Session Position" />
  </stage>
  <stage stageid="990d5d71-ef13-4be8-a675-137aa82699f9" name="Position of Session for Process Name 4" type="Data">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="-150" y="-675" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="66ee81b1-16ec-499d-bb69-5124fd6f37fb" name="Check stageStarted" type="Decision">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <narrative>Write this when bug fixed </narrative>
    <display x="-120" y="705" w="120" h="30" />
    <decision expression="[Result Collection.JSON:Array.stageStarted]&gt;=[stageStarted]" />
    <ontrue>48f7d14f-7f8a-4568-b807-09cc57c7cdd8</ontrue>
    <onfalse>437b2a81-29ff-4965-bf61-df2b5b497ad7</onfalse>
  </stage>
  <stage stageid="0edb45a8-e1f4-46a9-b556-b87ee5e4f46e" name="Anchor25" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="735" w="10" h="10" />
    <font family="Segoe UI" size="10" style="Regular" color="FF6600" />
    <onsuccess>9d49d2c8-54e9-4628-af60-fd6383343f36</onsuccess>
  </stage>
  <stage stageid="3fcb3805-fdf1-4f74-b628-a171d24a7163" name="Expect there to be a stageStarted?" type="Decision">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="15" y="705" w="120" h="30" />
    <decision expression="[Expect there to be a stageStarted?]" />
    <ontrue>66ee81b1-16ec-499d-bb69-5124fd6f37fb</ontrue>
    <onfalse>0edb45a8-e1f4-46a9-b556-b87ee5e4f46e</onfalse>
  </stage>
  <stage stageid="30f34a32-3630-428e-9da7-6f091cbef4c3" name="Anchor17" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-225" y="735" w="10" h="10" />
    <onsuccess>48f7d14f-7f8a-4568-b807-09cc57c7cdd8</onsuccess>
  </stage>
  <stage stageid="48f7d14f-7f8a-4568-b807-09cc57c7cdd8" name="Anchor8" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-120" y="735" w="10" h="10" />
    <onsuccess>0edb45a8-e1f4-46a9-b556-b87ee5e4f46e</onsuccess>
  </stage>
  <stage stageid="9c9c792d-ee56-4136-ab96-746021eb38ee" name="Expect there to be a stageStarted?" type="Data">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-135" y="150" w="150" h="30" />
    <datatype>flag</datatype>
    <initialvalue>False</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="a782604e-1f0b-40e3-b529-fc5658c932ba" name="Anchor24" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="675" w="10" h="10" />
    <onsuccess>3fcb3805-fdf1-4f74-b628-a171d24a7163</onsuccess>
  </stage>
  <stage stageid="c72121fa-9b7e-4961-93d1-d92a7074068e" name="Anchor4" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="555" w="10" h="10" />
    <onsuccess>05d3a77b-75d3-431c-b63b-be5011f5f9a4</onsuccess>
  </stage>
  <stage stageid="53569bf8-e1f8-44b6-b495-7cf79b49636f" name="Anchor6" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-120" y="615" w="10" h="10" />
    <onsuccess>efed2a72-74f9-4226-be6b-f6f343f5b4c4</onsuccess>
  </stage>
  <stage stageid="efed2a72-74f9-4226-be6b-f6f343f5b4c4" name="Anchor26" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="615" w="10" h="10" />
    <onsuccess>5a2e61f7-f969-4b86-b577-f217ed3e9f42</onsuccess>
  </stage>
  <stage stageid="53a5618d-cbdf-40e8-8155-749e41721241" name="Check sessionID" type="Decision">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="15" y="405" w="120" h="30" />
    <decision expression="[Result Collection.JSON:Array.sessionId]&lt;&gt;&quot;&quot;" />
    <ontrue>e41ee715-a76c-4214-bbd6-878a85288a1e</ontrue>
    <onfalse>cd71a8c7-a255-4f7c-a2c6-6874f86de1ca</onfalse>
  </stage>
  <stage stageid="cd71a8c7-a255-4f7c-a2c6-6874f86de1ca" name="Build Failure Message" type="Calculation">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="255" y="405" />
    <onsuccess>6f3e8d62-b1d4-4bf3-a770-8905cb15c3ef</onsuccess>
    <calculation expression="[Scenario Failed]&amp;&quot;-- SessionId was not found. We Expected this to be populated but actual value was &quot;&amp;[Result Collection.JSON:Array.sessionId]&amp;&quot;.&quot;&amp;NewLine()" stage="Scenario Failed" />
  </stage>
  <stage stageid="1ac11499-eee4-43f0-b781-9df5990bfbb2" name="Anchor27" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="255" y="375" w="10" h="10" />
    <onsuccess>566abe6a-1bd5-4957-bba2-01c6fb063976</onsuccess>
  </stage>
  <stage stageid="566abe6a-1bd5-4957-bba2-01c6fb063976" name="Anchor28" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="375" w="10" h="10" />
    <onsuccess>53a5618d-cbdf-40e8-8155-749e41721241</onsuccess>
  </stage>
  <stage stageid="9fb2107d-4ce3-45c5-8b5b-6498aa991536" name="SessionNumberStored" type="Data">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="-150" y="-645" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="f8958df2-07b3-4471-9bd0-69e898335d93" name="Pause 60s" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="315" w="90" h="30" />
    <inputs>
      <input type="number" name="Duration (Seconds)" friendlyname="Duration (Seconds)" expr="60" />
    </inputs>
    <onsuccess>f99e7618-a6ac-492c-acd0-841d0633ba2f</onsuccess>
    <resource object="Blue Prism - Basic Actions" action="Pause" />
  </stage>
  <stage stageid="180345c5-9ea3-478a-b4b5-562985ddc2c1" name="Session Number Expected (1)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-735" y="-30" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="17853b17-0fd7-4ed6-b82d-3dc14fa8f8ed" name="Session Number Expected (2)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-570" y="-30" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="70d1d1ea-61b7-4a72-8b8e-1b7e7cd9395e" name="Session Number Expected (3)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-405" y="-30" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="fca71c24-7229-408d-ab2f-be5d2e11b3de" name="Session Number Expected (4)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-735" y="195" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="9e3bf669-bb3d-4786-97ad-158f7ece64bf" name="Session Number Expected (5)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-570" y="195" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="ec351861-c3f0-4204-93f5-30568d0cb190" name="Session Number Expected (6)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-405" y="195" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="012d947b-fa27-45a1-a99a-8be0a1aeac00" name="sessionNumber" type="Data">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="-285" y="120" w="150" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="25ac32be-be8f-4a0e-933c-889c5fe71bbb" name="Is this our session for Process 4?" type="Decision">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="0" y="585" w="90" h="30" />
    <decision expression="[Sessions.Process]=[Expected Process Name (4)] AND [Sessions.Resource]=[Expected Resource] AND &#xA;[Sessions.Status]=[Expected Status (4)] AND&#xA;[Sessions.Start Time]&gt;=[Start Time Before Sessions]" />
    <ontrue>d278777e-fbd3-4807-adc3-1ea65a0821b1</ontrue>
    <onfalse>5e465249-8e4e-4d16-b16a-508e723c4364</onfalse>
  </stage>
  <stage stageid="725dbfd0-052f-46a2-bf82-d470fce6f449" name="Is this our session for Process 1?" type="Decision">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="0" y="450" w="90" h="30" />
    <decision expression="[Sessions.Process]=[Expected Process Name (1)] AND [Sessions.Resource]=[Expected Resource] AND &#xA;[Sessions.Status]=[Expected Status (1)] AND &#xA;[Sessions.Start Time]&gt;=[Start Time Before Sessions]" />
    <ontrue>dd9adfb2-a1b9-4a88-8a29-8c23017894eb</ontrue>
    <onfalse>b721f214-01e7-4fd6-b4d9-c4bd4398bfba</onfalse>
  </stage>
  <stage stageid="b721f214-01e7-4fd6-b4d9-c4bd4398bfba" name="Is this our session for Process 2?" type="Decision">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="0" y="495" w="90" h="30" />
    <decision expression="[Sessions.Process]=[Expected Process Name (2)] AND [Sessions.Resource]=[Expected Resource] AND &#xA;[Sessions.Status]=[Expected Status (2)] AND&#xA;[Sessions.Start Time]&gt;=[Start Time Before Sessions]" />
    <ontrue>67a4012c-48ad-4143-ba2f-35687e837de0</ontrue>
    <onfalse>6f0c8407-b48f-4941-a6e8-62a3d3b4382e</onfalse>
  </stage>
  <stage stageid="6f0c8407-b48f-4941-a6e8-62a3d3b4382e" name="Is this our session for Process 3?" type="Decision">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="0" y="540" w="90" h="30" />
    <decision expression="[Sessions.Process]=[Expected Process Name (3)] AND [Sessions.Resource]=[Expected Resource] AND &#xA;[Sessions.Status]=[Expected Status (3)] AND&#xA;[Sessions.Start Time]&gt;=[Start Time Before Sessions]" />
    <ontrue>af52125e-cf23-4eec-8467-10f8e92b7c96</ontrue>
    <onfalse>25ac32be-be8f-4a0e-933c-889c5fe71bbb</onfalse>
  </stage>
  <stage stageid="5e465249-8e4e-4d16-b16a-508e723c4364" name="Is this our session for Process 5?" type="Decision">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="0" y="630" w="90" h="30" />
    <decision expression="[Sessions.Process]=[Expected Process Name (5)] AND [Sessions.Resource]=[Expected Resource] AND &#xA;[Sessions.Status]=[Expected Status (5)] AND&#xA;[Sessions.Start Time]&gt;=[Start Time Before Sessions]" />
    <ontrue>3f9d6747-4f5d-49be-9c24-fa42b8c92a2a</ontrue>
    <onfalse>77a0c3bb-2ca3-4c3a-bc53-d1b0576bc4b6</onfalse>
  </stage>
  <stage stageid="dd9adfb2-a1b9-4a88-8a29-8c23017894eb" name="Store session number for Process 1" type="Calculation">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="105" y="450" w="90" h="30" />
    <onsuccess>89c4547b-5a43-4ad3-9365-a278553d42ec</onsuccess>
    <calculation expression="[Sessions.ID]" stage="Session Number Expected (1)" />
  </stage>
  <stage stageid="67a4012c-48ad-4143-ba2f-35687e837de0" name="Store session number for Process 2" type="Calculation">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="105" y="495" w="90" h="30" />
    <onsuccess>69c8be8d-a109-4297-9fd6-1d21088873f7</onsuccess>
    <calculation expression="[Sessions.ID]" stage="Session Number Expected (2)" />
  </stage>
  <stage stageid="af52125e-cf23-4eec-8467-10f8e92b7c96" name="Store session number for Process 3" type="Calculation">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="105" y="540" w="90" h="30" />
    <onsuccess>7a91c35f-8c77-40bc-8054-fd16ff5c99de</onsuccess>
    <calculation expression="[Sessions.ID]" stage="Session Number Expected (3)" />
  </stage>
  <stage stageid="d278777e-fbd3-4807-adc3-1ea65a0821b1" name="Store session number for Process 4" type="Calculation">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="105" y="585" w="90" h="30" />
    <onsuccess>a01d97f4-23cf-4f46-90bd-521f23312e27</onsuccess>
    <calculation expression="[Sessions.ID]" stage="Session Number Expected (4)" />
  </stage>
  <stage stageid="3f9d6747-4f5d-49be-9c24-fa42b8c92a2a" name="Store session number for Process 5" type="Calculation">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="105" y="630" w="90" h="30" />
    <onsuccess>e3d22abb-6e7e-4a2b-a729-89fe655ade6a</onsuccess>
    <calculation expression="[Sessions.ID]" stage="Session Number Expected (5)" />
  </stage>
  <stage stageid="89c4547b-5a43-4ad3-9365-a278553d42ec" name="Anchor13" type="Anchor">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="180" y="450" w="10" h="10" />
    <onsuccess>69c8be8d-a109-4297-9fd6-1d21088873f7</onsuccess>
  </stage>
  <stage stageid="69c8be8d-a109-4297-9fd6-1d21088873f7" name="Anchor16" type="Anchor">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="180" y="495" w="10" h="10" />
    <onsuccess>7a91c35f-8c77-40bc-8054-fd16ff5c99de</onsuccess>
  </stage>
  <stage stageid="7a91c35f-8c77-40bc-8054-fd16ff5c99de" name="Anchor29" type="Anchor">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="180" y="540" w="10" h="10" />
    <onsuccess>a01d97f4-23cf-4f46-90bd-521f23312e27</onsuccess>
  </stage>
  <stage stageid="a01d97f4-23cf-4f46-90bd-521f23312e27" name="Anchor32" type="Anchor">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="180" y="585" w="10" h="10" />
    <onsuccess>e3d22abb-6e7e-4a2b-a729-89fe655ade6a</onsuccess>
  </stage>
  <stage stageid="e3d22abb-6e7e-4a2b-a729-89fe655ade6a" name="Anchor33" type="Anchor">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="180" y="630" w="10" h="10" />
    <onsuccess>bbd84a0d-0516-4df2-bdd5-fe078da5f76f</onsuccess>
  </stage>
  <stage stageid="bbd84a0d-0516-4df2-bdd5-fe078da5f76f" name="Anchor34" type="Anchor">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="180" y="675" w="10" h="10" />
    <onsuccess>6178dbdd-0b96-416a-839e-124fe2f8c7f7</onsuccess>
  </stage>
  <stage stageid="c1b04dc2-9f8e-4a2e-9b93-983f836b7a1b" name="Anchor35" type="Anchor">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="180" y="765" w="10" h="10" />
    <onsuccess>338cf1d2-b457-4bdf-a8e5-86f14c89527e</onsuccess>
  </stage>
  <stage stageid="a4a85aa5-851a-433d-94a7-520b1df5f464" name="Found all Session numbers?" type="Decision">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="0" y="810" w="90" h="30" />
    <decision expression="[Session Number Expected (1)]&lt;&gt;&quot;&quot; AND [Session Number Expected (2)]&lt;&gt;&quot;&quot; AND [Session Number Expected (3)]&lt;&gt;&quot;&quot; AND [Session Number Expected (4)]&lt;&gt;&quot;&quot; AND [Session Number Expected (5)]&lt;&gt;&quot;&quot; AND [Session Number Expected (6)]&lt;&gt;&quot;&quot; AND&#xA;[Session Number Expected (7)]&lt;&gt;&quot;&quot;" />
    <ontrue>9be46765-0d92-4ab8-b478-a7adcc434f88</ontrue>
    <onfalse>4dd216b2-dc15-495a-83bf-bc39bf902d70</onfalse>
  </stage>
  <stage stageid="7955677f-66d8-474b-b213-90db60e5347b" name="Store Session number" type="Block">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-60" y="240" w="255" h="600" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="8c30a834-695c-4b9c-a7bb-36b61ddde885" name="Store session number for Process 6" type="MultipleCalculation">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="105" y="675" w="90" h="30" />
    <onsuccess>bbd84a0d-0516-4df2-bdd5-fe078da5f76f</onsuccess>
    <steps>
      <calculation expression="[Sessions.ID]" stage="SessionNumberStored" />
      <calculation expression="[Sessions.ID]" stage="Session Number Expected (6)" />
    </steps>
  </stage>
  <stage stageid="e3eec777-ea5b-407e-ac54-99c42d5f9536" name="Resource Manager: Start Resource 2" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-990" w="90" h="30" />
    <inputs>
      <input type="flag" name="SSO" friendlyname="SSO" narrative="True to login using Active Directory authentication. If this is False and Username is empty, a public resource PC is started" expr="&quot;False&quot;" />
      <input type="text" name="Username" friendlyname="Username" narrative="The username to use for the resource PC. Ignored if SSO is True. If this is empty and SSO is False, this will create a public resource" expr="" />
      <input type="password" name="Password" friendlyname="Password" narrative="The password to use for the resource. Only used if Username is given" expr="" />
      <input type="number" name="Port" friendlyname="Port" narrative="The port number on which the resource PC should listen" expr="[Port 2]" />
    </inputs>
    <outputs>
      <output type="number" name="Process ID" friendlyname="Process ID" narrative="The PID of the newly created process" stage="Resource Process ID" />
    </outputs>
    <onsuccess>ee78bcbf-0b1c-4199-8bd2-2b5218f09cfe</onsuccess>
    <resource object="Resource Manager" action="Start Resource" />
  </stage>
  <stage stageid="7313dd47-9fd8-45c2-aa5c-08bc460fd43e" name="Port 2" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-240" y="60" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue>8191</initialvalue>
  </stage>
  <stage stageid="69e5a8c6-7d1c-40b6-ab02-610588b2efbf" name="Get Resource Name + Port 2" type="Calculation">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="0" y="-900" w="90" h="30" />
    <onsuccess>698e3ca4-163c-4906-9546-c8dc8e843ea6</onsuccess>
    <calculation expression="Replace(GetResourceName(), &quot;_debug&quot;, &quot;&quot;) &amp; &quot;:&quot; &amp; [Port 2]" stage="Expected Resource 2" />
  </stage>
  <stage stageid="88213f41-c18e-4838-8e20-54ccc4650dd2" name="Expected Resource 2" type="Data">
    <display x="-240" y="-60" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="5dc240b5-9511-4f7a-afe6-e737f1c2fad1" name="Cleanup Block GET sessions" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-150" y="-210" w="465" h="105" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="519d17dc-1fd4-4ad6-8a55-7b87f2cc6c29" name="Resume/Retry" type="Resume">
    <loginhibit />
    <display x="270" y="-135" />
    <onsuccess>1809ff6c-a884-4bcd-adb9-8266b6f0e3e3</onsuccess>
  </stage>
  <stage stageid="1809ff6c-a884-4bcd-adb9-8266b6f0e3e3" name="Get Sessions" type="Action">
    <loginhibit onsuccess="true" />
    <display x="270" y="-60" />
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="Response Content" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Status Code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>77f4a0be-aa0e-401c-8d50-1661193ca6d3</onsuccess>
    <resource object="Blue Prism - API - Sessions" action="GET Sessions" />
  </stage>
  <stage stageid="4c02d46c-e1ca-4b00-bc95-3e6770d21848" name="Cleanup Block Setup" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-150" y="-285" w="465" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="ea0ba289-8cb1-45aa-86e2-836eabc05441" name="Resume for Setup" type="Resume">
    <loginhibit />
    <display x="360" y="-255" />
    <onsuccess>6c13bb4f-de83-4819-8e53-d57e79cbd43a</onsuccess>
  </stage>
  <stage stageid="bac4400c-fb36-4e87-b676-43812ea37571" name="Get Exception for Setup" type="MultipleCalculation">
    <loginhibit onsuccess="true" />
    <display x="270" y="-255" />
    <onsuccess>ea0ba289-8cb1-45aa-86e2-836eabc05441</onsuccess>
    <steps>
      <calculation expression="True" stage="Failed?" />
      <calculation expression="ExceptionDetail()" stage="Exception" />
    </steps>
  </stage>
  <stage stageid="6c13bb4f-de83-4819-8e53-d57e79cbd43a" name="Anchor36" type="Anchor">
    <loginhibit onsuccess="true" />
    <display x="360" y="210" w="10" h="10" />
    <onsuccess>9f044ac9-9da9-4522-a001-e6ccbc73efe1</onsuccess>
  </stage>
  <stage stageid="3d7b4ba5-2b6e-40dc-8ba9-83a474e900d3" name="Resource Manager: Stop Resource" type="Action">
    <display x="15" y="825" w="90" h="30" />
    <inputs>
      <input type="number" name="Port" friendlyname="Port" narrative="The port number whose resource should be stopped" expr="[Port 2]" />
    </inputs>
    <onsuccess>1ac14194-bc23-4eba-8d05-4f20c9bc9a9c</onsuccess>
    <resource object="Resource Manager" action="Stop Resource" />
  </stage>
  <stage stageid="81541b83-9b5f-4c99-8f55-4e8e816e5b3e" name="BP-1860 addition to check exception" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-810" y="240" w="150" h="210" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="3ff47902-f85d-4015-a08f-473aee40cc19" name="Expected Process Name (7)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-735" y="270" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">Process7 BP-1553</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="136a6942-1ffb-4729-a9d0-f62962b06c44" name="Expected Status (7)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-735" y="330" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">Terminated</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="113e71ec-f550-434d-b6ab-23069ca65793" name="Expected Process ID (7)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-735" y="300" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">5e2f0043-c27c-4661-ab11-1fb5a596c7d1</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="e0e27ae5-d819-4eac-9178-287b9d095956" name="Session Number Expected (7)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-735" y="360" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="7db8a742-00f0-4e78-849c-fad148b0619b" name="Terminated session #2 BP-1860" type="Block">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-60" y="-240" w="120" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="934fc2f2-0813-42c9-9447-e45b2bc878a8" name="Create a session which Terminates" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-210" w="90" h="30" />
    <inputs>
      <input type="flag" name="Requires Login" friendlyname="Requires Login" narrative="Flag indicating if the login info should be given too" expr="True" />
      <input type="text" name="Arguments" friendlyname="Arguments" narrative="The arguments to pass to automatec, not including the authentication info" expr="&quot;/run &quot;&quot;&quot;&amp;[Expected Process Name (7)]&amp;&quot;&quot;&quot; /resource &quot;&amp;[Expected Resource]" />
      <input type="text" name="Username" friendlyname="Username" narrative="The username that you want to authenticate against." expr="[Username]" />
      <input type="text" name="Password" friendlyname="Password" narrative="The password for the username." expr="&quot;admin&quot;" />
    </inputs>
    <outputs>
      <output type="text" name="Output" friendlyname="Output" narrative="The output from the command" stage="" />
    </outputs>
    <onsuccess>46743857-335c-4ac8-af7e-000aa36c04a5</onsuccess>
    <resource object="Call AutomateC" action="Call AutomateC" />
  </stage>
  <stage stageid="d88bebd5-a3c9-4615-9247-874c61233c3f" name="Is this our session for Process 7?" type="Decision">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="0" y="720" w="90" h="30" />
    <decision expression="[Sessions.Process]=[Expected Process Name (7)] AND [Sessions.Resource]=[Expected Resource] AND &#xA;[Sessions.Status]=[Expected Status (7)] AND&#xA;[Sessions.Start Time]&gt;=[Start Time Before Sessions]" />
    <ontrue>33f88b1d-9be1-4cf7-948e-df7fc0b9c5b1</ontrue>
    <onfalse>338cf1d2-b457-4bdf-a8e5-86f14c89527e</onfalse>
  </stage>
  <stage stageid="33f88b1d-9be1-4cf7-948e-df7fc0b9c5b1" name="Store session number for Process 7" type="Calculation">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="105" y="720" w="90" h="30" />
    <onsuccess>6178dbdd-0b96-416a-839e-124fe2f8c7f7</onsuccess>
    <calculation expression="[Sessions.ID]" stage="Session Number Expected (7)" />
  </stage>
  <stage stageid="6178dbdd-0b96-416a-839e-124fe2f8c7f7" name="Anchor16" type="Anchor">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="180" y="720" w="10" h="10" />
    <onsuccess>c1b04dc2-9f8e-4a2e-9b93-983f836b7a1b</onsuccess>
  </stage>
  <stage stageid="de1ea909-4b05-478f-ad3b-f16566709174" name="exceptionType" type="Data">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="-135" y="240" w="150" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="d2f68db6-5ace-44e4-8f85-f3c2e48119ba" name="Expected exceptionMessage (2)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-570" y="0" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">1+1 does not equal 4</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="7a1c213f-3010-4dfa-ade8-13e692e185e3" name="Expected exceptionType (2)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-570" y="30" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">Custom Exception</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="7c8c6ef2-bc71-4a94-a8d2-0ceec80c6ceb" name="Expected exceptionMessage (7)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-735" y="390" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">Failed to find stage linked from stage 'Start' on page 'Main Page'.</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="6bb24c10-11a9-4c9d-bf76-1e1decd6cfd2" name="Expected exceptionType (7)" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-735" y="420" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">Internal</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="77ee6b1e-37b8-4f6b-bfa1-9363a0e52b7e" name="Check Session" type="SubSheet">
    <loginhibit onsuccess="true" />
    <display x="15" y="315" w="300" h="30" />
    <inputs>
      <input type="text" name="Process Name" friendlyname="Process Name" expr="[Expected Process Name (7)]" />
      <input type="text" name="Resource Name" friendlyname="Resource Name" expr="[Expected Resource]" />
      <input type="text" name="User Name" friendlyname="User Name" expr="[Username]" />
      <input type="text" name="Status Expected" friendlyname="Status Expected" expr="[Expected Status (7)]" />
      <input type="text" name="Exception Message" friendlyname="Exception Message" expr="[Expected exceptionMessage (7)]" />
      <input type="datetime" name="Start Time" friendlyname="Start Time" expr="[Start Time Before Sessions]" />
      <input type="datetime" name="End Time" friendlyname="End Time" expr="[End Time After Sessions]" />
      <input type="text" name="Latest Stage" friendlyname="Latest Stage" expr="&quot;Start&quot;" />
      <input type="datetime" name="Stage Started" friendlyname="Stage Started" expr="[Start Time Before Sessions]" />
      <input type="text" name="Process ID" friendlyname="Process ID" expr="[Expected Process ID (7)]" />
      <input type="flag" name="Expect an Exception Message?" friendlyname="Expect an Exception Message?" expr="True" />
      <input type="flag" name="Expect an End Time?" friendlyname="Expect an End Time?" expr="True" />
      <input type="flag" name="Expect latestStage Output" friendlyname="Expect latestStage Output" expr="True" />
      <input type="flag" name="Expect there to be a stageStarted?" friendlyname="Expect there to be a stageStarted?" expr="True" />
      <input type="number" name="Session Number" friendlyname="Session Number" expr="[Session Number Expected (7)]" />
      <input type="text" name="Exception Type" friendlyname="Exception Type" expr="[Expected exceptionType (7)]" />
    </inputs>
    <onsuccess>4d4036d0-8460-473a-9c7e-a906b3d3fb10</onsuccess>
    <processid>ab4ccde0-4082-4083-98a8-a036be8b3e37</processid>
  </stage>
  <stage stageid="7afb16a3-2435-4961-a2b3-ce00a8d18b5f" name="Sessions" type="Collection">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="-150" y="-705" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
    <collectioninfo>
      <field name="ID" type="text" />
      <field name="Process" type="text" />
      <field name="Resource" type="text" />
      <field name="User" type="text" />
      <field name="Status" type="text" />
      <field name="Start Time" type="datetime" />
      <field name="End Time" type="datetime" />
      <field name="Latest Stage" type="text" />
      <field name="Stage Started" type="datetime" />
    </collectioninfo>
  </stage>
  <stage stageid="36dee1cf-05af-44d8-8eff-50379a02b8c0" name="Local output" type="Block">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-360" y="285" w="300" h="90" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="f7c72b0f-047e-4e1f-8f64-c6c175960653" name="Is this the first row?" type="Decision">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="15" y="15" w="120" h="30" />
    <decision expression="[Count]=1" />
    <ontrue>b5c844cd-5a90-49d5-90ad-61950e8f95c8</ontrue>
    <onfalse>9949a5b8-6e9a-4527-b120-7d7c80f6e771</onfalse>
  </stage>
  <stage stageid="5341c9eb-871c-41fa-ad9d-5a1f19dff1a2" name="Add to Count" type="Calculation">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-30" w="120" h="30" />
    <onsuccess>f7c72b0f-047e-4e1f-8f64-c6c175960653</onsuccess>
    <calculation expression="[Count]+1" stage="Count" />
  </stage>
  <stage stageid="b5c844cd-5a90-49d5-90ad-61950e8f95c8" name="Check if lowest sessionNumber displayed first" type="Decision">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="135" y="15" w="90" h="30" />
    <decision expression="[Result Collection.JSON:Array.sessionNumber]&lt;=[Session Number Expected (1)]" />
    <ontrue>7d8a082f-d4ac-42c2-bb06-adc8d24c7b3d</ontrue>
    <onfalse>a0996b7e-6b28-4a21-bcdc-aae4fee41e1d</onfalse>
  </stage>
  <stage stageid="7d8a082f-d4ac-42c2-bb06-adc8d24c7b3d" name="Anchor37" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="135" y="45" w="10" h="10" />
    <onsuccess>9949a5b8-6e9a-4527-b120-7d7c80f6e771</onsuccess>
  </stage>
  <stage stageid="9949a5b8-6e9a-4527-b120-7d7c80f6e771" name="Anchor38" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="45" w="10" h="10" />
    <onsuccess>360da6f9-fa3c-4196-8117-a65f1de11f97</onsuccess>
  </stage>
  <stage stageid="30163f2e-5bf1-4f13-95d4-2b57f6452df3" name="Count" type="Data">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="-285" y="315" w="150" h="30" />
    <datatype>number</datatype>
    <initialvalue>0</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="a0996b7e-6b28-4a21-bcdc-aae4fee41e1d" name="Build Failure Message" type="Calculation">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="225" y="15" />
    <onsuccess>16ea1a28-6c18-4c89-b5d8-9db6ae64449e</onsuccess>
    <calculation expression="[Scenario Failed]&amp;&quot;-- Default sort order expected to be ascending order, expect lowest session number first( &quot;&amp;[Session Number Expected (1)]&amp;&quot;) however this is not the case. Actual value was &quot;&amp;[Result Collection.JSON:Array.sessionNumber]&amp;&quot;.&quot;&amp;NewLine()" stage="Scenario Failed" />
  </stage>
  <stage stageid="3ef5a1da-065a-4777-a3ae-fbe2505186b0" name="Result Collection" type="Collection">
    <display x="-240" y="210" w="120" h="30" />
    <datatype>collection</datatype>
    <alwaysinit />
    <collectioninfo>
      <field name="JSON:Array" type="collection">
        <field name="sessionNumber" type="number" />
        <field name="processId" type="text" />
        <field name="processName" type="text" />
        <field name="resourceId" type="text" />
        <field name="resourceName" type="text" />
        <field name="userName" type="text" />
        <field name="status" type="text" />
        <field name="exceptionMessage" type="text" />
        <field name="startTime" type="datetime" />
        <field name="endTime" type="datetime" />
        <field name="latestStage" type="text" />
        <field name="stageStarted" type="datetime" />
        <field name="sessionId" type="text" />
        <field name="terminationReason" type="text" />
        <field name="exceptionType" type="text" />
      </field>
    </collectioninfo>
  </stage>
  <stage stageid="16ea1a28-6c18-4c89-b5d8-9db6ae64449e" name="Anchor39" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="225" y="45" w="10" h="10" />
    <onsuccess>7d8a082f-d4ac-42c2-bb06-adc8d24c7b3d</onsuccess>
  </stage>
  <stage stageid="cd4ec9d6-2f38-454f-9aaf-9e451319aed7" name="Note14" type="Note">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <narrative>&lt;--- Check one of the scenario, is GET Sessions returned default sort order is ascending? Previously it was descending but this changed. In future this may change back to descending.</narrative>
    <display x="375" y="30" w="150" h="90" />
  </stage>
  <stage stageid="6e92df8f-098f-4618-be81-ea3888c89184" name="Return to Collection" type="Calculation">
    <loginhibit onsuccess="true" />
    <display x="15" y="-15" w="270" h="30" />
    <onsuccess>158aeb60-69a2-4549-ab49-a3d562d6cab7</onsuccess>
    <calculation expression="[Default Result Collection.items]" stage="Result Collection" />
  </stage>
  <stage stageid="af01fa02-5ee1-47e3-802f-1ed23641421a" name="Default Result Collection" type="Collection">
    <display x="-240" y="240" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="698e3ca4-163c-4906-9546-c8dc8e843ea6" name="Launch" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="0" y="-855" w="90" h="30" />
    <outputs>
      <output type="number" name="pid" friendlyname="pid" narrative="PID of the process" stage="pid" />
    </outputs>
    <onsuccess>807dea08-5142-4fef-a227-5da53e836eaa</onsuccess>
    <resource object="Blue Prism" action="Launch and Get PID" />
  </stage>
  <stage stageid="807dea08-5142-4fef-a227-5da53e836eaa" name="Attach to System" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="0" y="-810" w="90" h="30" />
    <inputs>
      <input type="number" name="pid" friendlyname="pid" narrative="PID to attach to" expr="[pid]" />
    </inputs>
    <onsuccess>b5ce90f0-7dbb-4c57-a54c-4d7a64d087be</onsuccess>
    <resource object="Blue Prism - System (Parent)" action="Attach to Pid" />
  </stage>
  <stage stageid="b5ce90f0-7dbb-4c57-a54c-4d7a64d087be" name="Sign In Auth Server" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-765" w="90" h="30" />
    <onsuccess>5209c195-50a9-414e-b546-565dbe705882</onsuccess>
    <resource object="Blue Prism" action="Sign in using Auth Server" />
  </stage>
  <stage stageid="5209c195-50a9-414e-b546-565dbe705882" name="IMS Server:Attach" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-720" w="90" h="30" />
    <onsuccess>c32387f1-eeb5-4c0e-a7dd-9d300944254d</onsuccess>
    <resource object="IMS Server" action="Attach" />
  </stage>
  <stage stageid="c32387f1-eeb5-4c0e-a7dd-9d300944254d" name="IMS Server:Login" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-675" w="90" h="30" />
    <inputs>
      <input type="text" name="Username" friendlyname="Username" expr="&quot;admin&quot;" />
      <input type="text" name="Password" friendlyname="Password" expr="&quot;Qq1234!!&quot;" />
    </inputs>
    <onsuccess>cdeef9ca-fca4-4cea-8b70-4ca96389e6e5</onsuccess>
    <resource object="IMS Server" action="Login" />
  </stage>
  <stage stageid="cdeef9ca-fca4-4cea-8b70-4ca96389e6e5" name="Setup Credential" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-615" w="90" h="30" />
    <inputs>
      <input type="flag" name="Requires Login" friendlyname="Requires Login" narrative="Flag indicating if the login info should be given too" expr="True" />
      <input type="text" name="Arguments" friendlyname="Arguments" narrative="The arguments to pass to automatec, not including the authentication info" expr="&quot;/createcredential &quot;&quot;BPE-API-Credential&quot;&quot; ServiceAccount E3NbGuz9G/nSpQWdz6DMROZhtIDHtUhev13wsCV72fY=  /credentialtype OAuth2ClientCredentials&quot;" />
      <input type="text" name="Username" friendlyname="Username" narrative="The username that you want to authenticate against." expr="" />
      <input type="text" name="Password" friendlyname="Password" narrative="The password for the username." expr="" />
    </inputs>
    <outputs>
      <output type="text" name="Output" friendlyname="Output" narrative="The output from the command" stage="" />
    </outputs>
    <onsuccess>65e053ec-1fa4-4b13-8509-23ae9ad8a7ef</onsuccess>
    <resource object="Call AutomateC" action="Call AutomateC" />
  </stage>
  <stage stageid="4c775fe5-1565-4364-8866-a4db64c45dfa" name="Credential already exists?" type="Recover">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit />
    <display x="105" y="-615" w="90" h="30" />
    <onsuccess>0037af0a-8492-48b1-ab94-2df82637a05b</onsuccess>
  </stage>
  <stage stageid="0037af0a-8492-48b1-ab94-2df82637a05b" name="Resume1" type="Resume">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit />
    <display x="105" y="-555" w="90" h="30" />
    <onsuccess>65e053ec-1fa4-4b13-8509-23ae9ad8a7ef</onsuccess>
  </stage>
  <stage stageid="52afd46c-689a-4207-b30e-7a1fdf5010b7" name="Create credential" type="Block">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-60" y="-645" w="225" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="d9510292-9a9c-439b-9264-e9a9b349d700" name="Check userName" type="Decision">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <display x="150" y="525" w="120" h="30" />
    <decision expression="[Result Collection.JSON:Array.processName]=&quot;Process1 BP-1553&quot;&#xA;AND&#xA;[Result Collection.JSON:Array.userName]=&quot;authServerUser&quot;" />
    <ontrue>709ef933-9dbc-4060-9db3-a316f7cde538</ontrue>
    <onfalse>576d2e7b-a606-415c-a44f-884181609119</onfalse>
  </stage>
  <stage stageid="709ef933-9dbc-4060-9db3-a316f7cde538" name="Anchor40" type="Anchor">
    <subsheetid>ab4ccde0-4082-4083-98a8-a036be8b3e37</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="150" y="555" w="10" h="10" />
    <onsuccess>c72121fa-9b7e-4961-93d1-d92a7074068e</onsuccess>
  </stage>
  <stage stageid="89ccb0d3-8f1f-40fd-abef-ed11eea9a67e" name="Recover" type="Recover">
    <loginhibit />
    <display x="210" y="-255" />
    <onsuccess>bac4400c-fb36-4e87-b676-43812ea37571</onsuccess>
  </stage>
  <stage stageid="26c97fa9-443f-41c2-8c1a-81acfb22cd7a" name="Recover" type="Recover">
    <loginhibit />
    <display x="270" y="-180" />
    <onsuccess>519d17dc-1fd4-4ad6-8a55-7b87f2cc6c29</onsuccess>
  </stage>
  <stage stageid="79924645-288c-4fb7-bf43-2ea3811b3384" name="Recover" type="Recover">
    <loginhibit />
    <display x="270" y="120" />
    <onsuccess>fa92fa3b-ad01-4038-96c1-377000f74faf</onsuccess>
  </stage>
</process>