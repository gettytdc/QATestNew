<process name="API - GET sessions - Paging" version="1.0" bpversion="7.0.0.39380" narrative="" byrefcollection="true" preferredid="5bc13c89-9352-4251-8c6b-59c28818682b">
  <view>
    <camerax>-35</camerax>
    <cameray>-42</cameray>
    <zoom version="2">1.25</zoom>
  </view>
  <preconditions />
  <endpoint narrative="" />
  <subsheet subsheetid="35e4a25d-3be4-4079-9172-6a5adeca098f" type="Normal" published="False">
    <name>Setup</name>
    <view>
      <camerax>-43</camerax>
      <cameray>255</cameray>
      <zoom version="2">1.25</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="b05944fd-1337-4ce4-80ea-5db386564f3b" type="Normal" published="False">
    <name>Scenario 1 - Negative Scenarios</name>
    <view>
      <camerax>-15</camerax>
      <cameray>1215</cameray>
      <zoom version="2">1.5625</zoom>
    </view>
  </subsheet>
  <subsheet subsheetid="13a523ff-14e9-4e81-a2c5-f91df57a0fc7" type="Normal" published="False">
    <name>Scenario 2 - Postive Scenarios</name>
    <view>
      <camerax>330</camerax>
      <cameray>1140</cameray>
      <zoom version="2">1.5625</zoom>
    </view>
  </subsheet>
  <stage stageid="43eb6e5d-030d-453a-894c-1c6e09e52732" name="Start" type="Start">
    <display x="15" y="-285" />
    <onsuccess>95d8a8b4-41c6-45bc-939a-d1b9241f0630</onsuccess>
  </stage>
  <stage stageid="6b7ae773-943d-4f66-bb0a-3746d0fca712" name="Stage1" type="ProcessInfo">
    <display x="-240" y="-255" w="150" h="90" />
  </stage>
  <stage stageid="7b3bb422-6eb8-4760-838d-007c33b3dfc9" name="Expected Status" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-405" y="-135" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">Completed</initialvalue>
  </stage>
  <stage stageid="f5798412-80be-487a-9afa-ad7468cf894c" name="Global Variables" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-315" y="-195" w="150" h="270" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="3731893d-c2d7-4710-9cc0-e553c4b56d68" name="Note1" type="Note">
    <narrative>GIVEN I push a GET sessions request 
WHEN I supply invalid itemsPerPage data
THEN the appropriate response is returned</narrative>
    <display x="15" y="-135" w="300" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
    <onsuccess>1bd01b32-d6f8-49bd-8b4e-d5ddc46143bb</onsuccess>
  </stage>
  <stage stageid="f6360219-a1f1-4612-bb06-624c50d8f06f" name="Setup" type="SubSheetInfo">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="-150" y="-855" w="150" h="90" />
  </stage>
  <stage stageid="95d8a8b4-41c6-45bc-939a-d1b9241f0630" name="Setup" type="SubSheet">
    <loginhibit onsuccess="true" />
    <display x="15" y="-225" w="300" h="30" />
    <onsuccess>3731893d-c2d7-4710-9cc0-e553c4b56d68</onsuccess>
    <processid>35e4a25d-3be4-4079-9172-6a5adeca098f</processid>
  </stage>
  <stage stageid="74c5c67a-0e2f-4c93-96a1-d4a874e6bdf7" name="Local Variables" type="Block">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-225" y="-795" w="150" h="180" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="9b740e32-6cca-42c9-b72e-c3d666bc88ff" name="Start" type="Start">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="0" y="-1080" />
    <onsuccess>688e92bb-f077-4a4a-9a1e-1a55e7142862</onsuccess>
  </stage>
  <stage stageid="65e053ec-1fa4-4b13-8509-23ae9ad8a7ef" name="Attach Control" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-645" w="90" h="30" />
    <inputs>
      <input type="number" name="pid" friendlyname="pid" narrative="PID to attach to" expr="[pid]" />
    </inputs>
    <onsuccess>7df14caf-eda8-42a1-8703-1f0c72be573c</onsuccess>
    <resource object="Blue Prism - Control Room (Parent)" action="Attach to Pid" />
  </stage>
  <stage stageid="88833a9b-0b14-4e30-b3ee-39e5989d987f" name="pid" type="Data">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="-150" y="-765" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="9c93fc3d-d2b8-4298-babb-8515cefd724b" name="Process one run 10 times" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-480" y="-195" w="150" h="90" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="00de690c-983f-4850-b9c9-17d5f569f3a0" name="Response Content" type="Data">
    <display x="-240" y="150" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="53fbdcf9-bc1c-4a7d-ad8f-a482f7491078" name="HTTP Status Code" type="Data">
    <display x="-240" y="120" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="ccc957c8-f145-4ed6-bdff-63804bed1f43" name="API Response Data" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-315" y="90" w="150" h="150" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="34b9ddb6-8c39-412f-b5d4-43be9097a411" name="Local Variables" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-315" y="255" w="150" h="90" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="4b28d2b6-e550-4eb5-bc24-a19c72604e56" name="Failed?" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-240" y="285" w="120" h="30" />
    <datatype>flag</datatype>
    <initialvalue>False</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="11023205-eac8-4d11-9fd7-4efab2234d2b" name="Exception" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-240" y="315" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="c2c13b44-cae6-4e0d-bc3a-d0f8f652fed4" name="Resume Scenario 1" type="Resume">
    <loginhibit />
    <display x="300" y="-75" />
    <onsuccess>34b84501-90b3-43b8-bf97-fa8fd6290fc5</onsuccess>
  </stage>
  <stage stageid="fa92fa3b-ad01-4038-96c1-377000f74faf" name="Get Exception 1" type="MultipleCalculation">
    <loginhibit onsuccess="true" />
    <display x="300" y="-120" />
    <onsuccess>c2c13b44-cae6-4e0d-bc3a-d0f8f652fed4</onsuccess>
    <steps>
      <calculation expression="True" stage="Failed?" />
      <calculation expression="[Exception]&amp;&quot;,Scenario 1 Failed. Exception details: &quot;&amp;ExceptionDetail()" stage="Exception" />
    </steps>
  </stage>
  <stage stageid="7df14caf-eda8-42a1-8703-1f0c72be573c" name="Attach Studio" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-600" w="90" h="30" />
    <inputs>
      <input type="number" name="pid" friendlyname="pid" narrative="PID to attach to" expr="[pid]" />
    </inputs>
    <onsuccess>d972c264-cb20-4718-80a3-d095f0beeee5</onsuccess>
    <resource object="Blue Prism - Studio (Parent)" action="Attach to Pid" />
  </stage>
  <stage stageid="af906a6f-a70b-46d6-bd36-67fa8ee674ee" name="Expected Process Name" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-405" y="-165" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">Process BP-1767</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="72bfa5c9-0b38-4fd5-a5ea-c5e27b371303" name="Resource Manager: Start Resource" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-735" w="90" h="30" />
    <inputs>
      <input type="flag" name="SSO" friendlyname="SSO" narrative="True to login using Active Directory authentication. If this is False and Username is empty, a public resource PC is started" expr="&quot;False&quot;" />
      <input type="text" name="Username" friendlyname="Username" narrative="The username to use for the resource PC. Ignored if SSO is True. If this is empty and SSO is False, this will create a public resource" expr="" />
      <input type="password" name="Password" friendlyname="Password" narrative="The password to use for the resource. Only used if Username is given" expr="" />
      <input type="number" name="Port" friendlyname="Port" narrative="The port number on which the resource PC should listen" expr="[Port 1]" />
    </inputs>
    <outputs>
      <output type="number" name="Process ID" friendlyname="Process ID" narrative="The PID of the newly created process" stage="" />
    </outputs>
    <onsuccess>80649794-7e8a-47e8-a534-2e00f31a9ff5</onsuccess>
    <resource object="Resource Manager" action="Start Resource" />
  </stage>
  <stage stageid="8cd120e3-909b-4658-822f-80c0c1eb3c30" name="Create 10 completed sessions" type="Block">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-60" y="-525" w="120" h="195" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="46743857-335c-4ac8-af7e-000aa36c04a5" name="Create a session which Completes" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-405" w="90" h="30" />
    <inputs>
      <input type="flag" name="Requires Login" friendlyname="Requires Login" narrative="Flag indicating if the login info should be given too" expr="True" />
      <input type="text" name="Arguments" friendlyname="Arguments" narrative="The arguments to pass to automatec, not including the authentication info" expr="&quot;/run &quot;&quot;&quot;&amp;[Sessions.Session]&amp;&quot;&quot;&quot; /resource &quot;&amp;[Expected resource name]" />
      <input type="text" name="Username" friendlyname="Username" narrative="The username that you want to authenticate against." expr="[Expected User]" />
      <input type="text" name="Password" friendlyname="Password" narrative="The password for the username." expr="&quot;admin&quot;" />
    </inputs>
    <outputs>
      <output type="text" name="Output" friendlyname="Output" narrative="The output from the command" stage="" />
    </outputs>
    <onsuccess>f0091075-6241-4a97-9850-e7880b740f01</onsuccess>
    <resource object="Call AutomateC" action="Call AutomateC" />
  </stage>
  <stage stageid="3ef5a1da-065a-4777-a3ae-fbe2505186b0" name="Result Collection" type="Collection">
    <display x="-240" y="180" w="120" h="30" />
    <datatype>collection</datatype>
    <alwaysinit />
    <collectioninfo>
      <field name="JSON:Array" type="collection">
        <field name="sessionNumber" type="number" />
        <field name="processId" type="text" />
        <field name="processName" type="text" />
        <field name="resourceId" type="text" />
        <field name="resourceName" type="text" />
        <field name="userName" type="text" />
        <field name="status" type="text" />
        <field name="exceptionType" type="text" />
        <field name="startTime" type="datetime" />
        <field name="endTime" type="datetime" />
        <field name="latestStage" type="text" />
        <field name="stageStarted" type="datetime" />
        <field name="sessionId" type="text" />
        <field name="terminationReason" type="text" />
        <field name="exceptionMessage" type="text" />
      </field>
    </collectioninfo>
  </stage>
  <stage stageid="02d71164-0f9e-42c4-9a82-cc8856d42bbb" name="Port 1" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-240" y="-165" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue>6000</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="d972c264-cb20-4718-80a3-d095f0beeee5" name="Go to Tab: Control" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-555" w="90" h="30" />
    <inputs>
      <input type="text" name="Tab Name" friendlyname="Tab Name" narrative="Name of Tab to Click" expr="&quot;Control&quot;" />
    </inputs>
    <onsuccess>afa3f7ee-0759-44ca-8fc1-1783cc6dde14</onsuccess>
    <resource object="Blue Prism - Basic Actions" action="Go to Tab" />
  </stage>
  <stage stageid="a629f503-4ac1-4545-ad9f-95a79a589ca9" name="Expected start time" type="Data">
    <display x="-240" y="-75" w="120" h="30" />
    <datatype>datetime</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="afa3f7ee-0759-44ca-8fc1-1783cc6dde14" name="Get start Date Time" type="Calculation">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-495" w="90" h="30" />
    <onsuccess>a8883f38-743a-445a-a580-69dc708f2036</onsuccess>
    <calculation expression="Now()" stage="Expected start time" />
  </stage>
  <stage stageid="2215d67c-74c8-4666-bdc4-4bcbf869be60" name="Scenario 1 - Negative scenario" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-150" y="-180" w="405" h="135" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="a81067cc-d4d9-4284-900e-ec4e05561b81" name="Scenario 2 - Positive scenario" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-150" y="-15" w="405" h="135" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="feeaf1a4-094b-40a4-8168-c508b7bf74ef" name="Scenario 1 - Negative Scenarios" type="SubSheetInfo">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="1bd01b32-d6f8-49bd-8b4e-d5ddc46143bb" name="Scenario 1 - Negative Scenarios" type="SubSheet">
    <loginhibit onsuccess="true" />
    <display x="15" y="-75" w="300" h="30" />
    <onsuccess>12d01831-c038-4695-b97e-d07cfbe287c3</onsuccess>
    <processid>b05944fd-1337-4ce4-80ea-5db386564f3b</processid>
  </stage>
  <stage stageid="80a7af32-3491-4c80-88c4-acafc608fa18" name="Note2" type="Note">
    <narrative>GIVEN I push a GET sessions request 
WHEN I supply valid itemsPerPage data and paginationToken
THEN the appropriate response is returned</narrative>
    <display x="15" y="30" w="300" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
    <onsuccess>e557cdc1-2ceb-4ee4-bb0f-5279dd3e893f</onsuccess>
  </stage>
  <stage stageid="e557cdc1-2ceb-4ee4-bb0f-5279dd3e893f" name="Scenario 2 - Postive Scenarios" type="SubSheet">
    <loginhibit onsuccess="true" />
    <display x="15" y="90" w="300" h="30" />
    <onsuccess>00063004-ac5e-4058-aa37-f00c2926b147</onsuccess>
    <processid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</processid>
  </stage>
  <stage stageid="d9a7ccce-e65e-4305-848e-9ffcd9112ea7" name="Scenario 2 - Postive Scenarios" type="SubSheetInfo">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="-195" y="-105" w="150" h="90" />
  </stage>
  <stage stageid="cd5391ed-896a-47d2-a014-441e22eb1d1d" name="Start" type="Start">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="15" y="-225" />
    <onsuccess>aae9e4dd-fb73-45a4-a6dd-a7a6addab4d8</onsuccess>
  </stage>
  <stage stageid="e85873f5-c2f6-4ad0-a169-e69be2ecc800" name="End1" type="End">
    <loginhibit onsuccess="true" />
    <display x="15" y="315" />
  </stage>
  <stage stageid="1ac14194-bc23-4eba-8d05-4f20c9bc9a9c" name="Failed?" type="Decision">
    <display x="15" y="270" w="150" h="30" />
    <decision expression="[Failed?]" />
    <ontrue>1ebdc55d-f97f-4b58-ae2e-e00e40e01462</ontrue>
    <onfalse>e85873f5-c2f6-4ad0-a169-e69be2ecc800</onfalse>
  </stage>
  <stage stageid="1ebdc55d-f97f-4b58-ae2e-e00e40e01462" name="RETHROW" type="Exception">
    <display x="135" y="270" />
    <exception localized="yes" type="Test Fail" detail="[Exception]" />
  </stage>
  <stage stageid="8f2ba679-c35a-4295-9fa5-ad8c949f6abc" name="Resource Manager: Stop Resource" type="Action">
    <display x="15" y="225" w="90" h="30" />
    <inputs>
      <input type="number" name="Port" friendlyname="Port" narrative="The port number whose resource should be stopped" expr="[Port 1]" />
    </inputs>
    <onsuccess>1ac14194-bc23-4eba-8d05-4f20c9bc9a9c</onsuccess>
    <resource object="Resource Manager" action="Stop Resource" />
  </stage>
  <stage stageid="38c4908e-2e4a-4762-970e-fa109a67f5c4" name="Close BP" type="Action">
    <display x="15" y="180" w="90" h="30" />
    <onsuccess>8f2ba679-c35a-4295-9fa5-ad8c949f6abc</onsuccess>
    <resource object="Blue Prism" action="Exit Application" />
  </stage>
  <stage stageid="7ae3a534-cfb1-46f7-8c96-4186c3481e94" name="Resume Scenario 2" type="Resume">
    <loginhibit />
    <display x="300" y="60" />
    <onsuccess>8e2084ae-e1f2-424c-8860-633f6024e2d5</onsuccess>
  </stage>
  <stage stageid="cf95b213-cc12-4dca-9748-032621338765" name="Get Exception 2" type="MultipleCalculation">
    <loginhibit onsuccess="true" />
    <display x="300" y="15" />
    <onsuccess>7ae3a534-cfb1-46f7-8c96-4186c3481e94</onsuccess>
    <steps>
      <calculation expression="True" stage="Failed?" />
      <calculation expression="[Exception]&amp;&quot;,Scenario 2 Failed. Exception details: &quot;&amp;ExceptionDetail()" stage="Exception" />
    </steps>
  </stage>
  <stage stageid="8e2084ae-e1f2-424c-8860-633f6024e2d5" name="Anchor38" type="Anchor">
    <loginhibit onsuccess="true" />
    <display x="300" y="135" w="10" h="10" />
    <onsuccess>00063004-ac5e-4058-aa37-f00c2926b147</onsuccess>
  </stage>
  <stage stageid="34b84501-90b3-43b8-bf97-fa8fd6290fc5" name="Anchor39" type="Anchor">
    <loginhibit onsuccess="true" />
    <display x="300" y="-30" w="10" h="10" />
    <onsuccess>12d01831-c038-4695-b97e-d07cfbe287c3</onsuccess>
  </stage>
  <stage stageid="cd555bbd-cc41-4589-8d7b-3c0430074de1" name="Expected User" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-240" y="-135" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">admin</initialvalue>
  </stage>
  <stage stageid="2bf8b8dc-e8d7-4ddb-ae79-6232890e0fcb" name="Pause 60s" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-300" w="90" h="30" />
    <inputs>
      <input type="number" name="Duration (Seconds)" friendlyname="Duration (Seconds)" expr="60" />
    </inputs>
    <onsuccess>542628ac-b9e7-49ef-a637-b9f65e8cb1bb</onsuccess>
    <resource object="Blue Prism - Basic Actions" action="Pause" />
  </stage>
  <stage stageid="12d01831-c038-4695-b97e-d07cfbe287c3" name="Anchor1" type="Anchor">
    <loginhibit onsuccess="true" />
    <display x="15" y="-30" w="10" h="10" />
    <onsuccess>80a7af32-3491-4c80-88c4-acafc608fa18</onsuccess>
  </stage>
  <stage stageid="00063004-ac5e-4058-aa37-f00c2926b147" name="Anchor6" type="Anchor">
    <loginhibit onsuccess="true" />
    <display x="15" y="135" w="10" h="10" />
    <onsuccess>6eceb746-bcb2-49d6-ac2d-318c950d1f75</onsuccess>
  </stage>
  <stage stageid="6eceb746-bcb2-49d6-ac2d-318c950d1f75" name="Anchor44" type="Anchor">
    <loginhibit onsuccess="true" />
    <display x="15" y="150" w="10" h="10" />
    <onsuccess>38c4908e-2e4a-4762-970e-fa109a67f5c4</onsuccess>
  </stage>
  <stage stageid="9dbfab29-a00f-47b2-8914-d293ff838e8f" name="Anchor45" type="Anchor">
    <loginhibit onsuccess="true" />
    <display x="375" y="150" w="10" h="10" />
    <onsuccess>6eceb746-bcb2-49d6-ac2d-318c950d1f75</onsuccess>
  </stage>
  <stage stageid="5ad242eb-f831-435b-beeb-6abed4723db9" name="Resume Setup" type="Resume">
    <loginhibit />
    <display x="375" y="-225" />
    <onsuccess>9dbfab29-a00f-47b2-8914-d293ff838e8f</onsuccess>
  </stage>
  <stage stageid="42d690fc-08b5-4699-9ef9-3ac40c7f4eb0" name="Get Exception Setup" type="MultipleCalculation">
    <loginhibit onsuccess="true" />
    <display x="300" y="-225" />
    <onsuccess>5ad242eb-f831-435b-beeb-6abed4723db9</onsuccess>
    <steps>
      <calculation expression="True" stage="Failed?" />
      <calculation expression="[Exception]&amp;&quot;,Setup Failed. Exception details: &quot;&amp;ExceptionDetail()" stage="Exception" />
    </steps>
  </stage>
  <stage stageid="8a198363-a5c8-4c5f-bb1c-31fcc16c5dde" name="Setup Cleanup" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-150" y="-255" w="405" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="b9118905-6a08-430f-a055-b917a9122a28" name="Expected end time" type="Data">
    <display x="-240" y="-45" w="120" h="30" />
    <datatype>datetime</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="a2d6d677-f233-4eda-8a7b-664504a02a80" name="Start" type="Start">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <display x="15" y="-150" />
    <onsuccess>ac22298f-607b-4b94-9595-85a3b4412b61</onsuccess>
  </stage>
  <stage stageid="ac22298f-607b-4b94-9595-85a3b4412b61" name="When:" type="Note">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <narrative>WHEN The input parameter of itemsPerPage is set to a value of -1
THEN A response code of 400 should be returned along with an appropriate user error message</narrative>
    <display x="15" y="-90" w="240" h="60" />
    <onsuccess>54d13aed-e43b-468e-aab9-65e1175cc58a</onsuccess>
  </stage>
  <stage stageid="ad51d6fb-a812-4623-8075-ebe344d56770" name="When:" type="Note">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <narrative>WHEN The input parameter of itemsPerPage is set to a value of 1.5
THEN A response code of 400 should be returned along with an appropriate user error message</narrative>
    <display x="15" y="195" w="240" h="60" />
    <onsuccess>bc817395-51e4-4102-8845-9900b547cc20</onsuccess>
  </stage>
  <stage stageid="77680164-c03e-46b6-a1dc-cf6af8ba8265" name="When:" type="Note">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <narrative>WHEN The input parameter of itemsPerPage is set to a value of 0
THEN A response code of 400 should be returned along with an appropriate user error message</narrative>
    <display x="15" y="480" w="240" h="60" />
    <onsuccess>124ac9f6-5834-4c50-a27d-4087f09fe409</onsuccess>
  </stage>
  <stage stageid="15d559d7-9c8b-4488-9bbd-837fff11fabc" name="When:" type="Note">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <narrative>WHEN The input parameter of itemsPerPage is set to a string value
THEN A response code of 400 should be returned along with an appropriate user error message</narrative>
    <display x="15" y="765" w="240" h="60" />
    <onsuccess>2c9f56c3-23bb-4d78-b82d-f254a818b872</onsuccess>
  </stage>
  <stage stageid="77bc8c2c-ea38-4821-ba4e-524e0c68dca6" name="Negative itemsPerPage value" type="Block">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="-45" w="120" h="195" />
    <font family="Segoe UI" size="10" style="Regular" color="FFCC00" />
  </stage>
  <stage stageid="e3d367fa-94e5-44db-b062-d1af4f2f2415" name="Decimal itemsPerPage value" type="Block">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="240" w="120" h="195" />
    <font family="Segoe UI" size="10" style="Regular" color="FFCC00" />
  </stage>
  <stage stageid="84843ded-d283-42d4-a757-356e6cf445f8" name="itemsPerPage value of 0" type="Block">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="525" w="120" h="195" />
    <font family="Segoe UI" size="10" style="Regular" color="FFCC00" />
  </stage>
  <stage stageid="db126208-1696-41f7-93cd-c4d1da65df63" name="itemsPerPage value string type" type="Block">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="810" w="120" h="195" />
    <font family="Segoe UI" size="10" style="Regular" color="FFCC00" />
  </stage>
  <stage stageid="1c16f56a-09a0-4627-93e0-78dccec644e9" name="Expected resource name" type="Data">
    <display x="-240" y="-105" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="80649794-7e8a-47e8-a534-2e00f31a9ff5" name="Store resource name" type="Calculation">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-690" w="90" h="30" />
    <onsuccess>65e053ec-1fa4-4b13-8509-23ae9ad8a7ef</onsuccess>
    <calculation expression="Replace(GetResourceName(), &quot;_debug&quot;, &quot;&quot;) &amp; &quot;:&quot; &amp; [Port 1]" stage="Expected resource name" />
  </stage>
  <stage stageid="67397160-ba15-4a20-8e1a-58214d9d3d6d" name="Sessions" type="Collection">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="-150" y="-735" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
    <collectioninfo>
      <field name="Session" type="text" />
    </collectioninfo>
    <initialvalue>
      <row>
        <field name="Session" type="text" value="Process BP-1767" />
      </row>
      <row>
        <field name="Session" type="text" value="Process BP-1767" />
      </row>
      <row>
        <field name="Session" type="text" value="Process BP-1767" />
      </row>
      <row>
        <field name="Session" type="text" value="Process BP-1767" />
      </row>
      <row>
        <field name="Session" type="text" value="Process BP-1767" />
      </row>
      <row>
        <field name="Session" type="text" value="Process BP-1767" />
      </row>
      <row>
        <field name="Session" type="text" value="Process BP-1767" />
      </row>
      <row>
        <field name="Session" type="text" value="Process BP-1767" />
      </row>
      <row>
        <field name="Session" type="text" value="Process BP-1767" />
      </row>
      <row>
        <field name="Session" type="text" value="Process BP-1767" />
      </row>
    </initialvalue>
  </stage>
  <stage stageid="a8883f38-743a-445a-a580-69dc708f2036" name="Create 10 sessions" type="LoopStart">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-450" w="90" h="30" />
    <onsuccess>46743857-335c-4ac8-af7e-000aa36c04a5</onsuccess>
    <groupid>e03a3d2b-2f97-4b91-955b-49b619b5cda5</groupid>
    <looptype>ForEach</looptype>
    <loopdata>Sessions</loopdata>
  </stage>
  <stage stageid="f0091075-6241-4a97-9850-e7880b740f01" name="Create 10 sessions" type="LoopEnd">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-360" w="90" h="30" />
    <onsuccess>2bf8b8dc-e8d7-4ddb-ae79-6232890e0fcb</onsuccess>
    <groupid>e03a3d2b-2f97-4b91-955b-49b619b5cda5</groupid>
  </stage>
  <stage stageid="a76e7243-ecf0-452e-bba0-1417a1e98d04" name="Sessions List from Control Room" type="Collection">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="-150" y="-705" w="120" h="30" />
    <datatype>collection</datatype>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="7dbe724d-2e1c-4e8d-960b-d9c130668ca0" name="End3" type="End">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="510" />
  </stage>
  <stage stageid="b4f8de44-62a0-4f54-be13-083514ad696c" name="Number of rows in collection" type="Data">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="-150" y="-675" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="43f01618-1e1c-48d8-8b45-391ced84bf44" name="11 rows or more found?" type="Decision">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="0" y="-90" w="90" h="30" />
    <decision expression="[Number of rows in collection]&gt;=11" />
    <ontrue>48adf47c-d7f7-4f8e-8f8a-bd7a3e6bf0dd</ontrue>
    <onfalse>28dfc1f0-cb54-4d4e-a84d-2429ce325bba</onfalse>
  </stage>
  <stage stageid="83bb4afa-8c61-4db2-8edf-2d1ca50a1e39" name="Get end Date Time" type="Calculation">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="465" w="90" h="30" />
    <onsuccess>7dbe724d-2e1c-4e8d-960b-d9c130668ca0</onsuccess>
    <calculation expression="Now()" stage="Expected end time" />
  </stage>
  <stage stageid="54d13aed-e43b-468e-aab9-65e1175cc58a" name="GET Sessions" type="Action">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-15" w="90" h="30" />
    <inputs>
      <input type="text" name="Process name starts with" friendlyname="Process name starts with" expr="" />
      <input type="number" name="Session number starts with" friendlyname="Session number starts with" expr="" />
      <input type="text" name="Resource name starts with" friendlyname="Resource name starts with" expr="" />
      <input type="text" name="Username starts with" friendlyname="Username starts with" expr="" />
      <input type="text" name="Status" friendlyname="Status" expr="" />
      <input type="datetime" name="Start time greater than" friendlyname="Start time greater than" expr="" />
      <input type="datetime" name="Start time less than" friendlyname="Start time less than" expr="" />
      <input type="datetime" name="End time greater than" friendlyname="End time greater than" expr="" />
      <input type="datetime" name="End time less than" friendlyname="End time less than" expr="" />
      <input type="text" name="Latest stage starts with" friendlyname="Latest stage starts with" expr="" />
      <input type="datetime" name="Stage started greater than" friendlyname="Stage started greater than" expr="" />
      <input type="datetime" name="Stage started less than" friendlyname="Stage started less than" expr="" />
      <input type="text" name="Sort by" friendlyname="Sort by" expr="" />
      <input type="number" name="Page number" friendlyname="Page number" expr="" />
      <input type="number" name="Items per page" friendlyname="Items per page" expr="-1" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="Response Content" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Status Code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>7ef2e13a-01de-49f7-a3ea-8cad4254d427</onsuccess>
    <resource object="Blue Prism - API - Sessions" action="GET Sessions" />
  </stage>
  <stage stageid="c1d7ff26-a667-432e-9d59-87a4f0dd5b03" name="Resume4" type="Resume">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <loginhibit />
    <display x="15" y="120" w="90" h="30" />
    <onsuccess>ad51d6fb-a812-4623-8075-ebe344d56770</onsuccess>
  </stage>
  <stage stageid="7ef2e13a-01de-49f7-a3ea-8cad4254d427" name="Failed" type="Exception">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <display x="105" y="-15" w="30" h="30" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Scenario 1 failed itemsPerPage- expected Get Sessions action to not be accpeted and to cause an excpetion instead but this is not the case&quot;" />
  </stage>
  <stage stageid="5bb97ec6-edcc-499a-9ee5-9c4e59e40c30" name="http status code and response as expected?" type="Decision">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <display x="15" y="75" w="90" h="30" />
    <decision expression="InStr(ExceptionDetail(),&quot;Unexpected error Error during Web API HTTP Request&quot;&amp;NewLine()&amp;&#xA;&quot;HTTP Status Code: 400&quot;&amp;NewLine()&amp;&#xA;&quot;HTTP Response Content: [{&quot;&quot;invalidField&quot;&quot;:&quot;&quot;ItemsPerPage&quot;&quot;,&quot;&quot;message&quot;&quot;:&quot;&quot;'Items Per Page' must be between 1 and 1000. You entered -1.&quot;&quot;}]&quot;)&lt;&gt;0" />
    <ontrue>c1d7ff26-a667-432e-9d59-87a4f0dd5b03</ontrue>
    <onfalse>3c809437-e101-470b-a44c-fe6f1178c7e6</onfalse>
  </stage>
  <stage stageid="3c809437-e101-470b-a44c-fe6f1178c7e6" name="Failed" type="Exception">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <display x="105" y="75" w="30" h="30" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Incorrect response returned for -1 Negative itemsPerPage&quot;" />
  </stage>
  <stage stageid="3ef0ff9d-fb90-4e1a-b535-3ad51189625e" name="Recover4" type="Recover">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <loginhibit />
    <display x="15" y="30" w="90" h="30" />
    <onsuccess>5bb97ec6-edcc-499a-9ee5-9c4e59e40c30</onsuccess>
  </stage>
  <stage stageid="bc817395-51e4-4102-8845-9900b547cc20" name="GET Sessions" type="Action">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="270" w="90" h="30" />
    <inputs>
      <input type="text" name="Process name starts with" friendlyname="Process name starts with" expr="" />
      <input type="number" name="Session number starts with" friendlyname="Session number starts with" expr="" />
      <input type="text" name="Resource name starts with" friendlyname="Resource name starts with" expr="" />
      <input type="text" name="Username starts with" friendlyname="Username starts with" expr="" />
      <input type="text" name="Status" friendlyname="Status" expr="" />
      <input type="datetime" name="Start time greater than" friendlyname="Start time greater than" expr="" />
      <input type="datetime" name="Start time less than" friendlyname="Start time less than" expr="" />
      <input type="datetime" name="End time greater than" friendlyname="End time greater than" expr="" />
      <input type="datetime" name="End time less than" friendlyname="End time less than" expr="" />
      <input type="text" name="Latest stage starts with" friendlyname="Latest stage starts with" expr="" />
      <input type="datetime" name="Stage started greater than" friendlyname="Stage started greater than" expr="" />
      <input type="datetime" name="Stage started less than" friendlyname="Stage started less than" expr="" />
      <input type="text" name="Sort by" friendlyname="Sort by" expr="" />
      <input type="number" name="Page number" friendlyname="Page number" expr="" />
      <input type="number" name="Items per page" friendlyname="Items per page" expr="1.5" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="Response Content" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Status Code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>7bddadd5-03f3-4842-bf05-7585b9e62d80</onsuccess>
    <resource object="Blue Prism - API - Sessions" action="GET Sessions" />
  </stage>
  <stage stageid="9d9aafc4-4757-4fae-abb8-026919571ede" name="Resume5" type="Resume">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <loginhibit />
    <display x="15" y="405" w="90" h="30" />
    <onsuccess>77680164-c03e-46b6-a1dc-cf6af8ba8265</onsuccess>
  </stage>
  <stage stageid="7bddadd5-03f3-4842-bf05-7585b9e62d80" name="Failed" type="Exception">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <display x="105" y="270" w="30" h="30" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Scenario 1 failed for itemsPerPage  - expected Get Sessions action to not be accpeted and to cause an excpetion instead but this is not the case&quot;" />
  </stage>
  <stage stageid="bc2eb9eb-c47f-4d7c-a755-d107728da4a2" name="http status code and response as expected?" type="Decision">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <display x="15" y="360" w="90" h="30" />
    <decision expression="InStr(ExceptionDetail(),&quot;Unexpected error Error during Web API HTTP Request&quot;&amp;NewLine()&amp;&#xA;&quot;HTTP Status Code: 400&quot;&amp;NewLine()&amp;&#xA;&quot;HTTP Response Content: [{&quot;&quot;invalidField&quot;&quot;:&quot;&quot;ItemsPerPage&quot;&quot;,&quot;&quot;message&quot;&quot;:&quot;&quot;The value '1.5' is not valid for ItemsPerPage.&quot;&quot;}]&quot;)&lt;&gt;0" />
    <ontrue>9d9aafc4-4757-4fae-abb8-026919571ede</ontrue>
    <onfalse>9eb89bdb-a977-44bb-9268-5800d061eaf2</onfalse>
  </stage>
  <stage stageid="9eb89bdb-a977-44bb-9268-5800d061eaf2" name="Failed" type="Exception">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <display x="105" y="360" w="30" h="30" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Incorrect response returned for 1.5 decimal itemsPerPage&quot;" />
  </stage>
  <stage stageid="43fa254a-ca95-4910-8585-3a7eeac31fc5" name="Recover5" type="Recover">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <loginhibit />
    <display x="15" y="315" w="90" h="30" />
    <onsuccess>bc2eb9eb-c47f-4d7c-a755-d107728da4a2</onsuccess>
  </stage>
  <stage stageid="124ac9f6-5834-4c50-a27d-4087f09fe409" name="GET Sessions" type="Action">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="555" w="90" h="30" />
    <inputs>
      <input type="text" name="Process name starts with" friendlyname="Process name starts with" expr="" />
      <input type="number" name="Session number starts with" friendlyname="Session number starts with" expr="" />
      <input type="text" name="Resource name starts with" friendlyname="Resource name starts with" expr="" />
      <input type="text" name="Username starts with" friendlyname="Username starts with" expr="" />
      <input type="text" name="Status" friendlyname="Status" expr="" />
      <input type="datetime" name="Start time greater than" friendlyname="Start time greater than" expr="" />
      <input type="datetime" name="Start time less than" friendlyname="Start time less than" expr="" />
      <input type="datetime" name="End time greater than" friendlyname="End time greater than" expr="" />
      <input type="datetime" name="End time less than" friendlyname="End time less than" expr="" />
      <input type="text" name="Latest stage starts with" friendlyname="Latest stage starts with" expr="" />
      <input type="datetime" name="Stage started greater than" friendlyname="Stage started greater than" expr="" />
      <input type="datetime" name="Stage started less than" friendlyname="Stage started less than" expr="" />
      <input type="text" name="Sort by" friendlyname="Sort by" expr="" />
      <input type="number" name="Page number" friendlyname="Page number" expr="" />
      <input type="number" name="Items per page" friendlyname="Items per page" expr="0" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="Response Content" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Status Code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>fbb48b54-a4ec-4f0d-8600-bffa7bf11649</onsuccess>
    <resource object="Blue Prism - API - Sessions" action="GET Sessions" />
  </stage>
  <stage stageid="1ad6ce9b-978b-40a3-9980-44c09922d35e" name="Resume6" type="Resume">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <loginhibit />
    <display x="15" y="690" w="90" h="30" />
    <onsuccess>15d559d7-9c8b-4488-9bbd-837fff11fabc</onsuccess>
  </stage>
  <stage stageid="fbb48b54-a4ec-4f0d-8600-bffa7bf11649" name="Failed" type="Exception">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <display x="105" y="555" w="30" h="30" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Scenario 1 failed for itemsPerPage  - expected Get Sessions action to not be accpeted and to cause an excpetion instead but this is not the case&quot;" />
  </stage>
  <stage stageid="5296d21a-66bf-4ec7-90e5-b328614f4364" name="Failed" type="Exception">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <display x="105" y="645" w="30" h="30" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Incorrect response returned for 0 as a value in itemsPerPage field&quot;" />
  </stage>
  <stage stageid="478e3b59-8ba5-4241-9b43-a178c958e60f" name="Recover6" type="Recover">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <loginhibit />
    <display x="15" y="600" w="90" h="30" />
    <onsuccess>3d1301dc-1d13-485f-ac93-9fc57ad67f6e</onsuccess>
  </stage>
  <stage stageid="3d1301dc-1d13-485f-ac93-9fc57ad67f6e" name="http status code and response as expected?" type="Decision">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <display x="15" y="645" w="90" h="30" />
    <decision expression="InStr(ExceptionDetail(),&quot;Unexpected error Error during Web API HTTP Request&quot;&amp;NewLine()&amp;&#xA;&quot;HTTP Status Code: 400&quot;&amp;NewLine()&amp;&#xA;&quot;HTTP Response Content: [{&quot;&quot;invalidField&quot;&quot;:&quot;&quot;ItemsPerPage&quot;&quot;,&quot;&quot;message&quot;&quot;:&quot;&quot;'Items Per Page' must be between 1 and 1000. You entered 0.&quot;&quot;}]&quot;)&lt;&gt;0" />
    <ontrue>1ad6ce9b-978b-40a3-9980-44c09922d35e</ontrue>
    <onfalse>5296d21a-66bf-4ec7-90e5-b328614f4364</onfalse>
  </stage>
  <stage stageid="ec24223f-ca98-4c6a-81de-40eb40365b8b" name="When:" type="Note">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <narrative>WHEN The input parameter of itemsPerPage is set to a value of 1001
THEN A response code of 400 should be returned along with an appropriate user error message</narrative>
    <display x="15" y="1050" w="240" h="60" />
    <onsuccess>6ab95e57-fc42-434c-adcf-abdae494e92c</onsuccess>
  </stage>
  <stage stageid="89b28faf-3af9-49a9-800d-58fe6874cc9c" name="itemsPerPage value over 1000" type="Block">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="1095" w="120" h="195" />
    <font family="Segoe UI" size="10" style="Regular" color="FFCC00" />
  </stage>
  <stage stageid="6ab95e57-fc42-434c-adcf-abdae494e92c" name="GET Sessions" type="Action">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="1125" w="90" h="30" />
    <inputs>
      <input type="text" name="Process name starts with" friendlyname="Process name starts with" expr="" />
      <input type="number" name="Session number starts with" friendlyname="Session number starts with" expr="" />
      <input type="text" name="Resource name starts with" friendlyname="Resource name starts with" expr="" />
      <input type="text" name="Username starts with" friendlyname="Username starts with" expr="" />
      <input type="text" name="Status" friendlyname="Status" expr="" />
      <input type="datetime" name="Start time greater than" friendlyname="Start time greater than" expr="" />
      <input type="datetime" name="Start time less than" friendlyname="Start time less than" expr="" />
      <input type="datetime" name="End time greater than" friendlyname="End time greater than" expr="" />
      <input type="datetime" name="End time less than" friendlyname="End time less than" expr="" />
      <input type="text" name="Latest stage starts with" friendlyname="Latest stage starts with" expr="" />
      <input type="datetime" name="Stage started greater than" friendlyname="Stage started greater than" expr="" />
      <input type="datetime" name="Stage started less than" friendlyname="Stage started less than" expr="" />
      <input type="text" name="Sort by" friendlyname="Sort by" expr="" />
      <input type="number" name="Page number" friendlyname="Page number" expr="" />
      <input type="number" name="Items per page" friendlyname="Items per page" expr="1001" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="Response Content" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Status Code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>78dad649-035d-4994-a470-290fbc571f3f</onsuccess>
    <resource object="Blue Prism - API - Sessions" action="GET Sessions" />
  </stage>
  <stage stageid="712c1425-163b-46ae-bf8b-571abedb1eaf" name="Resume8" type="Resume">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <loginhibit />
    <display x="15" y="1260" w="90" h="30" />
    <onsuccess>c0dc0855-bf49-4520-baa8-0cd100c5b3a9</onsuccess>
  </stage>
  <stage stageid="78dad649-035d-4994-a470-290fbc571f3f" name="Failed" type="Exception">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <display x="105" y="1125" w="30" h="30" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Scenario 1 failed for itemsPerPage  - expected Get Sessions action to not be accpeted and to cause an excpetion instead but this is not the case&quot;" />
  </stage>
  <stage stageid="d6b917bf-52ff-4be3-941f-041d98384d9f" name="Failed" type="Exception">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <display x="105" y="1215" w="30" h="30" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Incorrect response returned for 1001 as a value in itemsPerPage field&quot;" />
  </stage>
  <stage stageid="a892d5ac-4f71-4ad3-b45d-4d22d844d153" name="Recover8" type="Recover">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <loginhibit />
    <display x="15" y="1170" w="90" h="30" />
    <onsuccess>f74c20dc-4e22-4205-9e6f-89588694986f</onsuccess>
  </stage>
  <stage stageid="f74c20dc-4e22-4205-9e6f-89588694986f" name="http status code and response as expected?" type="Decision">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <display x="15" y="1215" w="90" h="30" />
    <decision expression="InStr(ExceptionDetail(),&quot;Unexpected error Error during Web API HTTP Request&quot;&amp;NewLine()&amp;&#xA;&quot;HTTP Status Code: 400&quot;&amp;NewLine()&amp;&#xA;&quot;HTTP Response Content: [{&quot;&quot;invalidField&quot;&quot;:&quot;&quot;ItemsPerPage&quot;&quot;,&quot;&quot;message&quot;&quot;:&quot;&quot;'Items Per Page' must be between 1 and 1000. You entered 1001.&quot;&quot;}]&quot;)&lt;&gt;0" />
    <ontrue>712c1425-163b-46ae-bf8b-571abedb1eaf</ontrue>
    <onfalse>d6b917bf-52ff-4be3-941f-041d98384d9f</onfalse>
  </stage>
  <stage stageid="2c9f56c3-23bb-4d78-b82d-f254a818b872" name="GET Sessions" type="Action">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="840" w="90" h="30" />
    <inputs>
      <input type="text" name="Process name starts with" friendlyname="Process name starts with" expr="" />
      <input type="number" name="Session number starts with" friendlyname="Session number starts with" expr="" />
      <input type="text" name="Resource name starts with" friendlyname="Resource name starts with" expr="" />
      <input type="text" name="Username starts with" friendlyname="Username starts with" expr="" />
      <input type="text" name="Status" friendlyname="Status" expr="" />
      <input type="datetime" name="Start time greater than" friendlyname="Start time greater than" expr="" />
      <input type="datetime" name="Start time less than" friendlyname="Start time less than" expr="" />
      <input type="datetime" name="End time greater than" friendlyname="End time greater than" expr="" />
      <input type="datetime" name="End time less than" friendlyname="End time less than" expr="" />
      <input type="text" name="Latest stage starts with" friendlyname="Latest stage starts with" expr="" />
      <input type="datetime" name="Stage started greater than" friendlyname="Stage started greater than" expr="" />
      <input type="datetime" name="Stage started less than" friendlyname="Stage started less than" expr="" />
      <input type="text" name="Sort by" friendlyname="Sort by" expr="" />
      <input type="number" name="Page number" friendlyname="Page number" expr="" />
      <input type="number" name="Items per page" friendlyname="Items per page" expr="&quot;string&quot;" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="Response Content" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Status Code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>4a456676-3b67-4736-a4ef-f9111dce7ec0</onsuccess>
    <resource object="Blue Prism - API - Sessions" action="GET Sessions" />
  </stage>
  <stage stageid="98fb91fc-c193-44a2-9a7d-03c6f1be204a" name="Resume7" type="Resume">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <loginhibit />
    <display x="15" y="975" w="90" h="30" />
    <onsuccess>ec24223f-ca98-4c6a-81de-40eb40365b8b</onsuccess>
  </stage>
  <stage stageid="4a456676-3b67-4736-a4ef-f9111dce7ec0" name="Failed" type="Exception">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <display x="105" y="840" w="30" h="30" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Scenario 1 failed for itemsPerPage - expected Get Sessions action to not be accpeted and to cause an excpetion instead but this is not the case&quot;" />
  </stage>
  <stage stageid="2e53b32a-75c8-4d6f-b85f-58f9a8bfcd2c" name="Failed" type="Exception">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <display x="105" y="930" w="30" h="30" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Incorrect response returned for string type value in itemsPerPage field&quot;" />
  </stage>
  <stage stageid="ba1f1e8f-0359-44e4-9554-d0f7dfef067e" name="Recover7" type="Recover">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <loginhibit />
    <display x="15" y="885" w="90" h="30" />
    <onsuccess>44e59fc3-307f-42b1-a1ba-0c49e4958539</onsuccess>
  </stage>
  <stage stageid="44e59fc3-307f-42b1-a1ba-0c49e4958539" name="http status code and response as expected?" type="Decision">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <display x="15" y="930" w="90" h="30" />
    <decision expression="InStr(ExceptionDetail(),&quot;Unexpected error Error during Web API HTTP Request&quot;&amp;NewLine()&amp;&#xA;&quot;HTTP Status Code: 400&quot;&amp;NewLine()&amp;&#xA;&quot;HTTP Response Content: [{&quot;&quot;invalidField&quot;&quot;:&quot;&quot;ItemsPerPage&quot;&quot;,&quot;&quot;message&quot;&quot;:&quot;&quot;The value 'string' is not valid for ItemsPerPage.&quot;&quot;}]&quot;)&lt;&gt;0" />
    <ontrue>98fb91fc-c193-44a2-9a7d-03c6f1be204a</ontrue>
    <onfalse>2e53b32a-75c8-4d6f-b85f-58f9a8bfcd2c</onfalse>
  </stage>
  <stage stageid="c0dc0855-bf49-4520-baa8-0cd100c5b3a9" name="End2" type="End">
    <subsheetid>b05944fd-1337-4ce4-80ea-5db386564f3b</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="1320" />
  </stage>
  <stage stageid="708b80fe-9f7d-4c0e-87ea-3e286b150d9a" name="Local variables" type="Block">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-270" y="-45" w="150" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="49b4a30a-4d86-4a66-b030-bf4f016cd6a0" name="Response Code and Session Count correct?" type="Decision">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="15" y="150" w="90" h="30" />
    <decision expression="[HTTP Status Code]=&quot;200&quot;&#xA;AND&#xA;[Number of Rows Returned]=10" />
    <ontrue>6d305a17-d0af-415e-a150-1286bcf6f64e</ontrue>
    <onfalse>90863ac9-5064-4945-9c92-63fe6296f2a5</onfalse>
  </stage>
  <stage stageid="08afa1ae-e671-4918-bbc1-4b6909e52cbd" name="Default itemsPerPage and paginationToken" type="Block">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-105" y="-60" w="255" h="555" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="938a8880-9bd8-4602-a3b9-d44b7355ff27" name="Convert Response to Collection" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="15" w="90" h="30" />
    <inputs>
      <input type="text" name="json" friendlyname="json" expr="[Response Content]" />
    </inputs>
    <outputs>
      <output type="collection" name="Result" friendlyname="Result" stage="Default Result Collection" />
    </outputs>
    <onsuccess>0af48d1b-4547-47b4-966d-a5fc645e0021</onsuccess>
    <resource object="Utility - JSON" action="JSON to Collection" />
  </stage>
  <stage stageid="356368c6-2b40-45fa-bc27-8be3c7c86951" name="Count Rows" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="105" w="90" h="30" />
    <inputs>
      <input type="text" name="Collection Name" friendlyname="Collection Name" narrative="The name of the collection to act upon" expr="&quot;Result Collection&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The number of rows counted in the collection" stage="Number of Rows Returned" />
    </outputs>
    <onsuccess>49b4a30a-4d86-4a66-b030-bf4f016cd6a0</onsuccess>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Count Rows" />
  </stage>
  <stage stageid="087db177-2c5f-43bb-8848-f07e8d4d634b" name="Number of Rows Returned" type="Data">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="-195" y="-15" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="90863ac9-5064-4945-9c92-63fe6296f2a5" name="FAIL" type="Exception">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="105" y="150" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Incorrect response returned scenario 2 - Check Default itemsPerPage and paginationToken&quot;" />
  </stage>
  <stage stageid="56beb36a-da10-4815-aa38-dcbe6ae6fe27" name="GET Sessions" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="-30" w="90" h="30" />
    <inputs>
      <input type="text" name="Process name starts with" friendlyname="Process name starts with" expr="" />
      <input type="number" name="Session number starts with" friendlyname="Session number starts with" expr="" />
      <input type="text" name="Resource name starts with" friendlyname="Resource name starts with" expr="" />
      <input type="text" name="Username starts with" friendlyname="Username starts with" expr="" />
      <input type="text" name="Status" friendlyname="Status" expr="" />
      <input type="datetime" name="Start time greater than" friendlyname="Start time greater than" expr="[Expected start time]" />
      <input type="datetime" name="Start time less than" friendlyname="Start time less than" expr="" />
      <input type="datetime" name="End time greater than" friendlyname="End time greater than" expr="" />
      <input type="datetime" name="End time less than" friendlyname="End time less than" expr="" />
      <input type="text" name="Latest stage starts with" friendlyname="Latest stage starts with" expr="" />
      <input type="datetime" name="Stage started greater than" friendlyname="Stage started greater than" expr="" />
      <input type="datetime" name="Stage started less than" friendlyname="Stage started less than" expr="" />
      <input type="text" name="Sort by" friendlyname="Sort by" expr="" />
      <input type="number" name="Page number" friendlyname="Page number" expr="" />
      <input type="number" name="Items per page" friendlyname="Items per page" expr="" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="Response Content" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Status Code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>938a8880-9bd8-4602-a3b9-d44b7355ff27</onsuccess>
    <resource object="Blue Prism - API - Sessions" action="GET Sessions" />
  </stage>
  <stage stageid="be17851a-b569-4f42-a148-f507cf407b1f" name="Create 1 pending session" type="Block">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-60" y="-270" w="120" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="68b7737b-d5fe-4765-a243-1aefd5c2cc39" name="Expected Status 2" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-405" y="-30" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">Pending</initialvalue>
  </stage>
  <stage stageid="15a8b24a-61e4-4b9e-bb11-292aab6485e0" name="Process two run 1 time" type="Block">
    <loginhibit onsuccess="true" />
    <display x="-480" y="-90" w="150" h="90" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="664070de-d92a-4b67-a963-efc0af55bb62" name="Expected Process Name 2" type="Data">
    <loginhibit onsuccess="true" />
    <display x="-405" y="-60" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue xml:space="preserve">Process BP-1767 Two</initialvalue>
    <alwaysinit />
  </stage>
  <stage stageid="542628ac-b9e7-49ef-a637-b9f65e8cb1bb" name="Create a Pending session" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-240" w="90" h="30" />
    <inputs>
      <input type="text" name="Process Name" friendlyname="Process Name" narrative="The name of the process of interest - if it is not found, the 'Ungrouped Processes' group will be opened and checked" expr="[Expected Process Name 2]" />
      <input type="text" name="Resource Name" friendlyname="Resource Name" narrative="The name of the Resource PC on which to create the session" expr="[Expected resource name]" />
      <input type="text" name="Group to Expand" friendlyname="Group to Expand" narrative="Default value is 'Default'." expr="&quot;Default&quot;" />
      <input type="flag" name="Negative Test" friendlyname="Negative Test" narrative="Check for negative testing " expr="False" />
      <input type="text" name="Resource Group to Expand" friendlyname="Resource Group to Expand" narrative="Default value is 'Default'" expr="&quot;Default&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Position of Pending Session" friendlyname="Position of Pending Session" narrative="The 1-based index of the newly created session in the Environment list in Control Room" stage="" />
      <output type="text" name="Error Message (expected)" friendlyname="Error Message (expected)" narrative="Error message returned (negative testing)" stage="" />
    </outputs>
    <onsuccess>3a3e9def-0ec5-4594-8b17-456d623be74d</onsuccess>
    <resource object="Blue Prism - Control - Session Management" action="Create Session" />
  </stage>
  <stage stageid="28dfc1f0-cb54-4d4e-a84d-2429ce325bba" name="Not all sessions required are created" type="Exception">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="90" y="-90" />
    <exception localized="yes" type="System Exception" detail="&quot;Not all 11 sessions are created, need 11 or more sessions to test&quot;" />
  </stage>
  <stage stageid="aae9e4dd-fb73-45a4-a6dd-a7a6addab4d8" name="When:" type="Note">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <narrative>WHEN the default parameter of itemsPerPage has no set values 
AND Get sessions was requested
THEN a response code of 200 should be returned
AND default number of 10 rows will display
AND the 11th session will not display</narrative>
    <display x="15" y="-135" w="240" h="120" />
    <onsuccess>56beb36a-da10-4815-aa38-dcbe6ae6fe27</onsuccess>
  </stage>
  <stage stageid="cb2aeb77-d3cf-4187-af5b-c1fd3ef1eef1" name="Anchor5" type="Anchor">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="180" y="-135" w="10" h="10" />
    <onsuccess>a56e6db5-d442-4bbc-bf27-232f94fe6869</onsuccess>
  </stage>
  <stage stageid="70dbe037-a88c-4829-b130-e9b51dfedb83" name="Search through rows" type="LoopStart">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="240" w="90" h="30" />
    <onsuccess>13af86e9-a87d-4fc0-8f92-e201b63bcd47</onsuccess>
    <groupid>9b29545d-280f-4e1e-ab1f-eaec52c1771f</groupid>
    <looptype>ForEach</looptype>
    <loopdata>Result Collection.JSON:Array</loopdata>
  </stage>
  <stage stageid="22854c39-d943-47a6-b68f-91146e3e07ad" name="Search through rows" type="LoopEnd">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="330" w="90" h="30" />
    <onsuccess>05edc197-fb65-490b-804e-c8dbd4bf16e5</onsuccess>
    <groupid>9b29545d-280f-4e1e-ab1f-eaec52c1771f</groupid>
  </stage>
  <stage stageid="1b1fd1dd-fa3a-43c9-896f-99964c4154c4" name="FAIL" type="Exception">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="105" y="285" />
    <exception localized="yes" type="Unexpected Values" detail="&quot;Scenario 2 failed - Did not expect process number 2 - check Default itemsPerPage and pageNumber scenario&quot;" />
  </stage>
  <stage stageid="6d305a17-d0af-415e-a150-1286bcf6f64e" name="Search sessions" type="LoopStart">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="195" w="90" h="30" />
    <onsuccess>70dbe037-a88c-4829-b130-e9b51dfedb83</onsuccess>
    <groupid>b0e07456-4d63-46f0-84a0-42a5f2697207</groupid>
    <looptype>ForEach</looptype>
    <loopdata>Result Collection</loopdata>
  </stage>
  <stage stageid="05edc197-fb65-490b-804e-c8dbd4bf16e5" name="Search sessions" type="LoopEnd">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="375" w="90" h="30" />
    <onsuccess>0b1a2276-d8ba-4456-9b89-d90d53b7b48e</onsuccess>
    <groupid>b0e07456-4d63-46f0-84a0-42a5f2697207</groupid>
  </stage>
  <stage stageid="13af86e9-a87d-4fc0-8f92-e201b63bcd47" name="Check did not return the 11th session " type="Decision">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="15" y="285" w="90" h="30" />
    <decision expression="[Result Collection.JSON:Array.processName]=[Expected Process Name 2]" />
    <ontrue>1b1fd1dd-fa3a-43c9-896f-99964c4154c4</ontrue>
    <onfalse>22854c39-d943-47a6-b68f-91146e3e07ad</onfalse>
  </stage>
  <stage stageid="5c25502c-a16e-4634-b34f-e4356e08264c" name="Count Rows" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-135" w="90" h="30" />
    <inputs>
      <input type="text" name="Collection Name" friendlyname="Collection Name" narrative="The name of the collection to act upon" expr="&quot;Sessions List from Control Room&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The number of rows counted in the collection" stage="Number of rows in collection" />
    </outputs>
    <onsuccess>43f01618-1e1c-48d8-8b45-391ced84bf44</onsuccess>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Count Rows" />
  </stage>
  <stage stageid="3a3e9def-0ec5-4594-8b17-456d623be74d" name="Get Sessions from Control Room" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-180" w="90" h="30" />
    <outputs>
      <output type="collection" name="Sessions" friendlyname="Sessions" narrative="A list of the sessions that are in the list." stage="Sessions List from Control Room" />
    </outputs>
    <onsuccess>5c25502c-a16e-4634-b34f-e4356e08264c</onsuccess>
    <resource object="Blue Prism - Control - Session Management" action="Get Sessions" />
  </stage>
  <stage stageid="0af48d1b-4547-47b4-966d-a5fc645e0021" name="Return to Collection" type="Calculation">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="60" w="90" h="30" />
    <onsuccess>356368c6-2b40-45fa-bc27-8be3c7c86951</onsuccess>
    <calculation expression="[Default Result Collection.items]" stage="Result Collection" />
  </stage>
  <stage stageid="b858c6be-9b4d-4b16-bad5-97a5b46daef1" name="Default Result Collection" type="Collection">
    <display x="-240" y="210" w="120" h="30" />
    <datatype>collection</datatype>
    <alwaysinit />
  </stage>
  <stage stageid="4761e953-02c9-48ee-af7d-eeffad2dd640" name="Pagination Tokens" type="Block">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-270" y="30" w="150" h="300" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="f283b141-5bbf-498b-a614-f6e3cb51d51c" name="Note3" type="Note">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <narrative>Default items per page = 10

No Pagination Token = Main page/1st Page

Sessions in total  = 11</narrative>
    <display x="-195" y="105" w="120" h="120" />
    <font family="Segoe UI" size="10" style="Regular" color="993366" />
  </stage>
  <stage stageid="3ec5a8ba-ebe8-433b-b1ee-1db0e83af125" name="Pagination Token for Session Items per page =10, page 2" type="Data">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-195" y="180" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="846dec02-8a99-4393-b6c1-c4eaf27612d8" name="Pagination Token for Session Items per page = 1, page 2" type="Data">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-195" y="210" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="2264e7be-b721-474a-a14c-6364dc807ed2" name="Pagination Token for Session Items per page =1, page 3" type="Data">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-195" y="240" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="0b1a2276-d8ba-4456-9b89-d90d53b7b48e" name="Pagination Token Returned?" type="Decision">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="15" y="420" w="90" h="30" />
    <decision expression="[Default Result Collection.pagingToken]&lt;&gt;&quot;&quot;" />
    <ontrue>d3cf4944-75bb-4f9d-beb1-5e575fe9ff19</ontrue>
    <onfalse>33d207ca-e0b2-4491-ba93-1670073c3ff8</onfalse>
  </stage>
  <stage stageid="33d207ca-e0b2-4491-ba93-1670073c3ff8" name="Pagination Token does not exist" type="Exception">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="105" y="420" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Scenario 2 failed when checking default values: Pagination token was not returned&quot;" />
  </stage>
  <stage stageid="d3cf4944-75bb-4f9d-beb1-5e575fe9ff19" name="Store Pagination Token for Navigating" type="Calculation">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="465" w="90" h="30" />
    <onsuccess>624d2fd6-9108-482a-9724-bf7402694434</onsuccess>
    <calculation expression="[Default Result Collection.pagingToken]" stage="Pagination Token for Session Items per page =10, page 2" />
  </stage>
  <stage stageid="624d2fd6-9108-482a-9724-bf7402694434" name="When:" type="Note">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <narrative>WHEN the parameter of itemsPerPage were left at default values and paginationToken value is set to page #2
AND Get Sessions was requested
THEN a response code of 200 should be returned
AND the remaining row (1 row) will display
AND the 11th session will display
AND there will be no more paginationToken due to no more pages to navigate forward.</narrative>
    <display x="15" y="555" w="240" h="90" />
    <onsuccess>22af3875-a574-497e-929f-0d4aaacba1d8</onsuccess>
  </stage>
  <stage stageid="57eee158-4f14-4026-86a8-79e0d3310f26" name="Default itemsPerPage and paginationToken Page #2" type="Block">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-105" y="615" w="255" h="510" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="9ffab34a-aaed-4a6a-9064-c53cef0bf120" name="Response Code and Session Count correct?" type="Decision">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="15" y="825" w="90" h="30" />
    <decision expression="[HTTP Status Code]=&quot;200&quot;&#xA;AND&#xA;[Number of Rows Returned]=1" />
    <ontrue>ad192dbe-955d-4d87-a726-58f1b7fe13f7</ontrue>
    <onfalse>8115a7e8-08ab-4566-bef8-2d82f46b5cc7</onfalse>
  </stage>
  <stage stageid="a05245ea-5967-4280-b49c-e51280c49654" name="Convert Response to Collection" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="690" w="90" h="30" />
    <inputs>
      <input type="text" name="json" friendlyname="json" expr="[Response Content]" />
    </inputs>
    <outputs>
      <output type="collection" name="Result" friendlyname="Result" stage="Default Result Collection" />
    </outputs>
    <onsuccess>4b7b0b21-65c1-4f2a-aa99-1a790097adec</onsuccess>
    <resource object="Utility - JSON" action="JSON to Collection" />
  </stage>
  <stage stageid="808f1b89-0322-4952-a7ad-dd916e7ca05b" name="Count Rows" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="780" w="90" h="30" />
    <inputs>
      <input type="text" name="Collection Name" friendlyname="Collection Name" narrative="The name of the collection to act upon" expr="&quot;Result Collection&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The number of rows counted in the collection" stage="Number of Rows Returned" />
    </outputs>
    <onsuccess>9ffab34a-aaed-4a6a-9064-c53cef0bf120</onsuccess>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Count Rows" />
  </stage>
  <stage stageid="8115a7e8-08ab-4566-bef8-2d82f46b5cc7" name="FAIL" type="Exception">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="105" y="825" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Incorrect response returned scenario 2 - Check Default itemsPerPage and paginationToken page #2&quot;" />
  </stage>
  <stage stageid="22af3875-a574-497e-929f-0d4aaacba1d8" name="GET Sessions" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="645" w="90" h="30" />
    <inputs>
      <input type="text" name="Process name starts with" friendlyname="Process name starts with" expr="" />
      <input type="number" name="Session number starts with" friendlyname="Session number starts with" expr="" />
      <input type="text" name="Resource name starts with" friendlyname="Resource name starts with" expr="" />
      <input type="text" name="Username starts with" friendlyname="Username starts with" expr="" />
      <input type="text" name="Status" friendlyname="Status" expr="" />
      <input type="datetime" name="Start time greater than" friendlyname="Start time greater than" expr="[Expected start time]" />
      <input type="datetime" name="Start time less than" friendlyname="Start time less than" expr="" />
      <input type="datetime" name="End time greater than" friendlyname="End time greater than" expr="" />
      <input type="datetime" name="End time less than" friendlyname="End time less than" expr="" />
      <input type="text" name="Latest stage starts with" friendlyname="Latest stage starts with" expr="" />
      <input type="datetime" name="Stage started greater than" friendlyname="Stage started greater than" expr="" />
      <input type="datetime" name="Stage started less than" friendlyname="Stage started less than" expr="" />
      <input type="text" name="Sort by" friendlyname="Sort by" expr="" />
      <input type="number" name="Items per page" friendlyname="Items per page" expr="" />
      <input type="text" name="Pagination Token" friendlyname="Pagination Token" expr="[Pagination Token for Session Items per page =10, page 2]" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="Response Content" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Status Code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>a05245ea-5967-4280-b49c-e51280c49654</onsuccess>
    <resource object="Blue Prism - API - Sessions" action="GET Sessions" />
  </stage>
  <stage stageid="3e627c3f-8316-40eb-b7cc-2e6ddd177313" name="Search through rows" type="LoopStart">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="915" w="90" h="30" />
    <onsuccess>f600eef1-acc2-4c06-a8e2-713eef7193a8</onsuccess>
    <groupid>cdb865d1-273c-4db1-beb3-75c7e39103ee</groupid>
    <looptype>ForEach</looptype>
    <loopdata>Result Collection.JSON:Array</loopdata>
  </stage>
  <stage stageid="43aa795e-728c-4fa7-9591-66d1678e217d" name="Search through rows" type="LoopEnd">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="1005" w="90" h="30" />
    <onsuccess>195b5deb-c637-4ca5-af38-6d506d4f4a1e</onsuccess>
    <groupid>cdb865d1-273c-4db1-beb3-75c7e39103ee</groupid>
  </stage>
  <stage stageid="ad192dbe-955d-4d87-a726-58f1b7fe13f7" name="Search sessions" type="LoopStart">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="870" w="90" h="30" />
    <onsuccess>3e627c3f-8316-40eb-b7cc-2e6ddd177313</onsuccess>
    <groupid>e713733e-53be-41e4-8dee-2133921e4e65</groupid>
    <looptype>ForEach</looptype>
    <loopdata>Result Collection</loopdata>
  </stage>
  <stage stageid="195b5deb-c637-4ca5-af38-6d506d4f4a1e" name="Search sessions" type="LoopEnd">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="1050" w="90" h="30" />
    <onsuccess>7b9d9c6a-702a-4cf3-839d-b2227ac4ef07</onsuccess>
    <groupid>e713733e-53be-41e4-8dee-2133921e4e65</groupid>
  </stage>
  <stage stageid="4b7b0b21-65c1-4f2a-aa99-1a790097adec" name="Return to Collection" type="Calculation">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="735" w="90" h="30" />
    <onsuccess>808f1b89-0322-4952-a7ad-dd916e7ca05b</onsuccess>
    <calculation expression="[Default Result Collection.items]" stage="Result Collection" />
  </stage>
  <stage stageid="f600eef1-acc2-4c06-a8e2-713eef7193a8" name="Check that the 11th session show" type="Decision">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="15" y="960" w="90" h="30" />
    <decision expression="[Result Collection.JSON:Array.processName]=[Expected Process Name 2]" />
    <ontrue>cb684d6d-1f24-434b-80b1-d4cb7570c968</ontrue>
    <onfalse>43aa795e-728c-4fa7-9591-66d1678e217d</onfalse>
  </stage>
  <stage stageid="7b9d9c6a-702a-4cf3-839d-b2227ac4ef07" name="Session not found" type="Exception">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="105" y="1050" />
    <exception localized="yes" type="&quot; Session not found&quot;" detail="&quot;Scenario 2 failed: Expect the 11th session to be found but it was not found when pagination values were entered for page 2 and items per page is left at default values&quot;" />
  </stage>
  <stage stageid="ecb2c37b-8a51-4d6a-b2b1-8996bd1d0e4c" name="Pagination Token Returned?" type="Decision">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="15" y="1095" w="90" h="30" />
    <decision expression="[Default Result Collection.pagingToken]&lt;&gt;&quot;&quot;" />
    <ontrue>1572843a-dbdb-42c0-bde9-62e98b7cdede</ontrue>
    <onfalse>9d8f7c79-3384-4665-8daa-8b06f7c2e9f8</onfalse>
  </stage>
  <stage stageid="1572843a-dbdb-42c0-bde9-62e98b7cdede" name="Pagination Token unexpectedly was returned" type="Exception">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="105" y="1095" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Scenario 2 failed when checking default values and page #2: Pagination token was not expected to return as this is the last page&quot;" />
  </stage>
  <stage stageid="8e59ba93-dcb7-489a-8c8e-d80bb4bd150c" name="Anchor7" type="Anchor">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="1095" w="10" h="10" />
    <onsuccess>ecb2c37b-8a51-4d6a-b2b1-8996bd1d0e4c</onsuccess>
  </stage>
  <stage stageid="cb684d6d-1f24-434b-80b1-d4cb7570c968" name="Anchor8" type="Anchor">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-45" y="960" w="10" h="10" />
    <onsuccess>8e59ba93-dcb7-489a-8c8e-d80bb4bd150c</onsuccess>
  </stage>
  <stage stageid="9d8f7c79-3384-4665-8daa-8b06f7c2e9f8" name="When:" type="Note">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <narrative>WHEN itemsPerPage is set to 1 and paginationToken has no values
AND Get Session was requested
THEN a response code of 200 should be returned
AND only 1 session will display
AND paginationToken will be returned so the next page can be navigated to
AND the 2nd session will not be returned</narrative>
    <display x="15" y="1185" w="240" h="90" />
    <onsuccess>3480bfcf-2de5-46a5-9a8e-889fd62a0f1f</onsuccess>
  </stage>
  <stage stageid="c7287f8c-96f5-4621-8aa5-2b3a57fcf6d7" name="1 itemsPerPage and paginationToken no values" type="Block">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-105" y="1245" w="255" h="555" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="004746e7-279b-4294-aa17-98d155f6bb00" name="Convert Response to Collection" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="1320" w="90" h="30" />
    <inputs>
      <input type="text" name="json" friendlyname="json" expr="[Response Content]" />
    </inputs>
    <outputs>
      <output type="collection" name="Result" friendlyname="Result" stage="Default Result Collection" />
    </outputs>
    <onsuccess>0ca8b9f2-cd03-4a86-87fe-ddecdc17d2c0</onsuccess>
    <resource object="Utility - JSON" action="JSON to Collection" />
  </stage>
  <stage stageid="6f9d0a66-38cb-45b9-8a39-f9aa5fcb4df4" name="Count Rows" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="1410" w="90" h="30" />
    <inputs>
      <input type="text" name="Collection Name" friendlyname="Collection Name" narrative="The name of the collection to act upon" expr="&quot;Result Collection&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The number of rows counted in the collection" stage="Number of Rows Returned" />
    </outputs>
    <onsuccess>64bd65e8-6607-47dd-b33e-95d09211b5cc</onsuccess>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Count Rows" />
  </stage>
  <stage stageid="3480bfcf-2de5-46a5-9a8e-889fd62a0f1f" name="GET Sessions" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="1275" w="90" h="30" />
    <inputs>
      <input type="text" name="Process name starts with" friendlyname="Process name starts with" expr="" />
      <input type="number" name="Session number starts with" friendlyname="Session number starts with" expr="" />
      <input type="text" name="Resource name starts with" friendlyname="Resource name starts with" expr="" />
      <input type="text" name="Username starts with" friendlyname="Username starts with" expr="" />
      <input type="text" name="Status" friendlyname="Status" expr="" />
      <input type="datetime" name="Start time greater than" friendlyname="Start time greater than" expr="[Expected start time]" />
      <input type="datetime" name="Start time less than" friendlyname="Start time less than" expr="" />
      <input type="datetime" name="End time greater than" friendlyname="End time greater than" expr="" />
      <input type="datetime" name="End time less than" friendlyname="End time less than" expr="" />
      <input type="text" name="Latest stage starts with" friendlyname="Latest stage starts with" expr="" />
      <input type="datetime" name="Stage started greater than" friendlyname="Stage started greater than" expr="" />
      <input type="datetime" name="Stage started less than" friendlyname="Stage started less than" expr="" />
      <input type="text" name="Sort by" friendlyname="Sort by" expr="" />
      <input type="number" name="Items per page" friendlyname="Items per page" expr="1" />
      <input type="text" name="Pagination Token" friendlyname="Pagination Token" expr="" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="Response Content" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Status Code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>004746e7-279b-4294-aa17-98d155f6bb00</onsuccess>
    <resource object="Blue Prism - API - Sessions" action="GET Sessions" />
  </stage>
  <stage stageid="fd3d0285-cf3f-4a45-8aa5-a56bca64bf96" name="Search through rows" type="LoopStart">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="1545" w="90" h="30" />
    <onsuccess>f14768e9-e9be-4911-93df-9cec7d15d164</onsuccess>
    <groupid>2c671788-fa49-4cf4-8564-691aeaa94b9c</groupid>
    <looptype>ForEach</looptype>
    <loopdata>Result Collection.JSON:Array</loopdata>
  </stage>
  <stage stageid="361da4e7-ddc7-4889-9db0-cc1a3fdba359" name="Search through rows" type="LoopEnd">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="1635" w="90" h="30" />
    <onsuccess>b4dde92e-7f6e-4d92-bbf1-5242923b3a93</onsuccess>
    <groupid>2c671788-fa49-4cf4-8564-691aeaa94b9c</groupid>
  </stage>
  <stage stageid="fc42f7b7-b404-416c-b86a-d23ad311c552" name="FAIL" type="Exception">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="105" y="1590" />
    <exception localized="yes" type="Unexpected Values" detail="&quot;Scenario 2 failed - Did not expect session number 2 - check itemsPerPage=1 and no paginationToken Values &quot;" />
  </stage>
  <stage stageid="0e79ba2b-46b9-4af1-a162-38c6d4dd5fd7" name="Search sessions" type="LoopStart">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="1500" w="90" h="30" />
    <onsuccess>fd3d0285-cf3f-4a45-8aa5-a56bca64bf96</onsuccess>
    <groupid>3f6538d4-2a48-40eb-9cbb-6f3d8dead008</groupid>
    <looptype>ForEach</looptype>
    <loopdata>Result Collection</loopdata>
  </stage>
  <stage stageid="b4dde92e-7f6e-4d92-bbf1-5242923b3a93" name="Search sessions" type="LoopEnd">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="1680" w="90" h="30" />
    <onsuccess>cf6058ac-c8f2-48d0-b944-07018862c483</onsuccess>
    <groupid>3f6538d4-2a48-40eb-9cbb-6f3d8dead008</groupid>
  </stage>
  <stage stageid="f14768e9-e9be-4911-93df-9cec7d15d164" name="Not Expecting Session Number 2 " type="Decision">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="15" y="1590" w="90" h="30" />
    <decision expression="[Result Collection.JSON:Array.sessionNumber]=[Row 2 Session Number]" />
    <ontrue>fc42f7b7-b404-416c-b86a-d23ad311c552</ontrue>
    <onfalse>361da4e7-ddc7-4889-9db0-cc1a3fdba359</onfalse>
  </stage>
  <stage stageid="0ca8b9f2-cd03-4a86-87fe-ddecdc17d2c0" name="Return to Collection" type="Calculation">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="1365" w="90" h="30" />
    <onsuccess>6f9d0a66-38cb-45b9-8a39-f9aa5fcb4df4</onsuccess>
    <calculation expression="[Default Result Collection.items]" stage="Result Collection" />
  </stage>
  <stage stageid="cf6058ac-c8f2-48d0-b944-07018862c483" name="Pagination Token Returned?" type="Decision">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="15" y="1725" w="90" h="30" />
    <decision expression="[Default Result Collection.pagingToken]&lt;&gt;&quot;&quot;" />
    <ontrue>ed44d758-b5f0-49da-9267-60d0be331e0a</ontrue>
    <onfalse>b2877c18-0a24-4370-b449-fd970130ffd7</onfalse>
  </stage>
  <stage stageid="b2877c18-0a24-4370-b449-fd970130ffd7" name="Pagination Token does not exist" type="Exception">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="105" y="1725" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Scenario 2 failed when checking itemsPerPage=1 and paginationToken no values: Pagination token was expected to return but it was not returned&quot;" />
  </stage>
  <stage stageid="ed44d758-b5f0-49da-9267-60d0be331e0a" name="Store Pagination Token for Navigating" type="Calculation">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="1770" w="90" h="30" />
    <onsuccess>9b1c5248-1856-4d89-8e8c-2b0fd46d2b40</onsuccess>
    <calculation expression="[Default Result Collection.pagingToken]" stage="Pagination Token for Session Items per page = 1, page 2" />
  </stage>
  <stage stageid="64bd65e8-6607-47dd-b33e-95d09211b5cc" name="Response Code and Session Count correct?" type="Decision">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="15" y="1455" w="90" h="30" />
    <decision expression="[HTTP Status Code]=&quot;200&quot;&#xA;AND&#xA;[Number of Rows Returned]=1&#xA;AND&#xA;[Result Collection.JSON:Array.processName]=[Expected Process Name]&#xA;AND&#xA;[Result Collection.JSON:Array.status]=[Expected Status]" />
    <ontrue>0e79ba2b-46b9-4af1-a162-38c6d4dd5fd7</ontrue>
    <onfalse>7ba63097-82c5-4886-ab73-e0d336769f69</onfalse>
  </stage>
  <stage stageid="7ba63097-82c5-4886-ab73-e0d336769f69" name="FAIL" type="Exception">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="105" y="1455" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Incorrect response returned scenario 2 - Check itemsPerPage=1, paginationToken no values&quot;" />
  </stage>
  <stage stageid="6d2d3e2c-06eb-4d40-9d67-62e9091c1d60" name="Store 1-3 Rows" type="LoopStart">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="150" w="90" h="30" />
    <onsuccess>f7c22c7f-5d87-421d-b857-f3a30969c6b0</onsuccess>
    <groupid>d1ace0aa-ab5f-422d-9e15-308d2dcffb92</groupid>
    <looptype>ForEach</looptype>
    <loopdata>Result Collection.JSON:Array</loopdata>
  </stage>
  <stage stageid="41137071-2005-404e-aabb-f9b776c78c21" name="Store 1-3 Rows" type="LoopEnd">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="360" w="90" h="30" />
    <onsuccess>bac1c635-7da2-4ffa-ab56-7c0ddb0a5857</onsuccess>
    <groupid>d1ace0aa-ab5f-422d-9e15-308d2dcffb92</groupid>
  </stage>
  <stage stageid="0bfd710c-4b3e-4f71-b6a0-470f48d271ef" name="Store Row 1 Session Number" type="Calculation">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="60" y="225" />
    <onsuccess>21b16d06-fdb4-414f-b180-86db53b1aaee</onsuccess>
    <calculation expression="[Result Collection.JSON:Array.sessionNumber]" stage="Row 1 Session Number" />
  </stage>
  <stage stageid="2356d011-2f44-4cb6-b663-75a1e7d4c140" name="Row" type="Data">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-150" y="-645" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue>1</initialvalue>
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="f7c22c7f-5d87-421d-b857-f3a30969c6b0" name="Store session IDs" type="ChoiceStart">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="0" y="195" w="90" h="30" />
    <groupid>7e751829-59f2-469b-a821-69f59f67dcb0</groupid>
    <choices>
      <choice expression="[Row]=1">
        <name>Row 1</name>
        <distance>30</distance>
        <ontrue>0bfd710c-4b3e-4f71-b6a0-470f48d271ef</ontrue>
      </choice>
      <choice expression="[Row]=2">
        <name>Row 2</name>
        <distance>60</distance>
        <ontrue>684e9e0e-f79d-4682-8bbb-3a7688da1c9d</ontrue>
      </choice>
      <choice expression="[Row]=3">
        <name>Row 3</name>
        <distance>90</distance>
        <ontrue>c5d5c81e-e68d-413d-99e7-2cc6711dbbe9</ontrue>
      </choice>
    </choices>
  </stage>
  <stage stageid="55296225-0055-4ecf-b3c7-969d314513d0" name="Ignore the other 8 sessions" type="ChoiceEnd">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="0" y="315" w="90" h="30" />
    <onsuccess>41137071-2005-404e-aabb-f9b776c78c21</onsuccess>
    <groupid>7e751829-59f2-469b-a821-69f59f67dcb0</groupid>
  </stage>
  <stage stageid="21b16d06-fdb4-414f-b180-86db53b1aaee" name="Anchor4" type="Anchor">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="105" y="225" w="10" h="10" />
    <onsuccess>f3ff52ed-922b-4621-a2e4-6e66d02c0f80</onsuccess>
  </stage>
  <stage stageid="684e9e0e-f79d-4682-8bbb-3a7688da1c9d" name="Store Row 1 Session Number" type="Calculation">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="60" y="255" />
    <onsuccess>f3ff52ed-922b-4621-a2e4-6e66d02c0f80</onsuccess>
    <calculation expression="[Result Collection.JSON:Array.sessionNumber]" stage="Row 2 Session Number" />
  </stage>
  <stage stageid="c5d5c81e-e68d-413d-99e7-2cc6711dbbe9" name="Store Row 3 Session Number" type="Calculation">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="60" y="285" />
    <onsuccess>4671d340-d21c-4d65-935f-b2bdd7e65ac1</onsuccess>
    <calculation expression="[Result Collection.JSON:Array.sessionNumber]" stage="Row 3 Session Number" />
  </stage>
  <stage stageid="f3ff52ed-922b-4621-a2e4-6e66d02c0f80" name="Anchor9" type="Anchor">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="105" y="255" w="10" h="10" />
    <onsuccess>4671d340-d21c-4d65-935f-b2bdd7e65ac1</onsuccess>
  </stage>
  <stage stageid="4671d340-d21c-4d65-935f-b2bdd7e65ac1" name="Anchor10" type="Anchor">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="105" y="285" w="10" h="10" />
    <onsuccess>ae2660a1-87f1-426a-838e-726a12c63096</onsuccess>
  </stage>
  <stage stageid="48adf47c-d7f7-4f8e-8f8a-bd7a3e6bf0dd" name="GET Sessions Filter by Start Time" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-30" w="90" h="30" />
    <inputs>
      <input type="text" name="Process name starts with" friendlyname="Process name starts with" expr="" />
      <input type="number" name="Session number starts with" friendlyname="Session number starts with" expr="" />
      <input type="text" name="Resource name starts with" friendlyname="Resource name starts with" expr="" />
      <input type="text" name="Username starts with" friendlyname="Username starts with" expr="" />
      <input type="text" name="Status" friendlyname="Status" expr="" />
      <input type="datetime" name="Start time greater than" friendlyname="Start time greater than" expr="[Expected start time]" />
      <input type="datetime" name="Start time less than" friendlyname="Start time less than" expr="" />
      <input type="datetime" name="End time greater than" friendlyname="End time greater than" expr="" />
      <input type="datetime" name="End time less than" friendlyname="End time less than" expr="" />
      <input type="text" name="Latest stage starts with" friendlyname="Latest stage starts with" expr="" />
      <input type="datetime" name="Stage started greater than" friendlyname="Stage started greater than" expr="" />
      <input type="datetime" name="Stage started less than" friendlyname="Stage started less than" expr="" />
      <input type="text" name="Sort by" friendlyname="Sort by" expr="" />
      <input type="number" name="Items per page" friendlyname="Items per page" expr="" />
      <input type="text" name="Pagination Token" friendlyname="Pagination Token" expr="" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="Response Content" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Status Code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>1530fc47-d9c1-4749-9852-52cb76896d41</onsuccess>
    <resource object="Blue Prism - API - Sessions" action="GET Sessions" />
  </stage>
  <stage stageid="1530fc47-d9c1-4749-9852-52cb76896d41" name="Convert Response to Collection" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="15" w="90" h="30" />
    <inputs>
      <input type="text" name="json" friendlyname="json" expr="[Response Content]" />
    </inputs>
    <outputs>
      <output type="collection" name="Result" friendlyname="Result" stage="Default Result Collection" />
    </outputs>
    <onsuccess>be1e767d-6877-492a-bbaa-acfb47373ced</onsuccess>
    <resource object="Utility - JSON" action="JSON to Collection" />
  </stage>
  <stage stageid="be1e767d-6877-492a-bbaa-acfb47373ced" name="Return to Collection" type="Calculation">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="60" w="90" h="30" />
    <onsuccess>d3ca6cf4-e134-46d5-8cea-d89ca3ba24bf</onsuccess>
    <calculation expression="[Default Result Collection.items]" stage="Result Collection" />
  </stage>
  <stage stageid="5e223ee5-ba88-4dc3-8830-023abfbdab71" name="Store Session ID for Scenario 2" type="Block">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-90" y="-60" w="240" h="495" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="cc8efadf-9a83-4c2c-b610-ceff2c6828d2" name="Row 1 Session Number" type="Data">
    <display x="-240" y="-15" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="eaba382a-63d2-4881-8353-8486df431898" name="Row 2 Session Number" type="Data">
    <display x="-240" y="15" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="04a61391-b85f-42e0-a818-d94ad8c67049" name="Row 3 Session Number" type="Data">
    <display x="-240" y="45" w="120" h="30" />
    <datatype>number</datatype>
    <initialvalue />
    <alwaysinit />
  </stage>
  <stage stageid="d3ca6cf4-e134-46d5-8cea-d89ca3ba24bf" name="Results Collection" type="LoopStart">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="105" w="90" h="30" />
    <onsuccess>6d2d3e2c-06eb-4d40-9d67-62e9091c1d60</onsuccess>
    <groupid>7d1dbb15-ca0e-4cd5-b160-7b9d4913818a</groupid>
    <looptype>ForEach</looptype>
    <loopdata>Result Collection</loopdata>
  </stage>
  <stage stageid="bac1c635-7da2-4ffa-ab56-7c0ddb0a5857" name="Results Collection" type="LoopEnd">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="405" w="90" h="30" />
    <onsuccess>83bb4afa-8c61-4db2-8edf-2d1ca50a1e39</onsuccess>
    <groupid>7d1dbb15-ca0e-4cd5-b160-7b9d4913818a</groupid>
  </stage>
  <stage stageid="ae2660a1-87f1-426a-838e-726a12c63096" name="Add to Row+1" type="Calculation">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="105" y="360" />
    <onsuccess>41137071-2005-404e-aabb-f9b776c78c21</onsuccess>
    <calculation expression="[Row]+1" stage="Row" />
  </stage>
  <stage stageid="afbbe034-19cb-4d25-86a6-93431048905a" name="1 itemsPerPage and paginationToken page #2" type="Block">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-105" y="1815" w="255" h="555" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="db78a999-7dbd-4dac-85a9-1d84fd74a18c" name="Convert Response to Collection" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="1890" w="90" h="30" />
    <inputs>
      <input type="text" name="json" friendlyname="json" expr="[Response Content]" />
    </inputs>
    <outputs>
      <output type="collection" name="Result" friendlyname="Result" stage="Default Result Collection" />
    </outputs>
    <onsuccess>3e0fe997-50d9-4d24-b512-1f68cffb30fc</onsuccess>
    <resource object="Utility - JSON" action="JSON to Collection" />
  </stage>
  <stage stageid="14aa4c2e-758e-4764-9e9d-fae1e04eb43f" name="Count Rows" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="1980" w="90" h="30" />
    <inputs>
      <input type="text" name="Collection Name" friendlyname="Collection Name" narrative="The name of the collection to act upon" expr="&quot;Result Collection&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The number of rows counted in the collection" stage="Number of Rows Returned" />
    </outputs>
    <onsuccess>64a75288-8798-44c4-8721-e0b6f7b6ed07</onsuccess>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Count Rows" />
  </stage>
  <stage stageid="9b1c5248-1856-4d89-8e8c-2b0fd46d2b40" name="GET Sessions" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="1845" w="90" h="30" />
    <inputs>
      <input type="text" name="Process name starts with" friendlyname="Process name starts with" expr="" />
      <input type="number" name="Session number starts with" friendlyname="Session number starts with" expr="" />
      <input type="text" name="Resource name starts with" friendlyname="Resource name starts with" expr="" />
      <input type="text" name="Username starts with" friendlyname="Username starts with" expr="" />
      <input type="text" name="Status" friendlyname="Status" expr="" />
      <input type="datetime" name="Start time greater than" friendlyname="Start time greater than" expr="[Expected start time]" />
      <input type="datetime" name="Start time less than" friendlyname="Start time less than" expr="" />
      <input type="datetime" name="End time greater than" friendlyname="End time greater than" expr="" />
      <input type="datetime" name="End time less than" friendlyname="End time less than" expr="" />
      <input type="text" name="Latest stage starts with" friendlyname="Latest stage starts with" expr="" />
      <input type="datetime" name="Stage started greater than" friendlyname="Stage started greater than" expr="" />
      <input type="datetime" name="Stage started less than" friendlyname="Stage started less than" expr="" />
      <input type="text" name="Sort by" friendlyname="Sort by" expr="" />
      <input type="number" name="Items per page" friendlyname="Items per page" expr="1" />
      <input type="text" name="Pagination Token" friendlyname="Pagination Token" expr="[Pagination Token for Session Items per page = 1, page 2]" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="Response Content" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Status Code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>db78a999-7dbd-4dac-85a9-1d84fd74a18c</onsuccess>
    <resource object="Blue Prism - API - Sessions" action="GET Sessions" />
  </stage>
  <stage stageid="292ba218-442f-42d6-877d-2f4b5a2ddb6a" name="Search through rows" type="LoopStart">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="2115" w="90" h="30" />
    <onsuccess>83017191-602e-496f-94f3-9bb83d2b4f22</onsuccess>
    <groupid>b25f12e1-f525-4d2c-b748-bbca01117167</groupid>
    <looptype>ForEach</looptype>
    <loopdata>Result Collection.JSON:Array</loopdata>
  </stage>
  <stage stageid="eefbe8db-6039-4ffc-a1e2-2445db0b056c" name="Search through rows" type="LoopEnd">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="2205" w="90" h="30" />
    <onsuccess>5913f1cd-0af9-456c-a176-49120ac1fca0</onsuccess>
    <groupid>b25f12e1-f525-4d2c-b748-bbca01117167</groupid>
  </stage>
  <stage stageid="ffd5049d-5dfd-4580-aefa-fcd93ec2db4b" name="FAIL" type="Exception">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="105" y="2160" />
    <exception localized="yes" type="Unexpected Values" detail="&quot;Scenario 2 failed - Did not expect session number 3 - check itemsPerPage=1 and paginationToken page#2 &quot;" />
  </stage>
  <stage stageid="7f41f852-fb64-4d91-a5c5-d6d130f5e003" name="Search sessions" type="LoopStart">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="2070" w="90" h="30" />
    <onsuccess>292ba218-442f-42d6-877d-2f4b5a2ddb6a</onsuccess>
    <groupid>79cf3fdc-a7df-4429-84b7-e38c50622d93</groupid>
    <looptype>ForEach</looptype>
    <loopdata>Result Collection</loopdata>
  </stage>
  <stage stageid="5913f1cd-0af9-456c-a176-49120ac1fca0" name="Search sessions" type="LoopEnd">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="2250" w="90" h="30" />
    <onsuccess>72df532f-7597-4808-9877-d44122c57954</onsuccess>
    <groupid>79cf3fdc-a7df-4429-84b7-e38c50622d93</groupid>
  </stage>
  <stage stageid="83017191-602e-496f-94f3-9bb83d2b4f22" name="Not Expecting Session Number 3" type="Decision">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="15" y="2160" w="90" h="30" />
    <decision expression="[Result Collection.JSON:Array.sessionNumber]=[Row 3 Session Number]" />
    <ontrue>ffd5049d-5dfd-4580-aefa-fcd93ec2db4b</ontrue>
    <onfalse>eefbe8db-6039-4ffc-a1e2-2445db0b056c</onfalse>
  </stage>
  <stage stageid="3e0fe997-50d9-4d24-b512-1f68cffb30fc" name="Return to Collection" type="Calculation">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="1935" w="90" h="30" />
    <onsuccess>14aa4c2e-758e-4764-9e9d-fae1e04eb43f</onsuccess>
    <calculation expression="[Default Result Collection.items]" stage="Result Collection" />
  </stage>
  <stage stageid="72df532f-7597-4808-9877-d44122c57954" name="Pagination Token Returned?" type="Decision">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="15" y="2295" w="90" h="30" />
    <decision expression="[Default Result Collection.pagingToken]&lt;&gt;&quot;&quot;" />
    <ontrue>f3d2055c-0350-4bc0-b26d-dd4e3aa8cfe0</ontrue>
    <onfalse>6d9069ab-90f1-4dd7-975e-2c2bddd00b5c</onfalse>
  </stage>
  <stage stageid="6d9069ab-90f1-4dd7-975e-2c2bddd00b5c" name="Pagination Token does not exist" type="Exception">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="105" y="2295" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Scenario 2 failed when checking itemsPerPage=1 and paginationToken page #2: Pagination token was not returned&quot;" />
  </stage>
  <stage stageid="f3d2055c-0350-4bc0-b26d-dd4e3aa8cfe0" name="Store Pagination Token for Navigating" type="Calculation">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="2340" w="90" h="30" />
    <onsuccess>0c22bc9f-77da-4c31-b4de-e7310e0fdd30</onsuccess>
    <calculation expression="[Default Result Collection.pagingToken]" stage="Pagination Token for Session Items per page =1, page 3" />
  </stage>
  <stage stageid="64a75288-8798-44c4-8721-e0b6f7b6ed07" name="Response Code and Session Count correct?" type="Decision">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="15" y="2025" w="90" h="30" />
    <decision expression="[HTTP Status Code]=&quot;200&quot;&#xA;AND&#xA;[Number of Rows Returned]=1&#xA;AND&#xA;[Result Collection.JSON:Array.processName]=[Expected Process Name]&#xA;AND&#xA;[Result Collection.JSON:Array.status]=[Expected Status]" />
    <ontrue>7f41f852-fb64-4d91-a5c5-d6d130f5e003</ontrue>
    <onfalse>2bcb8126-773a-479a-8dec-952b2d334a6a</onfalse>
  </stage>
  <stage stageid="2bcb8126-773a-479a-8dec-952b2d334a6a" name="FAIL" type="Exception">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="105" y="2025" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Incorrect response returned scenario 2 - Check itemsPerPage=1, paginationToken page#2&quot;" />
  </stage>
  <stage stageid="ab0bb4f9-f36e-4b5e-8872-2a6f4d154320" name="Pagination Token for multiple filters page 2" type="Data">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="-195" y="270" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="0c22bc9f-77da-4c31-b4de-e7310e0fdd30" name="When:" type="Note">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <narrative>WHEN itemsPerPage is set to 1 and paginationToken has page #3's token
AND Get Sessions was requested
THEN a response code of 200 should be returned
AND only 1 session will display
AND paginationToken will be returned so the next page can be navigated to
AND the 3rd session will be returned</narrative>
    <display x="15" y="2430" w="240" h="90" />
    <onsuccess>50e675b2-fff2-417e-be80-4f21ab6636d9</onsuccess>
  </stage>
  <stage stageid="241bf139-4509-42ab-be72-68b912008c06" name="1 itemsPerPage and paginationToken page #3" type="Block">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-105" y="2490" w="255" h="510" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="f7e43064-c7b5-4b66-b584-4a2a3f422f4d" name="Response Code and Session Count correct?" type="Decision">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="15" y="2700" w="90" h="30" />
    <decision expression="[HTTP Status Code]=&quot;200&quot;&#xA;AND&#xA;[Number of Rows Returned]=1&#xA;AND&#xA;[Result Collection.JSON:Array.processName]=[Expected Process Name]&#xA;AND&#xA;[Result Collection.JSON:Array.status]=[Expected Status]" />
    <ontrue>4b5e3287-66ed-4d51-8aea-2ddb0d0a1310</ontrue>
    <onfalse>23252a3e-7ae0-480f-9396-553cdc7bde52</onfalse>
  </stage>
  <stage stageid="f077922a-6aae-40de-8e4b-d55af0aea922" name="Convert Response to Collection" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="2565" w="90" h="30" />
    <inputs>
      <input type="text" name="json" friendlyname="json" expr="[Response Content]" />
    </inputs>
    <outputs>
      <output type="collection" name="Result" friendlyname="Result" stage="Default Result Collection" />
    </outputs>
    <onsuccess>ae15fcb3-75e3-4411-b890-2839e0c363cc</onsuccess>
    <resource object="Utility - JSON" action="JSON to Collection" />
  </stage>
  <stage stageid="fd900e68-16e4-415b-bd09-8a21b084099f" name="Count Rows" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="2655" w="90" h="30" />
    <inputs>
      <input type="text" name="Collection Name" friendlyname="Collection Name" narrative="The name of the collection to act upon" expr="&quot;Result Collection&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The number of rows counted in the collection" stage="Number of Rows Returned" />
    </outputs>
    <onsuccess>f7e43064-c7b5-4b66-b584-4a2a3f422f4d</onsuccess>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Count Rows" />
  </stage>
  <stage stageid="23252a3e-7ae0-480f-9396-553cdc7bde52" name="FAIL" type="Exception">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="105" y="2700" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Incorrect response returned scenario 2 - Check itemsPerPage=1 and paginationToken page #3&quot;" />
  </stage>
  <stage stageid="50e675b2-fff2-417e-be80-4f21ab6636d9" name="GET Sessions" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="2520" w="90" h="30" />
    <inputs>
      <input type="text" name="Process name starts with" friendlyname="Process name starts with" expr="" />
      <input type="number" name="Session number starts with" friendlyname="Session number starts with" expr="" />
      <input type="text" name="Resource name starts with" friendlyname="Resource name starts with" expr="" />
      <input type="text" name="Username starts with" friendlyname="Username starts with" expr="" />
      <input type="text" name="Status" friendlyname="Status" expr="" />
      <input type="datetime" name="Start time greater than" friendlyname="Start time greater than" expr="[Expected start time]" />
      <input type="datetime" name="Start time less than" friendlyname="Start time less than" expr="" />
      <input type="datetime" name="End time greater than" friendlyname="End time greater than" expr="" />
      <input type="datetime" name="End time less than" friendlyname="End time less than" expr="" />
      <input type="text" name="Latest stage starts with" friendlyname="Latest stage starts with" expr="" />
      <input type="datetime" name="Stage started greater than" friendlyname="Stage started greater than" expr="" />
      <input type="datetime" name="Stage started less than" friendlyname="Stage started less than" expr="" />
      <input type="text" name="Sort by" friendlyname="Sort by" expr="" />
      <input type="number" name="Items per page" friendlyname="Items per page" expr="1" />
      <input type="text" name="Pagination Token" friendlyname="Pagination Token" expr="[Pagination Token for Session Items per page =1, page 3]" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="Response Content" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Status Code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>f077922a-6aae-40de-8e4b-d55af0aea922</onsuccess>
    <resource object="Blue Prism - API - Sessions" action="GET Sessions" />
  </stage>
  <stage stageid="ae15fcb3-75e3-4411-b890-2839e0c363cc" name="Return to Collection" type="Calculation">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="2610" w="90" h="30" />
    <onsuccess>fd900e68-16e4-415b-bd09-8a21b084099f</onsuccess>
    <calculation expression="[Default Result Collection.items]" stage="Result Collection" />
  </stage>
  <stage stageid="afb07c59-2fa1-40f1-9d6b-248ec3b49119" name="Search through rows" type="LoopStart">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="2790" w="90" h="30" />
    <onsuccess>4cda5775-e73c-425e-981a-a1cc2e4be099</onsuccess>
    <groupid>b0caf965-d258-44f4-affc-00efd66d0fbb</groupid>
    <looptype>ForEach</looptype>
    <loopdata>Result Collection.JSON:Array</loopdata>
  </stage>
  <stage stageid="d8935474-dedc-4bf7-bcd2-70f19ddb5241" name="Search through rows" type="LoopEnd">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="2880" w="90" h="30" />
    <onsuccess>9ff8e898-5bfd-4696-abe2-9ad8d19251de</onsuccess>
    <groupid>b0caf965-d258-44f4-affc-00efd66d0fbb</groupid>
  </stage>
  <stage stageid="36d6fb10-0cc8-47a7-a246-807db642fc8d" name="FAIL" type="Exception">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="105" y="2835" />
    <exception localized="yes" type="Unexpected Values" detail="&quot;Scenario 2 failed - expect session number 3 but this is not the case - check itemsPerPage=1 and paginationToken Page #3 &quot;" />
  </stage>
  <stage stageid="4b5e3287-66ed-4d51-8aea-2ddb0d0a1310" name="Search sessions" type="LoopStart">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="2745" w="90" h="30" />
    <onsuccess>afb07c59-2fa1-40f1-9d6b-248ec3b49119</onsuccess>
    <groupid>40b232f1-5c65-47f6-aa05-9cbbda28e69d</groupid>
    <looptype>ForEach</looptype>
    <loopdata>Result Collection</loopdata>
  </stage>
  <stage stageid="9ff8e898-5bfd-4696-abe2-9ad8d19251de" name="Search sessions" type="LoopEnd">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="2925" w="90" h="30" />
    <onsuccess>579b1f39-ed5d-4358-b7fe-20d44957ad58</onsuccess>
    <groupid>40b232f1-5c65-47f6-aa05-9cbbda28e69d</groupid>
  </stage>
  <stage stageid="4cda5775-e73c-425e-981a-a1cc2e4be099" name="Expect Session Number 3" type="Decision">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="15" y="2835" w="90" h="30" />
    <decision expression="[Result Collection.JSON:Array.sessionNumber]=[Row 3 Session Number]" />
    <ontrue>d8935474-dedc-4bf7-bcd2-70f19ddb5241</ontrue>
    <onfalse>36d6fb10-0cc8-47a7-a246-807db642fc8d</onfalse>
  </stage>
  <stage stageid="579b1f39-ed5d-4358-b7fe-20d44957ad58" name="Pagination Token Returned?" type="Decision">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="15" y="2970" w="90" h="30" />
    <decision expression="[Default Result Collection.pagingToken]&lt;&gt;&quot;&quot;" />
    <ontrue>fb802b04-8316-4e30-8c3a-3824d3dc0bd1</ontrue>
    <onfalse>675c8aae-f43e-441e-a8fa-d9d51eb97e57</onfalse>
  </stage>
  <stage stageid="675c8aae-f43e-441e-a8fa-d9d51eb97e57" name="Pagination Token does not exist" type="Exception">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="105" y="2970" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Scenario 2 failed when checking itemsPerPage=1 and paginationToken page #3s: Pagination token was expected to return but it was not returned&quot;" />
  </stage>
  <stage stageid="fb802b04-8316-4e30-8c3a-3824d3dc0bd1" name="Anchor11" type="Anchor">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="15" y="3015" w="10" h="10" />
    <onsuccess>669990f7-2747-4b38-b6cc-e54b672ca187</onsuccess>
  </stage>
  <stage stageid="669990f7-2747-4b38-b6cc-e54b672ca187" name="Anchor2" type="Anchor">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="180" y="3015" w="10" h="10" />
    <onsuccess>cb2aeb77-d3cf-4187-af5b-c1fd3ef1eef1</onsuccess>
  </stage>
  <stage stageid="a56e6db5-d442-4bbc-bf27-232f94fe6869" name="When:" type="Note">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <narrative>WHEN itemsPerPage is set to 1 and paginationToken has page #2's token
THEN I can NAVIGATE BACK to page 2 
WHEN Get Session was requested
THEN a response code of 200 should be returned
AND only 1 session will display
AND paginationToken will be returned so the previous page can be navigated to
AND the 2nd schedule will be returned</narrative>
    <display x="330" y="-135" w="240" h="120" />
    <onsuccess>e149c200-007e-407d-bd4a-71778a8b9f2b</onsuccess>
  </stage>
  <stage stageid="9535ecf5-d80d-4990-b4c8-bbbe57c7a9e4" name="Navigate back to previous page using paginationToken" type="Block">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="210" y="-60" w="255" h="510" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="d29c8596-3003-4eef-bfc9-93abedb94882" name="When:" type="Note">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <narrative>WHEN itemsPerPage is set to 1000 and paginationToken has no values
AND Get Schedules was requested
THEN a response code of 200 should be returned
AND all schedules will display
AND paginationToken will not be returned </narrative>
    <display x="330" y="510" w="240" h="90" />
    <onsuccess>84ef50bf-fbca-4ddd-a5a6-7a29095564ba</onsuccess>
  </stage>
  <stage stageid="67daa2d5-393a-422a-aa9f-f07a3fac25d2" name="itemsPerPage = 1000 and paginationToken no values" type="Block">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="210" y="570" w="255" h="510" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="c96f3ba0-eddc-4e04-b2a0-c622ba149d89" name="Convert Response to Collection" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="15" w="90" h="30" />
    <inputs>
      <input type="text" name="json" friendlyname="json" expr="[Response Content]" />
    </inputs>
    <outputs>
      <output type="collection" name="Result" friendlyname="Result" stage="Default Result Collection" />
    </outputs>
    <onsuccess>553b69f7-a8a8-4f09-ab15-471fc50bfca3</onsuccess>
    <resource object="Utility - JSON" action="JSON to Collection" />
  </stage>
  <stage stageid="99148cd5-ee69-45bb-b68f-2240334fc818" name="Count Rows" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="105" w="90" h="30" />
    <inputs>
      <input type="text" name="Collection Name" friendlyname="Collection Name" narrative="The name of the collection to act upon" expr="&quot;Result Collection&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The number of rows counted in the collection" stage="Number of Rows Returned" />
    </outputs>
    <onsuccess>fa9574d1-ccd5-40f0-baee-d9913225c4a2</onsuccess>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Count Rows" />
  </stage>
  <stage stageid="1c446f1f-480a-44b9-a7ee-9768209fe9d6" name="FAIL" type="Exception">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="420" y="150" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Incorrect response returned scenario 2 - Check navigating back to previous page #2&quot;" />
  </stage>
  <stage stageid="e149c200-007e-407d-bd4a-71778a8b9f2b" name="GET Sessions" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="-30" w="90" h="30" />
    <inputs>
      <input type="text" name="Process name starts with" friendlyname="Process name starts with" expr="" />
      <input type="number" name="Session number starts with" friendlyname="Session number starts with" expr="" />
      <input type="text" name="Resource name starts with" friendlyname="Resource name starts with" expr="" />
      <input type="text" name="Username starts with" friendlyname="Username starts with" expr="" />
      <input type="text" name="Status" friendlyname="Status" expr="" />
      <input type="datetime" name="Start time greater than" friendlyname="Start time greater than" expr="[Expected start time]" />
      <input type="datetime" name="Start time less than" friendlyname="Start time less than" expr="" />
      <input type="datetime" name="End time greater than" friendlyname="End time greater than" expr="" />
      <input type="datetime" name="End time less than" friendlyname="End time less than" expr="" />
      <input type="text" name="Latest stage starts with" friendlyname="Latest stage starts with" expr="" />
      <input type="datetime" name="Stage started greater than" friendlyname="Stage started greater than" expr="" />
      <input type="datetime" name="Stage started less than" friendlyname="Stage started less than" expr="" />
      <input type="text" name="Sort by" friendlyname="Sort by" expr="" />
      <input type="number" name="Items per page" friendlyname="Items per page" expr="1" />
      <input type="text" name="Pagination Token" friendlyname="Pagination Token" expr="[Pagination Token for Session Items per page = 1, page 2]" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="Response Content" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Status Code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>c96f3ba0-eddc-4e04-b2a0-c622ba149d89</onsuccess>
    <resource object="Blue Prism - API - Sessions" action="GET Sessions" />
  </stage>
  <stage stageid="f494c129-7262-4ba2-9249-42871b918604" name="Search through rows" type="LoopStart">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="240" w="90" h="30" />
    <onsuccess>85923420-1c54-48c7-9737-b417f0012f18</onsuccess>
    <groupid>906b7b07-fb99-4783-8254-eefc6f839fc2</groupid>
    <looptype>ForEach</looptype>
    <loopdata>Result Collection.JSON:Array</loopdata>
  </stage>
  <stage stageid="105050cd-43c9-4d22-a1c4-b5f97e9dff22" name="Search through rows" type="LoopEnd">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="330" w="90" h="30" />
    <onsuccess>605e74c1-4bac-4578-9696-614fbf5d11aa</onsuccess>
    <groupid>906b7b07-fb99-4783-8254-eefc6f839fc2</groupid>
  </stage>
  <stage stageid="b8ba4d0f-8425-4e6b-a8ae-fa0f445bc03e" name="Search sessions" type="LoopStart">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="195" w="90" h="30" />
    <onsuccess>f494c129-7262-4ba2-9249-42871b918604</onsuccess>
    <groupid>791d2b68-7b4f-461d-b914-6273edeba3ce</groupid>
    <looptype>ForEach</looptype>
    <loopdata>Result Collection</loopdata>
  </stage>
  <stage stageid="605e74c1-4bac-4578-9696-614fbf5d11aa" name="Search sessions" type="LoopEnd">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="375" w="90" h="30" />
    <onsuccess>8bcfdb15-227c-42bf-86d1-cc2dc0dfe1c5</onsuccess>
    <groupid>791d2b68-7b4f-461d-b914-6273edeba3ce</groupid>
  </stage>
  <stage stageid="553b69f7-a8a8-4f09-ab15-471fc50bfca3" name="Return to Collection" type="Calculation">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="60" w="90" h="30" />
    <onsuccess>99148cd5-ee69-45bb-b68f-2240334fc818</onsuccess>
    <calculation expression="[Default Result Collection.items]" stage="Result Collection" />
  </stage>
  <stage stageid="85923420-1c54-48c7-9737-b417f0012f18" name="Check that the 2nd session show" type="Decision">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="330" y="285" w="90" h="30" />
    <decision expression="[Result Collection.JSON:Array.sessionNumber]=[Row 2 Session Number]" />
    <ontrue>08843a9a-8a8d-4aac-b4e1-5d1f34da1d3a</ontrue>
    <onfalse>105050cd-43c9-4d22-a1c4-b5f97e9dff22</onfalse>
  </stage>
  <stage stageid="8bcfdb15-227c-42bf-86d1-cc2dc0dfe1c5" name="Session not found" type="Exception">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="420" y="375" />
    <exception localized="yes" type="&quot; Session not found&quot;" detail="&quot;Scenario 2 failed: Expect the 2nd session to be found but it was not found when Navigate back to previous page using paginationToken&quot;" />
  </stage>
  <stage stageid="e67fdb5c-00ad-44a8-8506-9886a087ae06" name="Pagination Token Returned?" type="Decision">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="330" y="420" w="90" h="30" />
    <decision expression="[Default Result Collection.pagingToken]&lt;&gt;&quot;&quot;" />
    <ontrue>d29c8596-3003-4eef-bfc9-93abedb94882</ontrue>
    <onfalse>0524db2a-63da-4465-a374-19eb5cd296a4</onfalse>
  </stage>
  <stage stageid="0524db2a-63da-4465-a374-19eb5cd296a4" name="Pagination Token unexpectedly was returned" type="Exception">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="420" y="420" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Scenario 2 failed when checking Navigate back to previous page using paginationToken: Pagination token was expected to be returned&quot;" />
  </stage>
  <stage stageid="6c2d7739-f687-4efa-b09e-3ac705b571e3" name="Anchor7" type="Anchor">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="270" y="420" w="10" h="10" />
    <onsuccess>e67fdb5c-00ad-44a8-8506-9886a087ae06</onsuccess>
  </stage>
  <stage stageid="08843a9a-8a8d-4aac-b4e1-5d1f34da1d3a" name="Anchor8" type="Anchor">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="270" y="285" w="10" h="10" />
    <onsuccess>6c2d7739-f687-4efa-b09e-3ac705b571e3</onsuccess>
  </stage>
  <stage stageid="fa9574d1-ccd5-40f0-baee-d9913225c4a2" name="Response Code and Session Count correct?" type="Decision">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="330" y="150" w="90" h="30" />
    <decision expression="[HTTP Status Code]=&quot;200&quot;&#xA;AND&#xA;[Number of Rows Returned]=1&#xA;AND&#xA;[Result Collection.JSON:Array.processName]=[Expected Process Name]&#xA;AND&#xA;[Result Collection.JSON:Array.status]=[Expected Status]" />
    <ontrue>b8ba4d0f-8425-4e6b-a8ae-fa0f445bc03e</ontrue>
    <onfalse>1c446f1f-480a-44b9-a7ee-9768209fe9d6</onfalse>
  </stage>
  <stage stageid="94694f1e-96f9-4846-b53c-aa7c2692957c" name="Response Code and Session Count correct?" type="Decision">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="330" y="780" w="90" h="30" />
    <decision expression="[HTTP Status Code]=&quot;200&quot;&#xA;AND&#xA;[Number of Rows Returned]=11" />
    <ontrue>71777ad4-ffb3-413d-bdea-19b81db58921</ontrue>
    <onfalse>be9a418f-2333-4a30-a00c-9cad02ed5837</onfalse>
  </stage>
  <stage stageid="f1025d94-774d-4b43-b7b8-c8de42f874f5" name="Convert Response to Collection" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="645" w="90" h="30" />
    <inputs>
      <input type="text" name="json" friendlyname="json" expr="[Response Content]" />
    </inputs>
    <outputs>
      <output type="collection" name="Result" friendlyname="Result" stage="Default Result Collection" />
    </outputs>
    <onsuccess>06254c6c-8dc5-4efb-a158-21b0d56a078c</onsuccess>
    <resource object="Utility - JSON" action="JSON to Collection" />
  </stage>
  <stage stageid="af27c457-905f-4ba7-b42a-5fbb2c20f7cf" name="Count Rows" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="735" w="90" h="30" />
    <inputs>
      <input type="text" name="Collection Name" friendlyname="Collection Name" narrative="The name of the collection to act upon" expr="&quot;Result Collection&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The number of rows counted in the collection" stage="Number of Rows Returned" />
    </outputs>
    <onsuccess>94694f1e-96f9-4846-b53c-aa7c2692957c</onsuccess>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Count Rows" />
  </stage>
  <stage stageid="be9a418f-2333-4a30-a00c-9cad02ed5837" name="FAIL" type="Exception">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="420" y="780" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Incorrect response returned scenario 2 - Check itemsPerPage = 1000 and paginationToken no values&quot;" />
  </stage>
  <stage stageid="84ef50bf-fbca-4ddd-a5a6-7a29095564ba" name="GET Sessions" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="600" w="90" h="30" />
    <inputs>
      <input type="text" name="Process name starts with" friendlyname="Process name starts with" expr="" />
      <input type="number" name="Session number starts with" friendlyname="Session number starts with" expr="" />
      <input type="text" name="Resource name starts with" friendlyname="Resource name starts with" expr="" />
      <input type="text" name="Username starts with" friendlyname="Username starts with" expr="" />
      <input type="text" name="Status" friendlyname="Status" expr="" />
      <input type="datetime" name="Start time greater than" friendlyname="Start time greater than" expr="[Expected start time]" />
      <input type="datetime" name="Start time less than" friendlyname="Start time less than" expr="" />
      <input type="datetime" name="End time greater than" friendlyname="End time greater than" expr="" />
      <input type="datetime" name="End time less than" friendlyname="End time less than" expr="" />
      <input type="text" name="Latest stage starts with" friendlyname="Latest stage starts with" expr="" />
      <input type="datetime" name="Stage started greater than" friendlyname="Stage started greater than" expr="" />
      <input type="datetime" name="Stage started less than" friendlyname="Stage started less than" expr="" />
      <input type="text" name="Sort by" friendlyname="Sort by" expr="" />
      <input type="number" name="Items per page" friendlyname="Items per page" expr="1000" />
      <input type="text" name="Pagination Token" friendlyname="Pagination Token" expr="" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="Response Content" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Status Code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>f1025d94-774d-4b43-b7b8-c8de42f874f5</onsuccess>
    <resource object="Blue Prism - API - Sessions" action="GET Sessions" />
  </stage>
  <stage stageid="30497d1c-a66d-48b8-93a7-f5e04a0ba449" name="Search through rows" type="LoopStart">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="870" w="90" h="30" />
    <onsuccess>3a1476a9-3253-4c63-ab9e-c940399a371c</onsuccess>
    <groupid>349cb8af-b279-4e73-987b-8681073f0b2e</groupid>
    <looptype>ForEach</looptype>
    <loopdata>Result Collection.JSON:Array</loopdata>
  </stage>
  <stage stageid="d6a95f87-603b-4e60-86b3-9d922e483c54" name="Search through rows" type="LoopEnd">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="960" w="90" h="30" />
    <onsuccess>64015aac-84b9-459a-be8d-58a3d6d2316e</onsuccess>
    <groupid>349cb8af-b279-4e73-987b-8681073f0b2e</groupid>
  </stage>
  <stage stageid="71777ad4-ffb3-413d-bdea-19b81db58921" name="Search sessions" type="LoopStart">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="825" w="90" h="30" />
    <onsuccess>30497d1c-a66d-48b8-93a7-f5e04a0ba449</onsuccess>
    <groupid>9545ca23-e461-4913-b216-c6fd87471827</groupid>
    <looptype>ForEach</looptype>
    <loopdata>Result Collection</loopdata>
  </stage>
  <stage stageid="64015aac-84b9-459a-be8d-58a3d6d2316e" name="Search sessions" type="LoopEnd">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="1005" w="90" h="30" />
    <onsuccess>80b12590-0fe7-41a5-8263-c77b9b42ab57</onsuccess>
    <groupid>9545ca23-e461-4913-b216-c6fd87471827</groupid>
  </stage>
  <stage stageid="06254c6c-8dc5-4efb-a158-21b0d56a078c" name="Return to Collection" type="Calculation">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="690" w="90" h="30" />
    <onsuccess>af27c457-905f-4ba7-b42a-5fbb2c20f7cf</onsuccess>
    <calculation expression="[Default Result Collection.items]" stage="Result Collection" />
  </stage>
  <stage stageid="3a1476a9-3253-4c63-ab9e-c940399a371c" name="Check that the 11th session show" type="Decision">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="330" y="915" w="90" h="30" />
    <decision expression="[Result Collection.JSON:Array.processName]=[Expected Process Name 2]" />
    <ontrue>da6408de-6bfa-48f5-8f97-b176d634c4f2</ontrue>
    <onfalse>d6a95f87-603b-4e60-86b3-9d922e483c54</onfalse>
  </stage>
  <stage stageid="80b12590-0fe7-41a5-8263-c77b9b42ab57" name="Session not found" type="Exception">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="420" y="1005" />
    <exception localized="yes" type="&quot; Session not found&quot;" detail="&quot;Scenario 2 failed: Expect the 11th session to be found but it was not found when pagination values were entered for page 2 and items per page is left at default values&quot;" />
  </stage>
  <stage stageid="9b2957fe-118c-453c-aba8-5b70449fbbab" name="Pagination Token Returned?" type="Decision">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="330" y="1050" w="90" h="30" />
    <decision expression="[Default Result Collection.pagingToken]&lt;&gt;&quot;&quot;" />
    <ontrue>bd6c6edd-f45a-4f63-b354-e84afec6987f</ontrue>
    <onfalse>f1cd45bc-b659-4b8a-a295-03312d828707</onfalse>
  </stage>
  <stage stageid="bd6c6edd-f45a-4f63-b354-e84afec6987f" name="Pagination Token unexpectedly was returned" type="Exception">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="420" y="1050" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Scenario 2 failed when checking default values and page #2: Pagination token was not expected to return as this is the last page&quot;" />
  </stage>
  <stage stageid="7b889068-ccc8-413a-b7fc-3ec235e284fe" name="Anchor7" type="Anchor">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="270" y="1050" w="10" h="10" />
    <onsuccess>9b2957fe-118c-453c-aba8-5b70449fbbab</onsuccess>
  </stage>
  <stage stageid="da6408de-6bfa-48f5-8f97-b176d634c4f2" name="Anchor8" type="Anchor">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="270" y="915" w="10" h="10" />
    <onsuccess>7b889068-ccc8-413a-b7fc-3ec235e284fe</onsuccess>
  </stage>
  <stage stageid="f1cd45bc-b659-4b8a-a295-03312d828707" name="When:" type="Note">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <narrative>WHEN itemsPerPage and itemsPerPage filters are used with other filters
AND Get sessions was requested
THEN a response code of 200 should be returned
AND the sessions can still be returned</narrative>
    <display x="330" y="1140" w="240" h="90" />
    <onsuccess>b87a98dc-04d3-4527-a969-c0fd8a458a16</onsuccess>
  </stage>
  <stage stageid="55383b8f-b175-42bf-a5da-ec4259f291f4" name="itemsPerPage + Multiple filters " type="Block">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="210" y="1200" w="255" h="285" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="6834607e-e795-47f4-9697-a5b29977c996" name="Convert Response to Collection" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="1275" w="90" h="30" />
    <inputs>
      <input type="text" name="json" friendlyname="json" expr="[Response Content]" />
    </inputs>
    <outputs>
      <output type="collection" name="Result" friendlyname="Result" stage="Default Result Collection" />
    </outputs>
    <onsuccess>400cd76b-4f36-494e-b006-469b68a98331</onsuccess>
    <resource object="Utility - JSON" action="JSON to Collection" />
  </stage>
  <stage stageid="4ae19c29-56b1-4237-9f06-09b475922104" name="Count Rows" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="1365" w="90" h="30" />
    <inputs>
      <input type="text" name="Collection Name" friendlyname="Collection Name" narrative="The name of the collection to act upon" expr="&quot;Result Collection&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The number of rows counted in the collection" stage="Number of Rows Returned" />
    </outputs>
    <onsuccess>74ee0055-5908-4e3c-9743-68f643e9436f</onsuccess>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Count Rows" />
  </stage>
  <stage stageid="bdef2a51-fcf8-43e0-aa81-49ca5fba5704" name="FAIL" type="Exception">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="420" y="1410" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Incorrect response returned scenario 2 - check itemsPerPage + Multiple filters&quot;" />
  </stage>
  <stage stageid="400cd76b-4f36-494e-b006-469b68a98331" name="Return to Collection" type="Calculation">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="1320" w="90" h="30" />
    <onsuccess>4ae19c29-56b1-4237-9f06-09b475922104</onsuccess>
    <calculation expression="[Default Result Collection.items]" stage="Result Collection" />
  </stage>
  <stage stageid="fc2805a0-70e6-4b0e-80ad-90bcfc356bab" name="Store Pagination Token for Navigating" type="Calculation">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="1455" w="90" h="30" />
    <onsuccess>56a38de7-70f8-4a90-b0c3-c6b90f64517b</onsuccess>
    <calculation expression="[Default Result Collection.pagingToken]" stage="Pagination Token for multiple filters page 2" />
  </stage>
  <stage stageid="01a409d4-031c-4aa4-813b-f3d82a956e41" name="Response Code and Session Number 2 Found?" type="Decision">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="330" y="1815" w="90" h="30" />
    <decision expression="[HTTP Status Code]=&quot;200&quot;&#xA;AND&#xA;[Number of Rows Returned]=1&#xA;AND&#xA;[Result Collection.JSON:Array.processName]=[Expected Process Name]&#xA;AND&#xA;[Result Collection.JSON:Array.status]=[Result Collection.JSON:Array.status]&#xA;AND&#xA;[Result Collection.JSON:Array.userName]=[Expected User]&#xA;AND&#xA;[Result Collection.JSON:Array.startTime]&gt;=[Expected start time]&#xA;AND&#xA;[Result Collection.JSON:Array.endTime]&lt;=[Expected end time]&#xA;AND&#xA;[Result Collection.JSON:Array.latestStage]=&quot;Start&quot;&#xA;AND&#xA;[Result Collection.JSON:Array.stageStarted]&gt;=[Expected start time]&#xA;AND&#xA;[Result Collection.JSON:Array.resourceName]=[Expected resource name]&#xA;AND&#xA;[Result Collection.JSON:Array.sessionNumber]=[Row 2 Session Number]" />
    <ontrue>9acd575d-2556-40d9-addf-8aec2cf397e7</ontrue>
    <onfalse>1eba4fb9-c483-433e-8c72-1e1fab873105</onfalse>
  </stage>
  <stage stageid="3634c4ed-46c8-45e4-8993-dcded0f468ab" name="itemsPerPage + Multiple filters + paginationToken page #2 and #3" type="Block">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="210" y="1605" w="255" h="330" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="ab1974c4-2cdb-4db7-b6a7-08a2b1d65ebf" name="Convert Response to Collection" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="1680" w="90" h="30" />
    <inputs>
      <input type="text" name="json" friendlyname="json" expr="[Response Content]" />
    </inputs>
    <outputs>
      <output type="collection" name="Result" friendlyname="Result" stage="Default Result Collection" />
    </outputs>
    <onsuccess>73f8ac39-20ec-49d9-a8bc-dbcd421a1582</onsuccess>
    <resource object="Utility - JSON" action="JSON to Collection" />
  </stage>
  <stage stageid="21f7da07-2d94-4b28-a2a6-16e2d8f2d287" name="Count Rows" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="1770" w="90" h="30" />
    <inputs>
      <input type="text" name="Collection Name" friendlyname="Collection Name" narrative="The name of the collection to act upon" expr="&quot;Result Collection&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The number of rows counted in the collection" stage="Number of Rows Returned" />
    </outputs>
    <onsuccess>01a409d4-031c-4aa4-813b-f3d82a956e41</onsuccess>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Count Rows" />
  </stage>
  <stage stageid="1eba4fb9-c483-433e-8c72-1e1fab873105" name="FAIL" type="Exception">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="420" y="1815" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Incorrect response returned scenario 2 - check itemsPerPage + Multiple filters + paginationToken page #2 and #3&quot;" />
  </stage>
  <stage stageid="73f8ac39-20ec-49d9-a8bc-dbcd421a1582" name="Return to Collection" type="Calculation">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="1725" w="90" h="30" />
    <onsuccess>21f7da07-2d94-4b28-a2a6-16e2d8f2d287</onsuccess>
    <calculation expression="[Default Result Collection.items]" stage="Result Collection" />
  </stage>
  <stage stageid="56a38de7-70f8-4a90-b0c3-c6b90f64517b" name="When:" type="Note">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <narrative>WHEN other filters are used with paginationToken 
AND Get sessions was requested
THEN a response code of 200 should be returned
AND the sessions can still be returned</narrative>
    <display x="330" y="1545" w="240" h="90" />
    <onsuccess>df61b907-ceb0-4eca-ac05-dd6cf5b4810a</onsuccess>
  </stage>
  <stage stageid="b87a98dc-04d3-4527-a969-c0fd8a458a16" name="GET Sessions" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="1230" w="90" h="30" />
    <inputs>
      <input type="text" name="Process name starts with" friendlyname="Process name starts with" expr="&quot;Process&quot;" />
      <input type="number" name="Session number starts with" friendlyname="Session number starts with" expr="" />
      <input type="text" name="Resource name starts with" friendlyname="Resource name starts with" expr="[Expected resource name]" />
      <input type="text" name="Username starts with" friendlyname="Username starts with" expr="[Expected User]" />
      <input type="text" name="Status" friendlyname="Status" expr="[Expected Status]" />
      <input type="datetime" name="Start time greater than" friendlyname="Start time greater than" expr="[Expected start time]" />
      <input type="datetime" name="Start time less than" friendlyname="Start time less than" expr="" />
      <input type="datetime" name="End time greater than" friendlyname="End time greater than" expr="" />
      <input type="datetime" name="End time less than" friendlyname="End time less than" expr="[Expected end time]" />
      <input type="text" name="Latest stage starts with" friendlyname="Latest stage starts with" expr="&quot;Start&quot;" />
      <input type="datetime" name="Stage started greater than" friendlyname="Stage started greater than" expr="[Expected start time]" />
      <input type="datetime" name="Stage started less than" friendlyname="Stage started less than" expr="" />
      <input type="text" name="Sort by" friendlyname="Sort by" expr="&quot;SessionNumberAsc&quot;" />
      <input type="number" name="Items per page" friendlyname="Items per page" expr="1" />
      <input type="text" name="Pagination Token" friendlyname="Pagination Token" expr="" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="Response Content" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Status Code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>6834607e-e795-47f4-9697-a5b29977c996</onsuccess>
    <resource object="Blue Prism - API - Sessions" action="GET Sessions" />
  </stage>
  <stage stageid="74ee0055-5908-4e3c-9743-68f643e9436f" name="Response Code and Session Number 1 Found?" type="Decision">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="330" y="1410" w="90" h="30" />
    <decision expression="[HTTP Status Code]=&quot;200&quot;&#xA;AND&#xA;[Number of Rows Returned]=1&#xA;AND&#xA;[Result Collection.JSON:Array.processName]=[Expected Process Name]&#xA;AND&#xA;[Result Collection.JSON:Array.status]=[Result Collection.JSON:Array.status]&#xA;AND&#xA;[Result Collection.JSON:Array.userName]=[Expected User]&#xA;AND&#xA;[Result Collection.JSON:Array.startTime]&gt;=[Expected start time]&#xA;AND&#xA;[Result Collection.JSON:Array.endTime]&lt;=[Expected end time]&#xA;AND&#xA;[Result Collection.JSON:Array.latestStage]=&quot;Start&quot;&#xA;AND&#xA;[Result Collection.JSON:Array.stageStarted]&gt;=[Expected start time]&#xA;AND&#xA;[Result Collection.JSON:Array.resourceName]=[Expected resource name]&#xA;AND&#xA;[Result Collection.JSON:Array.sessionNumber]=[Row 1 Session Number]" />
    <ontrue>fc2805a0-70e6-4b0e-80ad-90bcfc356bab</ontrue>
    <onfalse>bdef2a51-fcf8-43e0-aa81-49ca5fba5704</onfalse>
  </stage>
  <stage stageid="df61b907-ceb0-4eca-ac05-dd6cf5b4810a" name="GET Sessions" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="1635" w="90" h="30" />
    <inputs>
      <input type="text" name="Process name starts with" friendlyname="Process name starts with" expr="&quot;Process&quot;" />
      <input type="number" name="Session number starts with" friendlyname="Session number starts with" expr="" />
      <input type="text" name="Resource name starts with" friendlyname="Resource name starts with" expr="[Expected resource name]" />
      <input type="text" name="Username starts with" friendlyname="Username starts with" expr="[Expected User]" />
      <input type="text" name="Status" friendlyname="Status" expr="[Expected Status]" />
      <input type="datetime" name="Start time greater than" friendlyname="Start time greater than" expr="[Expected start time]" />
      <input type="datetime" name="Start time less than" friendlyname="Start time less than" expr="" />
      <input type="datetime" name="End time greater than" friendlyname="End time greater than" expr="" />
      <input type="datetime" name="End time less than" friendlyname="End time less than" expr="[Expected end time]" />
      <input type="text" name="Latest stage starts with" friendlyname="Latest stage starts with" expr="&quot;Start&quot;" />
      <input type="datetime" name="Stage started greater than" friendlyname="Stage started greater than" expr="[Expected start time]" />
      <input type="datetime" name="Stage started less than" friendlyname="Stage started less than" expr="" />
      <input type="text" name="Sort by" friendlyname="Sort by" expr="&quot;SessionNumberAsc&quot;" />
      <input type="number" name="Items per page" friendlyname="Items per page" expr="1" />
      <input type="text" name="Pagination Token" friendlyname="Pagination Token" expr="[Pagination Token for multiple filters page 2]" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="Response Content" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Status Code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>ab1974c4-2cdb-4db7-b6a7-08a2b1d65ebf</onsuccess>
    <resource object="Blue Prism - API - Sessions" action="GET Sessions" />
  </stage>
  <stage stageid="771daac8-2ad0-4c5a-b121-c7fea5af8cc4" name="itemsPerPage + Multiple filters + paginationToken navigating back to page #1" type="Block">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="210" y="2055" w="255" h="285" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="ae9409d4-3aab-479e-917d-5713f50516ab" name="Convert Response to Collection" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="2130" w="90" h="30" />
    <inputs>
      <input type="text" name="json" friendlyname="json" expr="[Response Content]" />
    </inputs>
    <outputs>
      <output type="collection" name="Result" friendlyname="Result" stage="Default Result Collection" />
    </outputs>
    <onsuccess>cf5d9fb2-10f3-467a-a520-599296a0de74</onsuccess>
    <resource object="Utility - JSON" action="JSON to Collection" />
  </stage>
  <stage stageid="c9dd45e7-bd5f-4b04-b022-a8a2aad13e31" name="Count Rows" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="2220" w="90" h="30" />
    <inputs>
      <input type="text" name="Collection Name" friendlyname="Collection Name" narrative="The name of the collection to act upon" expr="&quot;Result Collection&quot;" />
    </inputs>
    <outputs>
      <output type="number" name="Count" friendlyname="Count" narrative="The number of rows counted in the collection" stage="Number of Rows Returned" />
    </outputs>
    <onsuccess>14ffb954-29b5-4d20-b9e8-a43b8f096f96</onsuccess>
    <resource object="Blueprism.AutomateProcessCore.clsCollectionActions" action="Count Rows" />
  </stage>
  <stage stageid="0e6f8330-2dce-46a4-90b1-f731d2d4641c" name="FAIL" type="Exception">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="420" y="2265" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Incorrect response returned scenario 2 - check itemsPerPage + Multiple filters + paginationToken navigating back to page #1&quot;" />
  </stage>
  <stage stageid="cf5d9fb2-10f3-467a-a520-599296a0de74" name="Return to Collection" type="Calculation">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="2175" w="90" h="30" />
    <onsuccess>c9dd45e7-bd5f-4b04-b022-a8a2aad13e31</onsuccess>
    <calculation expression="[Default Result Collection.items]" stage="Result Collection" />
  </stage>
  <stage stageid="c38c8b3f-ec89-4da2-af47-a1de3f373229" name="When:" type="Note">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <narrative>WHEN other filters are used with paginationToken 
AND a user wishes to navigate backwards
AND Get sessions was requested with previous page's pagingToken
THEN a response code of 200 should be returned
AND the previous page can still be navigated to</narrative>
    <display x="330" y="1995" w="240" h="90" />
    <onsuccess>f8730b94-5a3d-49f1-a78e-6bdbad655283</onsuccess>
  </stage>
  <stage stageid="f8730b94-5a3d-49f1-a78e-6bdbad655283" name="GET Sessions" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="2085" w="90" h="30" />
    <inputs>
      <input type="text" name="Process name starts with" friendlyname="Process name starts with" expr="&quot;Process&quot;" />
      <input type="number" name="Session number starts with" friendlyname="Session number starts with" expr="" />
      <input type="text" name="Resource name starts with" friendlyname="Resource name starts with" expr="[Expected resource name]" />
      <input type="text" name="Username starts with" friendlyname="Username starts with" expr="[Expected User]" />
      <input type="text" name="Status" friendlyname="Status" expr="[Expected Status]" />
      <input type="datetime" name="Start time greater than" friendlyname="Start time greater than" expr="[Expected start time]" />
      <input type="datetime" name="Start time less than" friendlyname="Start time less than" expr="" />
      <input type="datetime" name="End time greater than" friendlyname="End time greater than" expr="" />
      <input type="datetime" name="End time less than" friendlyname="End time less than" expr="[Expected end time]" />
      <input type="text" name="Latest stage starts with" friendlyname="Latest stage starts with" expr="&quot;Start&quot;" />
      <input type="datetime" name="Stage started greater than" friendlyname="Stage started greater than" expr="[Expected start time]" />
      <input type="datetime" name="Stage started less than" friendlyname="Stage started less than" expr="" />
      <input type="text" name="Sort by" friendlyname="Sort by" expr="&quot;SessionNumberAsc&quot;" />
      <input type="number" name="Items per page" friendlyname="Items per page" expr="1" />
      <input type="text" name="Pagination Token" friendlyname="Pagination Token" expr="[Pagination Token for multiple filters page 2]" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="Response Content" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Status Code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>ae9409d4-3aab-479e-917d-5713f50516ab</onsuccess>
    <resource object="Blue Prism - API - Sessions" action="GET Sessions" />
  </stage>
  <stage stageid="b2d9fffc-f9dd-4c3c-aabf-e73689f7089c" name="End4" type="End">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="2370" />
  </stage>
  <stage stageid="9acd575d-2556-40d9-addf-8aec2cf397e7" name="Store Pagination Token for Navigating" type="Calculation">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="1860" w="90" h="30" />
    <onsuccess>c334d193-f04c-49b7-bf88-9192eb385cf7</onsuccess>
    <calculation expression="[Default Result Collection.pagingToken]" stage="Pagination Token for multiple filters page 3" />
  </stage>
  <stage stageid="c334d193-f04c-49b7-bf88-9192eb385cf7" name="GET Sessions" type="Action">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="330" y="1905" w="90" h="30" />
    <inputs>
      <input type="text" name="Process name starts with" friendlyname="Process name starts with" expr="&quot;Process&quot;" />
      <input type="number" name="Session number starts with" friendlyname="Session number starts with" expr="" />
      <input type="text" name="Resource name starts with" friendlyname="Resource name starts with" expr="[Expected resource name]" />
      <input type="text" name="Username starts with" friendlyname="Username starts with" expr="[Expected User]" />
      <input type="text" name="Status" friendlyname="Status" expr="[Expected Status]" />
      <input type="datetime" name="Start time greater than" friendlyname="Start time greater than" expr="[Expected start time]" />
      <input type="datetime" name="Start time less than" friendlyname="Start time less than" expr="" />
      <input type="datetime" name="End time greater than" friendlyname="End time greater than" expr="" />
      <input type="datetime" name="End time less than" friendlyname="End time less than" expr="[Expected end time]" />
      <input type="text" name="Latest stage starts with" friendlyname="Latest stage starts with" expr="&quot;Start&quot;" />
      <input type="datetime" name="Stage started greater than" friendlyname="Stage started greater than" expr="[Expected start time]" />
      <input type="datetime" name="Stage started less than" friendlyname="Stage started less than" expr="" />
      <input type="text" name="Sort by" friendlyname="Sort by" expr="&quot;SessionNumberAsc&quot;" />
      <input type="number" name="Items per page" friendlyname="Items per page" expr="1" />
      <input type="text" name="Pagination Token" friendlyname="Pagination Token" expr="[Pagination Token for multiple filters page 3]" />
    </inputs>
    <outputs>
      <output type="text" name="Response Content" friendlyname="Response Content" stage="Response Content" />
      <output type="text" name="HTTP Status Code" friendlyname="HTTP Status Code" stage="HTTP Status Code" />
      <output type="collection" name="Response Headers" friendlyname="Response Headers" stage="" />
    </outputs>
    <onsuccess>c38c8b3f-ec89-4da2-af47-a1de3f373229</onsuccess>
    <resource object="Blue Prism - API - Sessions" action="GET Sessions" />
  </stage>
  <stage stageid="3f8b407b-3ff0-4452-9dc7-1e1edbfb9794" name="Note4" type="Note">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <narrative>&lt;------ We want to go to page 3 in order to go back to page 2 because to go back to page one, this requires no token.</narrative>
    <display x="540" y="1905" w="120" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="339966" />
  </stage>
  <stage stageid="14ffb954-29b5-4d20-b9e8-a43b8f096f96" name="Response Code and Session Number 2 Found?" type="Decision">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="330" y="2265" w="90" h="30" />
    <decision expression="[HTTP Status Code]=&quot;200&quot;&#xA;AND&#xA;[Number of Rows Returned]=1&#xA;AND&#xA;[Result Collection.JSON:Array.processName]=[Expected Process Name]&#xA;AND&#xA;[Result Collection.JSON:Array.status]=[Result Collection.JSON:Array.status]&#xA;AND&#xA;[Result Collection.JSON:Array.userName]=[Expected User]&#xA;AND&#xA;[Result Collection.JSON:Array.startTime]&gt;=[Expected start time]&#xA;AND&#xA;[Result Collection.JSON:Array.endTime]&lt;=[Expected end time]&#xA;AND&#xA;[Result Collection.JSON:Array.latestStage]=&quot;Start&quot;&#xA;AND&#xA;[Result Collection.JSON:Array.stageStarted]&gt;=[Expected start time]&#xA;AND&#xA;[Result Collection.JSON:Array.resourceName]=[Expected resource name]&#xA;AND&#xA;[Result Collection.JSON:Array.sessionNumber]=[Row 2 Session Number]" />
    <ontrue>eb14a68f-b454-49c9-8301-59af5045c08f</ontrue>
    <onfalse>0e6f8330-2dce-46a4-90b1-f731d2d4641c</onfalse>
  </stage>
  <stage stageid="eb14a68f-b454-49c9-8301-59af5045c08f" name="Pagination Token Returned?" type="Decision">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="330" y="2310" w="90" h="30" />
    <decision expression="[Default Result Collection.pagingToken]&lt;&gt;&quot;&quot;" />
    <ontrue>b2d9fffc-f9dd-4c3c-aabf-e73689f7089c</ontrue>
    <onfalse>7dc17206-220f-4256-9a39-a30143ea85ae</onfalse>
  </stage>
  <stage stageid="7dc17206-220f-4256-9a39-a30143ea85ae" name="Pagination Token does not exist" type="Exception">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="420" y="2310" />
    <exception localized="yes" type="Unexpected Response Values" detail="&quot;Scenario 2 failed when checking itemsPerPage + Multiple filters + paginationToken navigating back to page #2: Pagination token was not returned&quot;" />
  </stage>
  <stage stageid="9869483f-b28b-4725-aa2d-e0bc5a1ffe3c" name="Pagination Token for multiple filters page 3" type="Data">
    <subsheetid>13a523ff-14e9-4e81-a2c5-f91df57a0fc7</subsheetid>
    <display x="-195" y="300" w="120" h="30" />
    <datatype>text</datatype>
    <initialvalue />
    <private />
    <alwaysinit />
  </stage>
  <stage stageid="688e92bb-f077-4a4a-9a1e-1a55e7142862" name="Launch" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="0" y="-1035" w="90" h="30" />
    <outputs>
      <output type="number" name="pid" friendlyname="pid" narrative="PID of the process" stage="pid" />
    </outputs>
    <onsuccess>7a60e74a-0439-4a66-b5ae-5e8a27f21bb8</onsuccess>
    <resource object="Blue Prism" action="Launch and Get PID" />
  </stage>
  <stage stageid="7a60e74a-0439-4a66-b5ae-5e8a27f21bb8" name="Attach to System" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <display x="0" y="-990" w="90" h="30" />
    <inputs>
      <input type="number" name="pid" friendlyname="pid" narrative="PID to attach to" expr="[pid]" />
    </inputs>
    <onsuccess>a6130115-8ea8-41ca-b80b-9d7791ecd541</onsuccess>
    <resource object="Blue Prism - System (Parent)" action="Attach to Pid" />
  </stage>
  <stage stageid="a6130115-8ea8-41ca-b80b-9d7791ecd541" name="Sign In Auth Server" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-945" w="90" h="30" />
    <onsuccess>4586173c-1e7c-4000-b7e5-e365b60c6831</onsuccess>
    <resource object="Blue Prism" action="Sign in using Auth Server" />
  </stage>
  <stage stageid="4586173c-1e7c-4000-b7e5-e365b60c6831" name="IMS Server:Attach" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-900" w="90" h="30" />
    <onsuccess>71a868db-b0af-46e0-a2f6-1b7e8a919d26</onsuccess>
    <resource object="IMS Server" action="Attach" />
  </stage>
  <stage stageid="71a868db-b0af-46e0-a2f6-1b7e8a919d26" name="IMS Server:Login" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-855" w="90" h="30" />
    <inputs>
      <input type="text" name="Username" friendlyname="Username" expr="&quot;admin&quot;" />
      <input type="text" name="Password" friendlyname="Password" expr="&quot;Qq1234!!&quot;" />
    </inputs>
    <onsuccess>b0806c04-3c54-4b5a-838f-3c6a771fe198</onsuccess>
    <resource object="IMS Server" action="Login" />
  </stage>
  <stage stageid="b0806c04-3c54-4b5a-838f-3c6a771fe198" name="Setup Credential" type="Action">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="0" y="-795" w="90" h="30" />
    <inputs>
      <input type="flag" name="Requires Login" friendlyname="Requires Login" narrative="Flag indicating if the login info should be given too" expr="True" />
      <input type="text" name="Arguments" friendlyname="Arguments" narrative="The arguments to pass to automatec, not including the authentication info" expr="&quot;/createcredential &quot;&quot;BPE-API-Credential&quot;&quot; ServiceAccount E3NbGuz9G/nSpQWdz6DMROZhtIDHtUhev13wsCV72fY=  /credentialtype OAuth2ClientCredentials&quot;" />
      <input type="text" name="Username" friendlyname="Username" narrative="The username that you want to authenticate against." expr="" />
      <input type="text" name="Password" friendlyname="Password" narrative="The password for the username." expr="" />
    </inputs>
    <outputs>
      <output type="text" name="Output" friendlyname="Output" narrative="The output from the command" stage="" />
    </outputs>
    <onsuccess>72bfa5c9-0b38-4fd5-a5ea-c5e27b371303</onsuccess>
    <resource object="Call AutomateC" action="Call AutomateC" />
  </stage>
  <stage stageid="3504b666-7713-4afd-b26d-ae141462b0ac" name="Credential already exists?" type="Recover">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit />
    <display x="105" y="-795" w="90" h="30" />
    <onsuccess>dc9ae87b-622c-40af-93e3-948d7e30c9f7</onsuccess>
  </stage>
  <stage stageid="dc9ae87b-622c-40af-93e3-948d7e30c9f7" name="Resume1" type="Resume">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit />
    <display x="105" y="-735" w="90" h="30" />
    <onsuccess>72bfa5c9-0b38-4fd5-a5ea-c5e27b371303</onsuccess>
  </stage>
  <stage stageid="9e375f0c-d6c5-41a3-9088-24062008115e" name="Create credential" type="Block">
    <subsheetid>35e4a25d-3be4-4079-9172-6a5adeca098f</subsheetid>
    <loginhibit onsuccess="true" />
    <display x="-60" y="-825" w="225" h="60" />
    <font family="Segoe UI" size="10" style="Regular" color="7FB2E5" />
  </stage>
  <stage stageid="6af8311a-dc31-4973-b774-73818b021020" name="Recover" type="Recover">
    <loginhibit />
    <display x="210" y="-225" />
    <onsuccess>42d690fc-08b5-4699-9ef9-3ac40c7f4eb0</onsuccess>
  </stage>
  <stage stageid="cc3cf5d0-23e9-4fb7-a7d4-0143cff5f796" name="Recover" type="Recover">
    <loginhibit />
    <display x="210" y="-120" />
    <onsuccess>fa92fa3b-ad01-4038-96c1-377000f74faf</onsuccess>
  </stage>
  <stage stageid="ad3785e9-ed27-4a9a-a707-ed65903d154b" name="Recover" type="Recover">
    <loginhibit />
    <display x="210" y="15" />
    <onsuccess>cf95b213-cc12-4dca-9748-032621338765</onsuccess>
  </stage>
</process>